import{d as ce,r as R,o as Ze,q as xt,a as s,n as t,b as l,f as C,a5 as te,e,a6 as re,a7 as kt,a8 as be,v as et,F as M,k as V,t as c,c as g,l as Se,m as ya,w as xe,j as Ye,u as x,y as va,Q as vt,s as ie,g as fe,h as ga}from"./index-jn2-hf1V.js";import{_ as fa}from"./qca-BpvXmiv8.js";import{S as ba}from"./SeasonalThemeProvider-DDXAvB9e.js";import{_ as Ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{C as gt,r as ha}from"./chart-BR_H7_9u.js";import{u as Sa}from"./useProjectHub-roy9Dh8s.js";import"./useTheme-BetD5DwV.js";import"./AtmosphericBackground-CLc6k5PS.js";import"./ScanlineOverlay-DvoZWnBY.js";const xa="#0a1628",ka="#0f2847",wa="#163d66",ft="#1e5a8a",Ca="#2d5a1e",bt="#3d7a2e",$a="#5a9a4a",ht="#c4a44a",Pa="#dac06a",za="#c8d8e8",Ra="#e0e8f0",he="#6a7a8a",Xe="#8a9aaa",Ta="#2a3a4a",Qe="#b0c0d0",Da=ce({__name:"Arcade1942Background",props:{scrollSpeed:{default:.5},enableIslands:{type:Boolean,default:!0},enableClouds:{type:Boolean,default:!0},enablePlane:{type:Boolean,default:!0},opacity:{default:.4}},setup(k){const v=k,S=R(null);let r=null,D=0,$=0,A=!1;function G(d){let i=d;return()=>(i=(i*16807+0)%2147483647,(i-1)/2147483646)}const B=G(1942),_=[];for(let d=0;d<8;d++)_.push({x:B()*.8+.1,y:B()*2e3+200,w:B()*80+40,h:B()*60+30,type:Math.floor(B()*3)});const U=[];for(let d=0;d<6;d++)U.push({x:B()*.9+.05,y:B()*1500+100,w:B()*100+50,h:B()*30+15});let w=0,F=0;function z(d,i,y,n,m){r&&(r.fillStyle=m,r.fillRect(Math.floor(d),Math.floor(i),Math.ceil(y),Math.ceil(n)))}function J(d,i,y){if(!r)return;r.fillStyle=xa,r.fillRect(0,0,d,i);const n=6,m=24,L=Math.ceil(i/m)+2;for(let f=0;f<L;f++){const I=(f*m+y*.8%m)%(i+m)-m,P=f%3===0?ft:f%3===1?wa:ka,q=Math.sin((f+y*.002)*1.3)*20;if(z(q,I,d+40,n,P),f%2===0){const ne=Math.sin(f*2.7+y*.003)*d*.3+d*.3;z(ne,I+n,30,2,ft)}}}function O(d,i,y,n,m){r&&(r.beginPath(),r.ellipse(d,i,y*.6+4,n*.5+4,0,0,Math.PI*2),r.fillStyle=Pa,r.fill(),r.beginPath(),r.ellipse(d,i,y*.55+2,n*.45+2,0,0,Math.PI*2),r.fillStyle=ht,r.fill(),r.beginPath(),r.ellipse(d,i-2,y*.45,n*.35,0,0,Math.PI*2),r.fillStyle=bt,r.fill(),r.beginPath(),r.ellipse(d-y*.1,i-4,y*.25,n*.2,0,0,Math.PI*2),r.fillStyle=$a,r.fill(),m>=1&&(r.beginPath(),r.ellipse(d+y*.15,i+2,y*.15,n*.12,0,0,Math.PI*2),r.fillStyle=Ca,r.fill()),m===2&&(r.beginPath(),r.ellipse(d+y*.7,i+n*.3,y*.15,n*.12,0,0,Math.PI*2),r.fillStyle=ht,r.fill(),r.beginPath(),r.ellipse(d+y*.7,i+n*.3-1,y*.1,n*.08,0,0,Math.PI*2),r.fillStyle=bt,r.fill()))}function ae(d,i,y,n){r&&(r.globalAlpha=.3,r.fillStyle=za,r.beginPath(),r.ellipse(d,i,y*.4,n*.4,0,0,Math.PI*2),r.fill(),r.beginPath(),r.ellipse(d-y*.2,i+2,y*.3,n*.35,0,0,Math.PI*2),r.fill(),r.beginPath(),r.ellipse(d+y*.25,i+1,y*.35,n*.38,0,0,Math.PI*2),r.fill(),r.fillStyle=Ra,r.beginPath(),r.ellipse(d-y*.05,i-n*.1,y*.2,n*.2,0,0,Math.PI*2),r.fill(),r.globalAlpha=1)}function p(d,i,y){if(!r)return;const n=y;r.globalAlpha=.15,r.fillStyle="#000",r.beginPath(),r.ellipse(d+3,i+3,12*n,4*n,0,0,Math.PI*2),r.fill(),r.globalAlpha=1,z(d-22*n,i-2*n,44*n,5*n,Xe),z(d-20*n,i-1*n,40*n,3*n,he),z(d-3*n,i-14*n,6*n,28*n,he),z(d-2*n,i-16*n,4*n,32*n,Xe),z(d-2*n,i-18*n,4*n,4*n,Qe),z(d-1*n,i-20*n,2*n,3*n,he),z(d-2*n,i-6*n,4*n,5*n,Ta),z(d-1*n,i-5*n,2*n,3*n,"#4a6a8a"),z(d-8*n,i+12*n,16*n,3*n,Xe),z(d-6*n,i+13*n,12*n,2*n,he),z(d-14*n,i-4*n,4*n,8*n,he),z(d+10*n,i-4*n,4*n,8*n,he),r.globalAlpha=.4,z(d-14*n,i-7*n,4*n,3*n,Qe),z(d+10*n,i-7*n,4*n,3*n,Qe),r.globalAlpha=1}function W(){if(!S.value||!r)return;const d=S.value.width,i=S.value.height;if(r.imageSmoothingEnabled=!1,r.clearRect(0,0,d,i),$+=v.scrollSpeed,J(d,i,$),v.enableIslands&&!A){const y=$*.6,n=2e3;for(const m of _){const L=m.x*d,f=(m.y+y)%n-100;f>-100&&f<i+100&&O(L,f,m.w,m.h,m.type)}}if(v.enableClouds&&!A){const y=$*.3,n=1500;for(const m of U){const L=m.x*d,f=(m.y+y)%n-50;f>-50&&f<i+50&&ae(L,f,m.w,m.h)}}if(v.enablePlane&&!A){F+=.02,w=Math.sin(F)*8;const y=d*.5+Math.sin(F*.7)*15,n=i*.72+w;p(y,n,1.5)}D=requestAnimationFrame(W)}function K(){S.value&&(S.value.width=window.innerWidth,S.value.height=window.innerHeight,A=window.matchMedia("(max-width: 768px)").matches)}return Ze(()=>{S.value&&(r=S.value.getContext("2d"),K(),window.addEventListener("resize",K),W())}),xt(()=>{D&&cancelAnimationFrame(D),window.removeEventListener("resize",K)}),(d,i)=>(l(),s("canvas",{ref_key:"canvas",ref:S,class:"arcade-1942-bg",style:t({opacity:v.opacity})},null,4))}}),Ia=Ie(Da,[["__scopeId","data-v-22130497"]]),Aa={class:"project-task-list"},La=["placeholder"],Ba=["disabled"],Ea=["onClick"],Na={key:0},Ma=["onClick"],Wa=ce({__name:"ProjectTaskList",props:{tasks:{},showAddForm:{type:Boolean,default:!0},showDelete:{type:Boolean,default:!0},showPriority:{type:Boolean,default:!0},addPlaceholder:{default:"New task..."},accentColor:{default:"#4a6741"},bgColor:{default:"#1a2a3a"}},emits:["add","toggle","delete"],setup(k,{emit:v}){const S=k,r=v,D=R(""),$=R(0);function A(){D.value.trim()&&(r("add",D.value.trim(),$.value),D.value="",$.value=0)}function G(f){if(!f)return"";try{return new Date(f).toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return f}}const B={display:"flex",gap:"0.4rem",marginBottom:"0.75rem",flexWrap:"wrap"},_={flex:"1",minWidth:"150px",fontSize:"0.75rem",padding:"0.4rem",background:S.bgColor,color:"var(--text-bright)",border:`2px solid ${S.accentColor}66`},U={width:"60px",fontSize:"0.65rem",padding:"0.35rem",background:S.bgColor,color:"var(--text-bright)",border:`2px solid ${S.accentColor}66`},w={fontSize:"0.65rem",padding:"0.35rem 0.7rem"},F={textAlign:"center",padding:"1.5rem",color:"var(--text-muted)",fontSize:"0.8rem"},z={display:"flex",flexDirection:"column",gap:"2px"},J=f=>({display:"flex",alignItems:"flex-start",gap:"0.5rem",padding:"0.6rem",background:f?`${S.bgColor}88`:`${S.bgColor}cc`,border:`1px solid ${f?S.accentColor+"22":S.accentColor+"44"}`,borderRadius:"2px",opacity:f?"0.6":"1"}),O={flexShrink:"0",cursor:"pointer",padding:"0.1rem"},ae=f=>({width:"22px",height:"22px",border:`3px solid ${f?"#22c55e":S.accentColor}`,borderRadius:"2px",background:f?"#22c55e":"transparent",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"700",fontSize:"12px"}),p={flex:"1",display:"flex",flexDirection:"column",gap:"0.15rem"},W={display:"flex",alignItems:"center",gap:"0.4rem"},K=f=>({fontSize:"0.55rem",padding:"0.1rem 0.3rem",borderRadius:"2px",fontWeight:"700",background:f<=1?"#ef4444":f<=3?"#f59e0b":"#6b7280",color:"#fff"}),d=f=>({fontSize:"0.8rem",color:f?"var(--text-muted)":"var(--text-bright)",textDecoration:f?"line-through":"none",fontWeight:"500"}),i={fontSize:"0.65rem",color:"var(--text-muted)",lineHeight:"1.4"},y={display:"flex",gap:"0.4rem",flexWrap:"wrap",marginTop:"0.1rem"},n={fontSize:"0.6rem",color:"var(--text-muted)"},m={fontSize:"0.55rem",padding:"0.05rem 0.3rem",background:`${S.accentColor}33`,color:"#c4a747",borderRadius:"2px"},L={padding:"0.1rem 0.35rem",fontSize:"0.55rem",flexShrink:"0"};return(f,I)=>(l(),s("div",Aa,[k.showAddForm?(l(),s("div",{key:0,style:B},[te(e("input",{"onUpdate:modelValue":I[0]||(I[0]=P=>D.value=P),placeholder:k.addPlaceholder,class:"nes-input",style:_,onKeyup:kt(A,["enter"])},null,40,La),[[re,D.value]]),k.showPriority?te((l(),s("select",{key:0,"onUpdate:modelValue":I[1]||(I[1]=P=>$.value=P),class:"nes-select",style:U},[...I[2]||(I[2]=[e("option",{value:0},"â€”",-1),e("option",{value:1},"P1",-1),e("option",{value:3},"P3",-1),e("option",{value:5},"P5",-1),e("option",{value:9},"P9",-1)])],512)),[[be,$.value]]):C("",!0),e("button",{class:"nes-btn is-success",style:w,onClick:A,disabled:!D.value.trim()},"Add",8,Ba)])):C("",!0),k.tasks.length===0?(l(),s("div",{key:1,style:F},[et(f.$slots,"empty",{},()=>[I[3]||(I[3]=e("p",null,"No tasks found.",-1))],!0)])):(l(),s("div",{key:2,style:z},[(l(!0),s(M,null,V(k.tasks,P=>(l(),s("div",{key:P.id,style:t(J(P.status==="completed")),class:"project-task-item"},[e("div",{style:O,onClick:q=>f.$emit("toggle",P.id)},[e("div",{style:t(ae(P.status==="completed"))},[P.status==="completed"?(l(),s("span",Na,"âœ“")):C("",!0)],4)],8,Ea),e("div",{style:p},[e("div",{style:W},[P.priority>=1&&P.priority<=3?(l(),s("span",{key:0,style:t(K(P.priority))},"P"+c(P.priority),5)):C("",!0),e("span",{style:t(d(P.status==="completed"))},c(P.summary),5)]),P.description?(l(),s("div",{key:0,style:i},c(P.description),1)):C("",!0),e("div",{style:y},[P.due?(l(),s("span",{key:0,style:n},c(G(P.due)),1)):C("",!0),(l(!0),s(M,null,V(P.categories,q=>(l(),s("span",{key:q,style:m},c(q),1))),128))])]),k.showDelete?(l(),s("button",{key:0,class:"nes-btn is-error",style:L,onClick:q=>f.$emit("delete",P.id)},"X",8,Ma)):C("",!0)],4))),128))]))]))}}),Ga=Ie(Wa,[["__scopeId","data-v-62f3f32f"]]),Fa=ce({__name:"ProjectGoalCard",props:{goal:{},showDelete:{type:Boolean,default:!0},accentColor:{default:"#4a6741"},bgColor:{default:"#1a2a3a"}},emits:["delete"],setup(k){const v=k,S=g(()=>v.goal.target?Math.round(v.goal.current/v.goal.target*100):0),r=g(()=>({background:`${v.bgColor}cc`,border:`2px solid ${v.accentColor}55`,borderRadius:"4px",padding:"0.75rem"})),D={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.4rem"},$={fontSize:"0.8rem",color:"#c4a747",margin:"0",fontWeight:"600"},A={padding:"0.1rem 0.35rem",fontSize:"0.55rem"},G={display:"flex",alignItems:"baseline",gap:"0.15rem",marginBottom:"0.25rem"},B=g(()=>({fontSize:"1.2rem",fontWeight:"700",color:v.goal.current>=v.goal.target?"#22c55e":"var(--text-bright)"})),_={fontSize:"0.8rem",color:"var(--text-muted)"},U={fontSize:"0.8rem",color:"var(--text-muted)"},w=g(()=>({height:"18px",background:v.bgColor,border:`2px solid ${v.accentColor}44`,borderRadius:"2px",overflow:"hidden",marginTop:"0.4rem"})),F=g(()=>({height:"100%",width:`${Math.min(100,S.value)}%`,background:S.value>=100?"#22c55e":`linear-gradient(90deg, ${v.goal.color||v.accentColor}, ${v.goal.color||v.accentColor}cc)`,transition:"width 0.3s ease"})),z={fontSize:"0.7rem",color:"#c4a747",textAlign:"right",marginTop:"0.2rem"};return(J,O)=>(l(),s("div",{style:t(r.value)},[e("div",{style:D},[e("h3",{style:$},c(k.goal.label),1),k.showDelete?(l(),s("button",{key:0,class:"nes-btn is-error",style:A,onClick:O[0]||(O[0]=ae=>J.$emit("delete",k.goal.id))},"X")):C("",!0)]),e("div",{style:G},[e("span",{style:t(B.value)},"$"+c(k.goal.current.toLocaleString()),5),e("span",{style:_}," / "),e("span",{style:U},"$"+c(k.goal.target.toLocaleString()),1)]),e("div",{style:t(w.value)},[e("div",{style:t(F.value)},null,4)],4),e("div",{style:z},c(S.value)+"%",1),et(J.$slots,"edit")],4))}}),Oa=ce({__name:"ProjectTimelineView",props:{events:{},accentColor:{default:"#4a6741"},goldColor:{default:"#c4a747"}},setup(k){const v=k;function S(z){if(!z)return"";try{return new Date(z).toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return z}}const r={},D={textAlign:"center",padding:"1.5rem",color:"var(--text-muted)",fontSize:"0.8rem"},$={display:"flex",flexDirection:"column",borderLeft:`3px solid ${v.accentColor}55`,marginLeft:"0.5rem",paddingLeft:"1rem"},A={position:"relative",padding:"0.5rem 0",borderBottom:`1px solid ${v.accentColor}22`},G={position:"absolute",left:"-1.35rem",top:"0.65rem",width:"10px",height:"10px",borderRadius:"50%",background:v.accentColor,border:`2px solid ${v.goldColor}`},B={display:"flex",flexDirection:"column",gap:"0.1rem"},_={fontSize:"0.6rem",color:v.goldColor,fontWeight:"600"},U={fontSize:"0.8rem",color:"var(--text-bright)"},w={fontSize:"0.65rem",color:"var(--text-muted)",lineHeight:"1.4"},F={fontSize:"0.55rem",padding:"0.05rem 0.3rem",background:`${v.accentColor}33`,color:v.goldColor,borderRadius:"2px",display:"inline-block",marginTop:"0.15rem"};return(z,J)=>(l(),s("div",{style:r},[k.events.length===0?(l(),s("div",{key:0,style:D},[et(z.$slots,"empty",{},()=>[J[0]||(J[0]=e("p",null,"No events to display.",-1))])])):(l(),s("div",{key:1,style:$},[(l(!0),s(M,null,V(k.events,O=>(l(),s("div",{key:O.id,style:A},[e("div",{style:G}),e("div",{style:B},[e("div",{style:_},c(S(O.startDate)),1),e("div",{style:U},c(O.title),1),O.description?(l(),s("div",{key:0,style:w},c(O.description),1)):C("",!0),O.category?(l(),s("span",{key:1,style:F},c(O.category),1)):C("",!0)])]))),128))]))]))}}),Ua={class:"nav-emoji"},ja=ce({__name:"ProjectQuickLinks",props:{links:{}},setup(k){const v={display:"flex",flexWrap:"wrap",gap:"0.4rem"},S=r=>({fontSize:"0.6rem",padding:"0.35rem 0.6rem",background:r,color:"#fff",textDecoration:"none",display:"flex",alignItems:"center",gap:"0.3rem"});return(r,D)=>(l(),s("div",{style:v},[(l(!0),s(M,null,V(k.links,$=>(l(),Se(ya($.url.startsWith("/")?"router-link":"a"),{key:$.label,to:$.url.startsWith("/")?$.url:void 0,href:$.url.startsWith("/")?void 0:$.url,target:$.url.startsWith("/")?void 0:"_blank",class:"nes-btn",style:t(S($.color))},{default:xe(()=>[e("span",Ua,c($.emoji),1),Ye(" "+c($.label),1)]),_:2},1032,["to","href","target","style"]))),128))]))}}),Va={style:{flex:"1","min-width":"0"}},_a=["value"],Ha=ce({__name:"DecisionGateCard",props:{gate:{},allGates:{default:()=>[]},accentColor:{default:"#4a6741"},bgColor:{default:"#1a2a3a"}},emits:["update"],setup(k){const v=k,S=g(()=>{switch(v.gate.status){case"completed":return"âœ…";case"in-progress":return"â³";case"blocked":return"â›”";default:return"â¬œ"}}),r=g(()=>v.gate.status==="not-started"&&!v.gate.depsReady&&v.gate.dependencies.length>0?"LOCKED":v.gate.status.replace("-"," ").toUpperCase());function D(d){const i=v.allGates.find(y=>y.id===d);return(i==null?void 0:i.label)||d}function $(d){const i=v.allGates.find(n=>n.id===d),y=(i==null?void 0:i.status)==="completed";return{fontSize:"0.55rem",padding:"0.1rem 0.35rem",borderRadius:"2px",background:y?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)",color:y?"#22c55e":"#ef4444",border:`1px solid ${y?"#22c55e44":"#ef444444"}`}}const A=g(()=>{switch(v.gate.status){case"completed":return"#22c55e";case"in-progress":return"#f59e0b";case"blocked":return"#ef4444";default:return`${v.accentColor}55`}}),G=g(()=>({background:`${v.bgColor}cc`,border:`2px solid ${A.value}`,borderRadius:"4px",padding:"0.6rem",marginBottom:"0.5rem",backdropFilter:"blur(4px)"})),B={display:"flex",alignItems:"flex-start",gap:"0.5rem"},_={fontSize:"1rem",lineHeight:"1"},U={fontSize:"0.75rem",color:"#c4a747",margin:"0",fontWeight:"600"},w={fontSize:"0.6rem",color:"var(--text-muted)",margin:"0.15rem 0 0 0"},F=g(()=>({fontSize:"0.5rem",padding:"0.15rem 0.35rem",borderRadius:"2px",fontWeight:"700",whiteSpace:"nowrap",background:A.value+"33",color:A.value,border:`1px solid ${A.value}66`})),z={display:"flex",gap:"0.3rem",alignItems:"center",flexWrap:"wrap",marginTop:"0.4rem"},J={fontSize:"0.55rem",color:"var(--text-muted)"},O={marginTop:"0.3rem",display:"flex",gap:"0.3rem",alignItems:"baseline"},ae={fontSize:"0.55rem",color:"var(--text-muted)",whiteSpace:"nowrap"},p={fontSize:"0.6rem",color:"#22c55e"},W={marginTop:"0.4rem",display:"flex",gap:"0.3rem"},K=g(()=>({fontSize:"0.55rem",padding:"0.2rem 0.3rem",background:v.bgColor,color:"var(--text-bright)",border:`1px solid ${v.accentColor}66`,borderRadius:"2px"}));return(d,i)=>(l(),s("div",{style:t(G.value)},[e("div",{style:B},[e("span",{style:_},c(S.value),1),e("div",Va,[e("h4",{style:U},c(k.gate.label),1),k.gate.description?(l(),s("p",{key:0,style:w},c(k.gate.description),1)):C("",!0)]),e("span",{style:t(F.value)},c(r.value),5)]),k.gate.dependencies.length>0?(l(),s("div",{key:0,style:z},[e("span",{style:J},"Requires:"),(l(!0),s(M,null,V(k.gate.dependencies,y=>(l(),s("span",{key:y,style:t($(y))},c(D(y)),5))),128))])):C("",!0),k.gate.evidence?(l(),s("div",{key:1,style:O},[e("span",{style:ae},"Evidence:"),e("span",{style:p},c(k.gate.evidence),1)])):C("",!0),e("div",{style:W},[e("select",{value:k.gate.status,style:t(K.value),class:"nes-select",onChange:i[0]||(i[0]=y=>d.$emit("update",k.gate.id,{status:y.target.value}))},[...i[1]||(i[1]=[e("option",{value:"not-started"},"Not Started",-1),e("option",{value:"in-progress"},"In Progress",-1),e("option",{value:"blocked"},"Blocked",-1),e("option",{value:"completed"},"Completed",-1)])],44,_a)])],4))}}),Ka="/cmd-api";function qa(k={}){return{"Content-Type":"application/json",...k}}async function E(k,v={}){const S=`${Ka}${k}`,r=await fetch(S,{...v,headers:qa(v.headers||{})});if(!r.ok&&r.status!==201){const D=await r.json().catch(()=>({error:r.statusText}));throw new Error(D.error||`API error ${r.status}`)}return r.json()}const Ja=[{id:"foundation",label:"Foundation",description:"Pre-baby prep"},{id:"paternity",label:"Paternity",description:"Mar-May 2026"},{id:"transition",label:"Transition",description:"Notice & handoff"},{id:"launch",label:"Launch",description:"First clients"},{id:"steady-state",label:"Steady State",description:"Full independence"}];function Xa(){const k=R([]),v=R([]),S=R([]),r=R([]),D=R([]),$=R([]),A=R([]),G=R([]),B=R(new Map),_=R(null),U=R(!1),w=R(null),F=R({total:0,businessTotal:0,personalTotal:0});async function z(){try{const o=await E("/financials/gates");k.value=o.gates||[]}catch(o){w.value=o.message}}async function J(o,h){try{const T=await E(`/financials/gates/${o}`,{method:"PUT",body:JSON.stringify(h)});return await z(),T}catch(T){throw w.value=T.message,T}}async function O(){try{await E("/financials/gates/seed",{method:"POST"}),await z()}catch(o){w.value=o.message}}async function ae(){try{const o=await E("/financials/timeline");v.value=(o.milestones||[]).sort((h,T)=>h.sortOrder-T.sortOrder)}catch(o){w.value=o.message}}async function p(o){try{await E("/financials/timeline",{method:"POST",body:JSON.stringify(o)}),await ae()}catch(h){w.value=h.message}}async function W(){try{const o=await E("/financials/goals");S.value=o.goals||[]}catch(o){w.value=o.message}}async function K(o){try{await E("/financials/goals",{method:"POST",body:JSON.stringify(o)}),await W()}catch(h){w.value=h.message}}async function d(o,h){try{await E(`/financials/goals/${o}`,{method:"PUT",body:JSON.stringify(h)}),await W()}catch(T){w.value=T.message}}async function i(o){try{await E(`/financials/goals/${o}`,{method:"DELETE"}),await W()}catch(h){w.value=h.message}}async function y(){try{await E("/financials/goals/seed",{method:"POST"}),await W()}catch(o){w.value=o.message}}async function n(o){if(!(S.value.length>0))try{const h=localStorage.getItem(o);if(!h)return;const T=JSON.parse(h);if(!Array.isArray(T)||T.length===0)return;for(const H of T)await E("/financials/goals",{method:"POST",body:JSON.stringify({id:H.id,label:H.label,target:H.target,current:H.current,unit:H.unit,color:H.color})});localStorage.removeItem(o),await W()}catch{}}async function m(){try{const o=await E("/financials/risks");r.value=o.risks||[]}catch(o){w.value=o.message}}async function L(o){try{await E("/financials/risks",{method:"POST",body:JSON.stringify(o)}),await m()}catch(h){w.value=h.message}}async function f(o,h){try{await E(`/financials/risks/${o}`,{method:"PUT",body:JSON.stringify(h)}),await m()}catch(T){w.value=T.message}}async function I(o,h){return f(o,{column:h})}async function P(o){try{await E(`/financials/risks/${o}`,{method:"DELETE"}),await m()}catch(h){w.value=h.message}}async function q(){try{await E("/financials/risks/seed",{method:"POST"}),await m()}catch(o){w.value=o.message}}async function ne(){try{const o=await E("/financials/categories");$.value=o.categories||[]}catch(o){w.value=o.message}}async function se(o){try{const h=new URLSearchParams;o!=null&&o.month&&h.set("month",o.month),o!=null&&o.category&&h.set("category",o.category),o!=null&&o.classification&&h.set("classification",o.classification);const T=h.toString()?`?${h}`:"",H=await E(`/financials/expenses${T}`);D.value=H.expenses||[],F.value={total:H.total||0,businessTotal:H.businessTotal||0,personalTotal:H.personalTotal||0}}catch(h){w.value=h.message}}async function ye(o){try{await E("/financials/expenses",{method:"POST",body:JSON.stringify(o)}),await se()}catch(h){w.value=h.message}}async function le(){try{const o=await E("/financials/revenue");A.value=o.streams||[]}catch(o){w.value=o.message}}async function me(o){try{await E("/financials/revenue",{method:"POST",body:JSON.stringify(o)}),await le()}catch(h){w.value=h.message}}async function Z(o,h){try{await E(`/financials/revenue/${o}`,{method:"PUT",body:JSON.stringify(h)}),await le()}catch(T){w.value=T.message}}async function j(o){try{await E(`/financials/revenue/${o}`,{method:"DELETE"}),await le()}catch(h){w.value=h.message}}async function X(){try{await E("/financials/revenue/seed",{method:"POST"}),await le()}catch(o){w.value=o.message}}async function ee(){try{const o=await E("/financials/scenarios");G.value=o.scenarios||[]}catch(o){w.value=o.message}}async function ke(o){try{await E("/financials/scenarios",{method:"POST",body:JSON.stringify(o)}),await ee()}catch(h){w.value=h.message}}async function $e(o,h){try{await E(`/financials/scenarios/${o}`,{method:"PUT",body:JSON.stringify(h)}),await ee()}catch(T){w.value=T.message}}async function Ae(o){try{await E(`/financials/scenarios/${o}`,{method:"DELETE"}),await ee(),B.value.delete(o)}catch(h){w.value=h.message}}async function Le(){try{await E("/financials/scenarios/seed",{method:"POST"}),await ee()}catch(o){w.value=o.message}}async function Pe(o,h){try{const T=h?`?start=${h}`:"",H=await E(`/financials/scenarios/${o}/projection${T}`);return B.value.set(o,H),H}catch(T){return w.value=T.message,null}}async function ze(o){const h=[];for(const T of G.value){const H=await Pe(T.id,o);H&&h.push(H)}return h}async function Be(){try{const o=await E("/financials/rewards/estimate");_.value=o}catch(o){w.value=o.message}}const Ee=g(()=>{if(k.value.length===0)return 0;const o=k.value.filter(h=>h.status==="completed").length;return Math.round(o/k.value.length*100)}),Ne=g(()=>{const h=[...k.value].sort((T,H)=>T.sortOrder-H.sortOrder).find(T=>T.status!=="completed");return(h==null?void 0:h.phase)||"steady-state"}),Me=g(()=>F.value.total),We=g(()=>{const o=new Date().toISOString().slice(0,10);return v.value.filter(T=>T.targetDate&&T.targetDate>=o&&T.status!=="completed").sort((T,H)=>(T.targetDate||"").localeCompare(H.targetDate||""))[0]||null}),Ge=g(()=>r.value.filter(o=>o.column==="known-known")),Fe=g(()=>r.value.filter(o=>o.column==="known-unknown")),Oe=g(()=>r.value.filter(o=>o.column==="mitigated"));async function Re(){U.value=!0;try{await Promise.all([z(),ae(),W(),m(),ne(),se(),le(),ee()]),G.value.length>0&&await ze()}finally{U.value=!1}}return{gates:k,milestones:v,goals:S,risks:r,expenses:D,categories:$,revenueStreams:A,scenarios:G,projections:B,rewards:_,isLoading:U,error:w,expenseTotals:F,gateProgress:Ee,activePhase:Ne,monthlyBurn:Me,nextMilestone:We,knownKnowns:Ge,knownUnknowns:Fe,mitigatedRisks:Oe,fetchGates:z,updateGate:J,seedDefaultGates:O,fetchTimeline:ae,addMilestone:p,fetchGoals:W,addGoal:K,updateGoal:d,removeGoal:i,seedDefaultGoals:y,migrateGoalsFromLocalStorage:n,fetchRisks:m,addRisk:L,updateRisk:f,moveRisk:I,deleteRisk:P,seedDefaultRisks:q,fetchCategories:ne,fetchExpenses:se,addExpense:ye,fetchRevenue:le,addRevenueStream:me,updateRevenueStream:Z,deleteRevenueStream:j,seedDefaultRevenue:X,fetchScenarios:ee,addScenario:ke,updateScenario:$e,deleteScenario:Ae,seedDefaultScenarios:Le,fetchProjection:Pe,fetchAllProjections:ze,fetchRewards:Be,init:Re}}const Qa=["onClick"],Ya={style:{flex:"1","min-width":"0"}},St=ce({__name:"PhaseTimeline",props:{activePhase:{},milestones:{default:()=>[]},accentColor:{default:"#4a6741"},goldColor:{default:"#c4a747"}},emits:["select-phase"],setup(k){const v=k,S=Ja,r=g(()=>S.findIndex(i=>i.id===v.activePhase)),D=g(()=>{var i;return((i=S.find(y=>y.id===v.activePhase))==null?void 0:i.label)||v.activePhase}),$=g(()=>[...v.milestones].sort((i,y)=>{const n=S.findIndex(m=>m.id===i.phase)-S.findIndex(m=>m.id===y.phase);return n!==0?n:(i.targetDate||"").localeCompare(y.targetDate||"")})),A={marginBottom:"1rem"},G={display:"flex",borderRadius:"4px",overflow:"hidden",border:"2px solid rgba(74, 103, 65, 0.4)",height:"32px"};function B(i,y){const n=i===v.activePhase,m=y<r.value;return{flex:"1",display:"flex",alignItems:"center",justifyContent:"center",background:n?v.accentColor:m?"rgba(34, 197, 94, 0.3)":"rgba(26, 42, 58, 0.8)",cursor:"pointer",borderRight:y<S.length-1?"1px solid rgba(74, 103, 65, 0.3)":"none",transition:"background 0.2s",position:"relative"}}function _(i){const y=i===v.activePhase;return{fontSize:"0.5rem",fontWeight:y?"700":"400",color:y?"#fff":"var(--text-muted)",letterSpacing:"0.3px",textTransform:"uppercase"}}const U={display:"flex",alignItems:"center",marginTop:"0.3rem",gap:"0.3rem"},w=g(()=>({width:`${(r.value+.5)/S.length*100}%`})),F={fontSize:"0.55rem",color:"#c4a747",fontWeight:"600",whiteSpace:"nowrap",transform:"translateX(-50%)"},z={marginTop:"0.75rem"},J={fontSize:"0.7rem",color:"#c4a747",margin:"0 0 0.4rem 0",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"};function O(i){return{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.3rem 0",borderBottom:"1px solid rgba(74, 103, 65, 0.15)",opacity:i.status==="completed"?"0.6":"1"}}const ae={fontSize:"0.55rem",color:"var(--text-muted)",minWidth:"4.5rem",fontFamily:"monospace"};function p(i){return{width:"6px",height:"6px",borderRadius:"50%",background:i==="completed"?"#22c55e":i==="active"?"#f59e0b":"var(--text-muted)",flexShrink:"0"}}const W={fontSize:"0.7rem",color:"var(--text-bright)"},K={fontSize:"0.6rem",color:"var(--text-muted)"};function d(i){return{fontSize:"0.45rem",padding:"0.1rem 0.3rem",borderRadius:"2px",background:"rgba(74, 103, 65, 0.2)",color:"var(--text-muted)",textTransform:"uppercase",whiteSpace:"nowrap"}}return(i,y)=>(l(),s("div",{style:A},[e("div",{style:G},[(l(!0),s(M,null,V(x(S),(n,m)=>(l(),s("div",{key:n.id,style:t(B(n.id,m)),onClick:L=>i.$emit("select-phase",n.id)},[e("span",{style:t(_(n.id))},c(n.label),5)],12,Qa))),128))]),e("div",{style:U},[e("div",{style:t(w.value)},null,4),e("span",{style:F},c(D.value)+" Phase",1)]),k.milestones.length>0?(l(),s("div",{key:0,style:z},[e("h4",{style:J},"Milestones"),(l(!0),s(M,null,V($.value,n=>(l(),s("div",{key:n.id,style:t(O(n))},[e("span",{style:ae},c(n.targetDate||"TBD"),1),e("span",{style:t(p(n.status))},null,4),e("div",Ya,[e("span",{style:W},c(n.label),1),n.description?(l(),s("span",{key:0,style:K}," â€” "+c(n.description),1)):C("",!0)]),e("span",{style:t(d(n.phase))},c(n.phase),5)],4))),128))])):C("",!0)]))}}),Za=["onClick","title"],en=["disabled"],tn=ce({__name:"RiskKanbanBoard",props:{risks:{},showAddForm:{type:Boolean,default:!0},accentColor:{default:"#4a6741"},bgColor:{default:"#1a2a3a"}},emits:["move","add","delete"],setup(k,{emit:v}){const S=k,r=v,D=[{id:"known-known",label:"Known Knowns",icon:"âœ…"},{id:"known-unknown",label:"Known Unknowns",icon:"â“"},{id:"mitigated",label:"Mitigated",icon:"ðŸ›¡ï¸"}],$=R(""),A=R("known-unknown"),G=R("medium");function B(Z){return S.risks.filter(j=>j.column===Z)}function _(Z,j){(j==="known-unknown"||j==="known-known")&&r("move",Z.id,"mitigated")}function U(){$.value.trim()&&(r("add",{title:$.value.trim(),column:A.value,impact:G.value,description:""}),$.value="")}const w=g(()=>({display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"0.5rem"})),F={display:"flex",flexDirection:"column",minWidth:"0"};function z(Z){const j={"known-known":"#22c55e","known-unknown":"#f59e0b",mitigated:"#3a7bd5"};return{display:"flex",alignItems:"center",gap:"0.3rem",padding:"0.35rem 0.5rem",background:(j[Z]||"#4a6741")+"22",borderBottom:`2px solid ${j[Z]||"#4a6741"}66`,borderRadius:"4px 4px 0 0",marginBottom:"0.3rem"}}const J={fontSize:"0.7rem"},O={fontSize:"0.55rem",fontWeight:"600",color:"var(--text-bright)",flex:"1"},ae={fontSize:"0.5rem",padding:"0.1rem 0.3rem",borderRadius:"8px",background:"rgba(74, 103, 65, 0.3)",color:"var(--text-muted)"},p={display:"flex",flexDirection:"column",gap:"0.3rem",flex:"1"};function W(Z){return{background:`${S.bgColor}cc`,border:`1px solid ${S.accentColor}44`,borderRadius:"3px",padding:"0.4rem",backdropFilter:"blur(4px)"}}const K={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.2rem"};function d(Z){const j={high:"#ef4444",medium:"#f59e0b",low:"#6b7280"};return{fontSize:"0.45rem",padding:"0.1rem 0.25rem",borderRadius:"2px",fontWeight:"700",background:(j[Z]||"#6b7280")+"33",color:j[Z]||"#6b7280"}}const i={padding:"0.1rem 0.25rem",fontSize:"0.5rem",lineHeight:"1"},y={fontSize:"0.65rem",color:"#c4a747",margin:"0 0 0.15rem 0",fontWeight:"600"},n={fontSize:"0.55rem",color:"var(--text-muted)",margin:"0",lineHeight:"1.3"},m={marginTop:"0.25rem",display:"flex",gap:"0.2rem",alignItems:"baseline"},L={fontSize:"0.5rem",color:"#22c55e",fontWeight:"600"},f={fontSize:"0.5rem",color:"#22c55e"},I={marginTop:"0.2rem",display:"flex",gap:"0.2rem",alignItems:"baseline"},P={fontSize:"0.45rem",color:"var(--text-muted)"},q={fontSize:"0.45rem",color:"#3a7bd5"},ne={textAlign:"center",padding:"1rem 0.5rem",color:"var(--text-muted)",fontSize:"0.6rem",opacity:"0.6"},se=g(()=>({gridColumn:"1 / -1",display:"flex",gap:"0.3rem",marginTop:"0.5rem",flexWrap:"wrap",alignItems:"center"})),ye=g(()=>({flex:"1",minWidth:"150px",fontSize:"0.65rem",padding:"0.3rem",background:S.bgColor,color:"var(--text-bright)",border:`2px solid ${S.accentColor}66`})),le=g(()=>({fontSize:"0.55rem",padding:"0.25rem",background:S.bgColor,color:"var(--text-bright)",border:`1px solid ${S.accentColor}66`,width:"auto"})),me={padding:"0.25rem 0.5rem",fontSize:"0.6rem"};return(Z,j)=>(l(),s("div",{style:t(w.value)},[(l(),s(M,null,V(D,X=>e("div",{key:X.id,style:F},[e("div",{style:t(z(X.id))},[e("span",{style:J},c(X.icon),1),e("span",{style:O},c(X.label),1),e("span",{style:ae},c(B(X.id).length),1)],4),e("div",{style:p},[(l(!0),s(M,null,V(B(X.id),ee=>(l(),s("div",{key:ee.id,style:t(W())},[e("div",{style:K},[e("span",{style:t(d(ee.impact))},c(ee.impact.toUpperCase()),5),X.id!=="mitigated"?(l(),s("button",{key:0,class:"nes-btn",style:i,onClick:ke=>_(ee,X.id),title:X.id==="known-known"?"Already resolved":"Mark mitigated"},c(X.id==="known-unknown"?"â†’":"âœ“"),9,Za)):C("",!0)]),e("h5",{style:y},c(ee.title),1),e("p",{style:n},c(ee.description),1),ee.mitigation?(l(),s("div",{key:0,style:m},[e("span",{style:L},"Resolution:"),e("span",{style:f},c(ee.mitigation),1)])):C("",!0),ee.linkedGateId?(l(),s("div",{key:1,style:I},[e("span",{style:P},"Gate:"),e("span",{style:q},c(ee.linkedGateId),1)])):C("",!0)],4))),128)),B(X.id).length===0?(l(),s("div",{key:0,style:ne}," No items ")):C("",!0)])])),64)),k.showAddForm?(l(),s("div",{key:0,style:t(se.value)},[te(e("input",{"onUpdate:modelValue":j[0]||(j[0]=X=>$.value=X),placeholder:"New risk/fact...",class:"nes-input",style:t(ye.value),onKeyup:kt(U,["enter"])},null,36),[[re,$.value]]),te(e("select",{"onUpdate:modelValue":j[1]||(j[1]=X=>A.value=X),class:"nes-select",style:t(le.value)},[...j[3]||(j[3]=[e("option",{value:"known-known"},"Known",-1),e("option",{value:"known-unknown"},"Unknown",-1)])],4),[[be,A.value]]),te(e("select",{"onUpdate:modelValue":j[2]||(j[2]=X=>G.value=X),class:"nes-select",style:t(le.value)},[...j[4]||(j[4]=[e("option",{value:"high"},"High",-1),e("option",{value:"medium"},"Medium",-1),e("option",{value:"low"},"Low",-1)])],4),[[be,G.value]]),e("button",{class:"nes-btn is-success",style:me,onClick:U,disabled:!$.value.trim()},"+",8,en)],4)):C("",!0)],4))}}),an=Ie(tn,[["__scopeId","data-v-e5723f4e"]]),nn=["onClick"],ln=ce({__name:"ScenarioChart",props:{projections:{},scenarios:{},accentColor:{default:"#4a6741"},bgColor:{default:"#1a2a3a"}},setup(k){gt.register(...ha);const v=k,S=R(null);let r=null;const D=R("cumulative"),$=[{id:"cumulative",label:"Runway"},{id:"monthly",label:"Monthly"},{id:"gross",label:"Gross Rev"}],A=g(()=>{const m=[];return v.projections.forEach(L=>m.push(L)),m});function G(m){const L=v.scenarios.find(f=>f.id===m);return(L==null?void 0:L.color)||v.accentColor}function B(){const m=A.value;if(m.length===0)return{labels:[],datasets:[]};const L=m[0].months.map(I=>I.month),f=m.map(I=>{const P=G(I.scenarioId);let q;switch(D.value){case"cumulative":q=I.months.map(ne=>ne.cumulative);break;case"monthly":q=I.months.map(ne=>ne.netCashFlow);break;case"gross":q=I.months.map(ne=>ne.grossRevenue);break}return{label:I.scenario,data:q,borderColor:P,backgroundColor:P+"22",borderWidth:2,pointRadius:3,pointHoverRadius:5,tension:.3,fill:D.value==="cumulative"}});return(D.value==="cumulative"||D.value==="monthly")&&f.push({label:"Break Even",data:L.map(()=>0),borderColor:"#ef444466",borderWidth:1,borderDash:[5,5],pointRadius:0,fill:!1}),{labels:L,datasets:f}}function _(){if(!S.value)return;const m=S.value.getContext("2d");if(!m)return;r&&r.destroy();const{labels:L,datasets:f}=B();L.length!==0&&(r=new gt(m,{type:"line",data:{labels:L,datasets:f},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"bottom",labels:{color:"#c4a747",font:{size:10,family:'"Press Start 2P", monospace'},padding:12,filter:I=>I.text!=="Break Even"}},tooltip:{backgroundColor:v.bgColor+"ee",titleColor:"#c4a747",bodyColor:"#e5e7eb",borderColor:v.accentColor+"66",borderWidth:1,titleFont:{size:9,family:'"Press Start 2P", monospace'},bodyFont:{size:8,family:'"Press Start 2P", monospace'},callbacks:{label:I=>{if(I.dataset.label==="Break Even")return"";const P=I.parsed.y,q=P>=0?"$":"-$";return`${I.dataset.label}: ${q}${Math.abs(P).toLocaleString()}`}}}},scales:{x:{ticks:{color:"#6b7280",font:{size:7,family:'"Press Start 2P", monospace'},maxRotation:45},grid:{color:"rgba(74, 103, 65, 0.1)"}},y:{ticks:{color:"#6b7280",font:{size:7,family:'"Press Start 2P", monospace'},callback:I=>{const P=Number(I);return Math.abs(P)>=1e3?`$${(P/1e3).toFixed(0)}k`:`$${P}`}},grid:{color:"rgba(74, 103, 65, 0.1)"}}}}}))}function U(m){return Math.abs(m)>=1e3?`${(m/1e3).toFixed(1)}k`:m.toFixed(0)}va([()=>v.projections,D],()=>{vt(_)},{deep:!0}),Ze(()=>{vt(_)});const w={marginBottom:"0.75rem"},F={display:"flex",gap:"0.25rem",marginBottom:"0.5rem"},z={fontSize:"0.5rem",padding:"0.2rem 0.5rem"},J={height:"280px",marginBottom:"0.75rem"},O=g(()=>({display:"grid",gridTemplateColumns:`repeat(${Math.min(A.value.length,3)}, 1fr)`,gap:"0.4rem"}));function ae(m){return{background:`${v.bgColor}cc`,border:`1px solid ${G(m.scenarioId)}55`,borderRadius:"3px",padding:"0.4rem"}}const p={display:"flex",alignItems:"center",gap:"0.3rem",marginBottom:"0.3rem"};function W(m){return{width:"8px",height:"8px",borderRadius:"50%",background:G(m.scenarioId),flexShrink:"0"}}const K={fontSize:"0.55rem",fontWeight:"600",color:"#c4a747"},d={display:"flex",flexDirection:"column",gap:"0.15rem"},i={fontSize:"0.45rem",color:"var(--text-muted)",marginRight:"0.3rem"},y={fontSize:"0.6rem",color:"var(--text-bright)",fontWeight:"600"};function n(m){return{fontSize:"0.6rem",fontWeight:"600",color:m>=0?"#22c55e":"#ef4444"}}return(m,L)=>(l(),s("div",{style:w},[e("div",{style:F},[(l(),s(M,null,V($,f=>e("button",{key:f.id,class:ie(["nes-btn",D.value===f.id?"is-primary":""]),style:z,onClick:I=>D.value=f.id},c(f.label),11,nn)),64))]),e("div",{style:J},[e("canvas",{ref_key:"chartCanvas",ref:S},null,512)]),e("div",{style:t(O.value)},[(l(!0),s(M,null,V(A.value,f=>(l(),s("div",{key:f.scenarioId,style:t(ae(f))},[e("div",{style:p},[e("span",{style:t(W(f))},null,4),e("span",{style:K},c(f.scenario),1)]),e("div",{style:d},[e("div",null,[e("span",{style:i},"Annual Gross"),e("span",{style:y},"$"+c(U(f.annualizedGross)),1)]),e("div",null,[e("span",{style:i},"Net Cash Flow"),e("span",{style:t(n(f.totalNetCashFlow))},"$"+c(U(f.totalNetCashFlow)),5)]),e("div",null,[e("span",{style:i},"Break Even"),e("span",{style:y},c(f.breakEvenMonth||"N/A"),1)])])],4))),128))],4)]))}}),on={style:{flex:"1"}},sn=["onClick"],rn={class:"tab-emoji"},cn={class:"tab-label"},un={key:2},dn={style:{"margin-top":"0.5rem"}},mn={key:3},pn=["onClick"],yn={key:4},vn={key:5},gn={style:{flex:"1","min-width":"0"}},fn=["value","onChange"],bn=["value","onChange"],hn=["disabled"],Sn=["disabled"],xn=["value","onChange"],kn=["value"],wn=["disabled"],Cn={key:6},N="#4a6741",de="#c4a747",oe="#1a2a3a",$n=ce({__name:"DarrentanPage",setup(k){var yt;const v=((yt=document.querySelector('link[rel="icon"]'))==null?void 0:yt.getAttribute("href"))||"";function S(b){const u=document.querySelector('link[rel="icon"]');u&&(u.href=`data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>${b}</text></svg>`)}S("ðŸŽ¯"),xt(()=>{const b=document.querySelector('link[rel="icon"]');b&&(b.href=v)});const{tasks:r,events:D,isLoading:$,error:A,incompleteTasks:G,completedTasks:B,highPriorityTasks:_,upcomingEvents:U,taskProgress:w,fetchTasks:F,createTask:z,toggleTaskComplete:J,deleteTask:O,fetchProjectEvents:ae}=Sa({taskCalendar:"tasks",eventCalendar:"personal",goalsStorageKey:"darrentan-goals"}),p=Xa(),W=R("hq"),K=R(""),d=R("incomplete"),i=R(""),y=R(0),n=R(0),m=R("scenarios"),L=R(0),f=R("other"),I=R("personal"),P=R(""),q=R(""),ne=R(null),se=R(""),ye=R("retainer"),le=R(0),me=R(.5),Z=R(""),j=[{id:"hq",label:"HQ",icon:"ðŸ›ï¸"},{id:"ops",label:"Ops",icon:"âš”ï¸"},{id:"intel",label:"Intel",icon:"ðŸ“¡"},{id:"supply",label:"Supply",icon:"ðŸ’°"},{id:"recon",label:"Recon",icon:"ðŸ”"}],X=[{label:"Nextcloud",url:"https://nextcloud.darrenarney.com",emoji:"â˜ï¸",color:"#3a7bd5"},{label:"Tandoor",url:"https://tandoor.darrenarney.com",emoji:"ðŸ³",color:"#e8a838"},{label:"n8n",url:"https://n8n.darrenarney.com",emoji:"âš¡",color:"#ff6d5a"},{label:"Vault",url:"/vault",emoji:"ðŸ”",color:"#6a9fb5"}],ee=g(()=>new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),ke=g(()=>{const b=new Set;return r.value.forEach(u=>u.categories.forEach(Je=>b.add(Je))),Array.from(b).sort()}),$e=g(()=>{let b=r.value;return K.value&&(b=b.filter(u=>u.categories.includes(K.value))),b});Ze(async()=>{await p.init(),p.migrateGoalsFromLocalStorage("darrentan-goals"),p.fetchRewards(),await Promise.all([F(),ae()])});async function Ae(b,u){b&&await z({summary:b,priority:u||void 0})}async function Le(b){await J(b)}async function Pe(b){await O(b)}async function ze(){!i.value.trim()||!y.value||(await p.addGoal({id:Date.now().toString(),label:i.value.trim(),target:y.value,current:n.value||0,unit:"$",color:"#4a6741"}),i.value="",y.value=0,n.value=0)}async function Be(b,u){await p.updateGoal(b,{current:u||0})}async function Ee(b){await p.removeGoal(b)}async function Ne(b,u){await p.updateGate(b,u)}async function Me(){await p.seedDefaultGates()}async function We(b,u){await p.moveRisk(b,u)}async function Ge(b){await p.addRisk(b)}async function Fe(){await p.seedDefaultRisks()}async function Oe(){!se.value.trim()||!le.value||(await p.addRevenueStream({name:se.value.trim(),type:ye.value,monthlyAmount:le.value,probability:me.value||.5,startMonth:Z.value||void 0}),se.value="",le.value=0,me.value=.5,Z.value="")}async function Re(b,u){await p.updateRevenueStream(b,u),await p.fetchAllProjections()}async function o(){await p.seedDefaultGoals()}async function h(){await p.seedDefaultRevenue()}async function T(){p.revenueStreams.value.length===0&&await p.seedDefaultRevenue(),await p.seedDefaultScenarios(),await p.fetchAllProjections()}async function H(){L.value&&(await p.addExpense({amount:L.value,category:f.value,classification:I.value,description:P.value,vendor:q.value,rewardCard:ne.value}),L.value=0,P.value="",q.value="")}function tt(b){if(!b)return"";try{return new Date(b).toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return b}}const wt=g(()=>({minHeight:"100vh",padding:"0",margin:"0",position:"relative",zIndex:"2"})),Ct=g(()=>({display:"flex",alignItems:"center",gap:"var(--space-md)",padding:"var(--space-md) var(--space-lg)",background:`linear-gradient(135deg, ${oe}, ${oe}dd)`,borderBottom:`4px solid ${N}`,position:"sticky",top:"0",zIndex:"50",backdropFilter:"blur(8px)"})),$t=g(()=>({fontSize:"1.1rem",fontWeight:"700",color:de,margin:"0",letterSpacing:"1px"})),Pt=g(()=>({fontSize:"0.6rem",color:"rgba(196, 167, 71, 0.6)",marginTop:"0.15rem"})),zt=g(()=>({width:"28px",height:"28px",borderRadius:"50%"})),Rt=g(()=>({display:"flex",gap:"0.25rem",padding:"0.5rem var(--space-lg)",background:`${oe}ee`,borderBottom:`2px solid ${N}66`,overflowX:"auto",backdropFilter:"blur(8px)"})),Tt=g(()=>({fontSize:"0.6rem",padding:"0.35rem 0.7rem",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"0.3rem"})),at=g(()=>({fontSize:"0.55rem",background:N,color:"#fff",padding:"0.1rem 0.3rem",borderRadius:"8px",fontWeight:"700"})),Dt=g(()=>({padding:"var(--space-lg)",maxWidth:"900px",margin:"0 auto"})),nt=g(()=>({background:"rgba(239, 68, 68, 0.15)",border:"2px solid rgba(239, 68, 68, 0.5)",borderRadius:"4px",padding:"0.5rem 0.75rem",marginBottom:"1rem",color:"#ff6b6b",display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"0.75rem"})),lt=g(()=>({textAlign:"center",padding:"2rem",color:"var(--text-muted)",fontSize:"0.85rem"})),Te={fontSize:"0.7rem",color:"var(--text-muted)",margin:"0 0 0.5rem 0"},Q=g(()=>({background:`${oe}cc`,border:`2px solid ${N}55`,borderRadius:"4px",padding:"0.75rem",marginBottom:"0.75rem",backdropFilter:"blur(4px)"})),Y=g(()=>({fontSize:"0.75rem",color:de,margin:"0 0 0.5rem 0",fontWeight:"600",letterSpacing:"0.5px",textTransform:"uppercase"})),ot=g(()=>({display:"flex",alignItems:"center",gap:"0.75rem"})),Ue=g(()=>({flex:"1",height:"12px",background:oe,border:`2px solid ${N}44`,borderRadius:"2px",overflow:"hidden"})),je=(b,u)=>({height:"100%",width:`${Math.min(100,Math.max(0,b))}%`,background:b>=100?"#22c55e":`linear-gradient(90deg, ${u||N}, ${u||N}cc)`,transition:"width 0.3s ease"}),st=g(()=>({fontSize:"0.7rem",color:de,whiteSpace:"nowrap"}));function It(b){return{display:"flex",alignItems:"center",gap:"0.4rem",padding:"0.25rem 0",borderBottom:`1px solid ${N}15`,opacity:b.status==="completed"?"0.6":"1"}}function At(b){return{fontSize:"0.7rem"}}const Lt={flex:"1",fontSize:"0.7rem",color:"var(--text-bright)"};function Bt(b){return{fontSize:"0.5rem",color:b.status==="completed"?"#22c55e":b.status==="in-progress"?"#f59e0b":b.status==="blocked"?"#ef4444":"var(--text-muted)",fontWeight:"600",textTransform:"uppercase"}}const Et=g(()=>({display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.35rem 0",borderBottom:`1px solid ${N}22`})),Nt=g(()=>({flex:"1",fontSize:"0.75rem",color:"var(--text-bright)"})),Mt=b=>({fontSize:"0.55rem",padding:"0.1rem 0.3rem",borderRadius:"2px",fontWeight:"700",background:b<=1?"#ef4444":b<=3?"#f59e0b":"#6b7280",color:"#fff"}),Wt=g(()=>({fontSize:"0.6rem",color:"var(--text-muted)"})),Gt=g(()=>({display:"flex",gap:"0.75rem",padding:"0.35rem 0",borderBottom:`1px solid ${N}22`,alignItems:"baseline"})),Ft=g(()=>({fontSize:"0.65rem",color:de,minWidth:"3.5rem"})),Ot=g(()=>({fontSize:"0.75rem",color:"var(--text-bright)"})),Ut=g(()=>({marginBottom:"0.5rem"})),jt=g(()=>({fontSize:"0.7rem",color:"var(--text-bright)",marginBottom:"0.2rem",display:"block"})),Vt=g(()=>({fontSize:"0.6rem",color:"var(--text-muted)",marginTop:"0.15rem",display:"block"})),Ve=g(()=>({display:"flex",gap:"0.25rem",marginBottom:"0.5rem",flexWrap:"wrap"})),ue=g(()=>({fontSize:"0.55rem",padding:"0.2rem 0.5rem"})),_e=g(()=>({flex:"1",minWidth:"150px",fontSize:"0.75rem",padding:"0.4rem",background:oe,color:"var(--text-bright)",border:`2px solid ${N}66`})),ve=g(()=>({width:"90px",fontSize:"0.75rem",padding:"0.4rem",background:oe,color:"var(--text-bright)",border:`2px solid ${N}66`})),De=g(()=>({fontSize:"0.65rem",padding:"0.3rem",background:oe,color:"var(--text-bright)",border:`2px solid ${N}66`,width:"auto"})),pe=g(()=>({fontSize:"0.65rem",padding:"0.35rem 0.7rem",whiteSpace:"nowrap"})),_t=g(()=>({display:"flex",gap:"0.4rem",marginBottom:"1rem",flexWrap:"wrap",alignItems:"center"})),Ht=g(()=>({display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"0.75rem"})),Kt=g(()=>({display:"flex",alignItems:"center",gap:"0.4rem",marginTop:"0.5rem",paddingTop:"0.5rem",borderTop:`1px solid ${N}33`})),qt=g(()=>({fontSize:"0.6rem",color:"var(--text-muted)"})),rt=g(()=>({display:"flex",gap:"0.3rem",flexWrap:"wrap",alignItems:"center"})),it=g(()=>({display:"flex",gap:"1rem",marginBottom:"0.5rem",flexWrap:"wrap"})),we={textAlign:"center"},Ce={fontSize:"0.55rem",color:"var(--text-muted)",display:"block"},Jt={fontSize:"1rem",fontWeight:"700",color:"var(--text-bright)",display:"block"},He={fontSize:"1rem",fontWeight:"700",color:"#22c55e",display:"block"},Xt={fontSize:"1rem",fontWeight:"700",color:"#3a7bd5",display:"block"},ct=g(()=>({display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.25rem 0",borderBottom:`1px solid ${N}15`,fontSize:"0.65rem"})),Qt={color:"var(--text-muted)",minWidth:"4.5rem",fontFamily:"monospace",fontSize:"0.55rem"},ut={flex:"1",color:"var(--text-bright)",fontSize:"0.65rem"},dt={fontWeight:"700",color:"var(--text-bright)",fontSize:"0.7rem"};function Yt(b){const u={business:"#22c55e",personal:"#3a7bd5",mixed:"#f59e0b"};return{fontSize:"0.4rem",padding:"0.1rem 0.2rem",borderRadius:"2px",fontWeight:"700",background:(u[b]||"#6b7280")+"33",color:u[b]||"#6b7280"}}const Zt={fontWeight:"700",color:"#22c55e",fontSize:"0.65rem"},ea=g(()=>({display:"flex",alignItems:"center",gap:"0.4rem",padding:"0.35rem 0",borderBottom:`1px solid ${N}15`}));function ta(b){return{width:"8px",height:"8px",borderRadius:"50%",background:b||N,flexShrink:"0"}}const aa={fontSize:"0.7rem",fontWeight:"600",color:de,display:"block"},na={fontSize:"0.55rem",color:"var(--text-muted)",display:"block"},Ke={fontSize:"0.5rem",color:"var(--text-muted)",whiteSpace:"nowrap"};function la(b){return{background:`${oe}88`,border:`1px solid ${b.color||N}44`,borderRadius:"3px",padding:"0.5rem",marginBottom:"0.4rem"}}const oa={display:"flex",alignItems:"center",gap:"0.3rem",marginBottom:"0.2rem"};function sa(b){return{width:"8px",height:"8px",borderRadius:"50%",background:b||N,flexShrink:"0"}}const ra={fontSize:"0.7rem",fontWeight:"600",color:de,flex:"1"},ia={fontSize:"0.45rem",padding:"0.1rem 0.25rem",borderRadius:"2px",background:`${N}33`,color:"var(--text-muted)"};function ca(b){return{fontSize:"0.5rem",fontWeight:"700",color:b>=.7?"#22c55e":b>=.4?"#f59e0b":"#ef4444"}}const ua={display:"flex",gap:"0.5rem",alignItems:"baseline",marginBottom:"0.2rem"},da={fontSize:"0.85rem",fontWeight:"700",color:"var(--text-bright)"},mt={fontSize:"0.5rem",color:"var(--text-muted)"},ma={fontSize:"0.5rem",color:"var(--text-muted)",fontStyle:"italic",marginTop:"0.15rem"},pa={display:"flex",gap:"0.3rem",alignItems:"center",marginTop:"0.3rem",paddingTop:"0.3rem",borderTop:`1px solid ${N}22`},pt={fontSize:"0.5rem",color:"var(--text-muted)"},qe=g(()=>({width:"70px",fontSize:"0.65rem",padding:"0.25rem",background:oe,color:"var(--text-bright)",border:`1px solid ${N}66`}));return(b,u)=>{const Je=ga("router-link");return l(),Se(ba,{"enable-scanlines":!0,"enable-particles":!1,"enable-animations":!0},{default:xe(()=>[fe(Ia,{"scroll-speed":.5,opacity:.35}),e("div",{style:t(wt.value)},[e("header",{style:t(Ct.value)},[fe(Je,{to:"/",style:{"text-decoration":"none",color:"inherit",display:"flex","align-items":"center",gap:"0.5rem"}},{default:xe(()=>[e("img",{src:fa,alt:"QCA",style:t(zt.value)},null,4)]),_:1}),e("div",on,[e("h1",{class:"nes-text",style:t($t.value)},"Operation Darrentan",4),e("div",{style:t(Pt.value)},c(ee.value),5)])],4),e("div",{style:t(Rt.value)},[(l(),s(M,null,V(j,a=>e("button",{key:a.id,class:ie(["nes-btn",W.value===a.id?"is-primary":""]),style:t(Tt.value),onClick:ge=>W.value=a.id},[e("span",rn,c(a.icon),1),e("span",cn,c(a.label),1),a.id==="ops"&&x(G).length>0?(l(),s("span",{key:0,style:t(at.value)},c(x(G).length),5)):C("",!0),a.id==="recon"&&x(p).knownUnknowns.value.length>0?(l(),s("span",{key:1,style:t(at.value)},c(x(p).knownUnknowns.value.length),5)):C("",!0)],14,sn)),64))],4),e("main",{style:t(Dt.value)},[x(A)?(l(),s("div",{key:0,style:t(nt.value)},[Ye(c(x(A))+" ",1),e("button",{class:"nes-btn is-error",style:{"margin-left":"1rem","font-size":"0.6rem"},onClick:u[0]||(u[0]=a=>A.value=null)},"X")],4)):C("",!0),x(p).error.value?(l(),s("div",{key:1,style:t(nt.value)},[Ye(c(x(p).error.value)+" ",1),e("button",{class:"nes-btn is-error",style:{"margin-left":"1rem","font-size":"0.6rem"},onClick:u[1]||(u[1]=a=>x(p).error.value=null)},"X")],4)):C("",!0),W.value==="hq"?(l(),s("section",un,[x(p).gates.value.length>0?(l(),s("div",{key:0,style:t(Q.value)},[e("h3",{style:t(Y.value)},"Decision Gates",4),e("div",{style:t(ot.value)},[e("div",{style:t(Ue.value)},[e("div",{style:t(je(x(p).gateProgress.value))},null,4)],4),e("span",{style:t(st.value)},c(x(p).gates.value.filter(a=>a.status==="completed").length)+"/"+c(x(p).gates.value.length)+" gates",5)],4),e("div",dn,[(l(!0),s(M,null,V(x(p).gates.value,a=>(l(),s("div",{key:a.id,style:t(It(a))},[e("span",{style:t(At(a))},c(a.status==="completed"?"âœ…":a.status==="blocked"?"â›”":a.depsReady===!1&&a.dependencies.length>0?"ðŸ”’":"â¬œ"),5),e("span",{style:Lt},c(a.label),1),e("span",{style:t(Bt(a))},c(a.status==="not-started"&&!a.depsReady&&a.dependencies.length>0?"LOCKED":a.status.replace("-"," ").toUpperCase()),5)],4))),128))])],4)):(l(),s("div",{key:1,style:t(Q.value)},[e("h3",{style:t(Y.value)},"Decision Gates",4),e("p",{style:Te},"No gates configured."),e("button",{class:"nes-btn is-primary",style:t(pe.value),onClick:Me},"Seed Default Gates",4)],4)),e("div",{style:t(Q.value)},[e("h3",{style:t(Y.value)},"Active Phase",4),fe(St,{"active-phase":x(p).activePhase.value,milestones:x(p).milestones.value,"accent-color":N,"gold-color":de},null,8,["active-phase","milestones"])],4),e("div",{style:t(Q.value)},[e("h3",{style:t(Y.value)},"Mission Status",4),e("div",{style:t(ot.value)},[e("div",{style:t(Ue.value)},[e("div",{style:t(je(x(w)))},null,4)],4),e("span",{style:t(st.value)},c(x(B).length)+"/"+c(x(r).length)+" tasks",5)],4)],4),x(_).length>0?(l(),s("div",{key:2,style:t(Q.value)},[e("h3",{style:t(Y.value)},"Priority Intel",4),(l(!0),s(M,null,V(x(_),a=>(l(),s("div",{key:a.id,style:t(Et.value)},[e("span",{style:t(Mt(a.priority))},"P"+c(a.priority),5),e("span",{style:t(Nt.value)},c(a.summary),5),a.due?(l(),s("span",{key:0,style:t(Wt.value)},c(tt(a.due)),5)):C("",!0)],4))),128))],4)):C("",!0),x(U).length>0?(l(),s("div",{key:3,style:t(Q.value)},[e("h3",{style:t(Y.value)},"Incoming Transmissions",4),(l(!0),s(M,null,V(x(U).slice(0,5),a=>(l(),s("div",{key:a.id,style:t(Gt.value)},[e("span",{style:t(Ft.value)},c(tt(a.startDate)),5),e("span",{style:t(Ot.value)},c(a.title),5)],4))),128))],4)):C("",!0),x(p).goals.value.length>0?(l(),s("div",{key:4,style:t(Q.value)},[e("h3",{style:t(Y.value)},"Supply Lines",4),(l(!0),s(M,null,V(x(p).goals.value,a=>(l(),s("div",{key:a.id,style:t(Ut.value)},[e("span",{style:t(jt.value)},c(a.label),5),e("div",{style:t(Ue.value)},[e("div",{style:t(je(a.target?Math.round(a.current/a.target*100):0,a.color))},null,4)],4),e("span",{style:t(Vt.value)},"$"+c(a.current.toLocaleString())+" / $"+c(a.target.toLocaleString()),5)],4))),128))],4)):C("",!0),e("div",{style:t(Q.value)},[e("h3",{style:t(Y.value)},"Quick Links",4),fe(ja,{links:X})],4)])):C("",!0),W.value==="ops"?(l(),s("section",mn,[ke.value.length>0?(l(),s("div",{key:0,style:t(Ve.value)},[e("button",{class:ie(["nes-btn",K.value===""?"is-primary":""]),style:t(ue.value),onClick:u[2]||(u[2]=a=>K.value="")},"All",6),(l(!0),s(M,null,V(ke.value,a=>(l(),s("button",{key:a,class:ie(["nes-btn",K.value===a?"is-primary":""]),style:t(ue.value),onClick:ge=>K.value=a},c(a),15,pn))),128))],4)):C("",!0),e("div",{style:t(Ve.value)},[e("button",{class:ie(["nes-btn",d.value==="incomplete"?"is-warning":""]),style:t(ue.value),onClick:u[3]||(u[3]=a=>{d.value="incomplete",x(F)(d.value)})},"Active",6),e("button",{class:ie(["nes-btn",d.value==="completed"?"is-success":""]),style:t(ue.value),onClick:u[4]||(u[4]=a=>{d.value="completed",x(F)(d.value)})},"Completed",6),e("button",{class:ie(["nes-btn",d.value==="all"?"is-primary":""]),style:t(ue.value),onClick:u[5]||(u[5]=a=>{d.value="all",x(F)(d.value)})},"All",6)],4),x($)&&$e.value.length===0?(l(),s("div",{key:1,style:t(lt.value)},[...u[24]||(u[24]=[e("p",{class:"nes-text"},"Loading missions...",-1)])],4)):(l(),Se(Ga,{key:2,tasks:$e.value,"show-add-form":!0,"show-priority":!0,"add-placeholder":"New mission objective...","accent-color":N,"bg-color":oe,onAdd:Ae,onToggle:Le,onDelete:Pe},{empty:xe(()=>[...u[25]||(u[25]=[e("p",{class:"nes-text"},"No missions found. Add your first objective above.",-1)])]),_:1},8,["tasks"]))])):C("",!0),W.value==="intel"?(l(),s("section",yn,[e("div",{style:t(Q.value)},[e("h3",{style:t(Y.value)},"Master Timeline",4),fe(St,{"active-phase":x(p).activePhase.value,milestones:x(p).milestones.value,"accent-color":N,"gold-color":de},null,8,["active-phase","milestones"])],4),x(p).gates.value.length>0?(l(),s("div",{key:0,style:t(Q.value)},[e("h3",{style:t(Y.value)},"Decision Gates",4),(l(!0),s(M,null,V(x(p).gates.value,a=>(l(),Se(Ha,{key:a.id,gate:a,"all-gates":x(p).gates.value,"accent-color":N,"bg-color":oe,onUpdate:Ne},null,8,["gate","all-gates"]))),128))],4)):C("",!0),fe(Oa,{events:x(D),"accent-color":N,"gold-color":de},{empty:xe(()=>[...u[26]||(u[26]=[e("p",{class:"nes-text"},"No intel available. Events from Nextcloud will appear here.",-1)])]),_:1},8,["events"])])):C("",!0),W.value==="supply"?(l(),s("section",vn,[e("div",{style:t([Ve.value,{"margin-bottom":"0.75rem"}])},[e("button",{class:ie(["nes-btn",m.value==="scenarios"?"is-primary":""]),style:t(ue.value),onClick:u[6]||(u[6]=a=>m.value="scenarios")},"Scenarios",6),e("button",{class:ie(["nes-btn",m.value==="revenue"?"is-primary":""]),style:t(ue.value),onClick:u[7]||(u[7]=a=>m.value="revenue")},"Revenue",6),e("button",{class:ie(["nes-btn",m.value==="goals"?"is-primary":""]),style:t(ue.value),onClick:u[8]||(u[8]=a=>m.value="goals")},"Goals",6),e("button",{class:ie(["nes-btn",m.value==="expenses"?"is-primary":""]),style:t(ue.value),onClick:u[9]||(u[9]=a=>m.value="expenses")},"Expenses",6)],4),m.value==="scenarios"?(l(),s(M,{key:0},[x(p).scenarios.value.length===0?(l(),s("div",{key:0,style:t(Q.value)},[e("h3",{style:t(Y.value)},"Scenario Planning",4),e("p",{style:Te},"No scenarios configured."),e("button",{class:"nes-btn is-primary",style:t(pe.value),onClick:T},"Seed Defaults",4)],4)):(l(),s(M,{key:1},[e("div",{style:t(Q.value)},[e("h3",{style:t(Y.value)},"12-Month Cash Flow Projection",4),fe(ln,{projections:x(p).projections.value,scenarios:x(p).scenarios.value,"accent-color":N,"bg-color":oe},null,8,["projections","scenarios"])],4),e("div",{style:t(Q.value)},[e("h3",{style:t(Y.value)},"Scenarios",4),(l(!0),s(M,null,V(x(p).scenarios.value,a=>(l(),s("div",{key:a.id,style:t(ea.value)},[e("span",{style:t(ta(a.color))},null,4),e("div",gn,[e("span",{style:aa},c(a.name),1),e("span",{style:na},c(a.description),1)]),e("span",{style:Ke},c(a.streamIds.length)+" streams",1),e("span",{style:Ke},c((a.taxRate*100).toFixed(0))+"% tax",1),e("span",{style:Ke},"$"+c(a.monthlyExpenses.toLocaleString())+"/mo exp",1)],4))),128))],4)],64))],64)):C("",!0),m.value==="revenue"?(l(),s(M,{key:1},[x(p).revenueStreams.value.length===0?(l(),s("div",{key:0,style:t(Q.value)},[e("h3",{style:t(Y.value)},"Revenue Streams",4),e("p",{style:Te},"No revenue streams defined."),e("button",{class:"nes-btn is-primary",style:t(pe.value),onClick:h},"Seed Defaults",4)],4)):(l(),s(M,{key:1},[e("div",{style:t(Q.value)},[e("h3",{style:t(Y.value)},"Revenue Streams",4),(l(!0),s(M,null,V(x(p).revenueStreams.value,a=>(l(),s("div",{key:a.id,style:t(la(a))},[e("div",{style:oa},[e("span",{style:t(sa(a.color))},null,4),e("span",{style:ra},c(a.name),1),e("span",{style:ia},c(a.type),1),e("span",{style:t(ca(a.probability))},c((a.probability*100).toFixed(0))+"%",5)]),e("div",{style:ua},[e("span",{style:da},"$"+c(a.monthlyAmount.toLocaleString())+"/mo",1),a.hourlyRate?(l(),s("span",{key:0,style:mt},"$"+c(a.hourlyRate)+"/hr x "+c(a.hoursPerMonth)+"hrs",1)):C("",!0),e("span",{style:mt},c(a.startMonth||"?")+" - "+c(a.endMonth||"ongoing"),1)]),a.notes?(l(),s("div",{key:0,style:ma},c(a.notes),1)):C("",!0),e("div",{style:pa},[e("label",{style:pt},"$/mo"),e("input",{value:a.monthlyAmount,type:"number",class:"nes-input",style:t(qe.value),onChange:ge=>Re(a.id,{monthlyAmount:Number(ge.target.value)})},null,44,fn),e("label",{style:pt},"Prob"),e("input",{value:a.probability,type:"number",step:"0.1",min:"0",max:"1",class:"nes-input",style:t(qe.value),onChange:ge=>Re(a.id,{probability:Number(ge.target.value)})},null,44,bn)])],4))),128))],4),e("div",{style:t(Q.value)},[e("h3",{style:t(Y.value)},"Add Revenue Stream",4),e("div",{style:t(rt.value)},[te(e("input",{"onUpdate:modelValue":u[10]||(u[10]=a=>se.value=a),placeholder:"Name",class:"nes-input",style:t(_e.value)},null,4),[[re,se.value]]),te(e("select",{"onUpdate:modelValue":u[11]||(u[11]=a=>ye.value=a),class:"nes-select",style:t(De.value)},[...u[27]||(u[27]=[e("option",{value:"hourly"},"Hourly",-1),e("option",{value:"retainer"},"Retainer",-1),e("option",{value:"project"},"Project",-1)])],4),[[be,ye.value]]),te(e("input",{"onUpdate:modelValue":u[12]||(u[12]=a=>le.value=a),type:"number",placeholder:"$/mo",class:"nes-input",style:t(ve.value)},null,4),[[re,le.value,void 0,{number:!0}]]),te(e("input",{"onUpdate:modelValue":u[13]||(u[13]=a=>me.value=a),type:"number",step:"0.1",min:"0",max:"1",placeholder:"Prob",class:"nes-input",style:t(qe.value)},null,4),[[re,me.value,void 0,{number:!0}]]),te(e("input",{"onUpdate:modelValue":u[14]||(u[14]=a=>Z.value=a),type:"month",class:"nes-input",style:t(ve.value)},null,4),[[re,Z.value]]),e("button",{class:"nes-btn is-success",style:t(pe.value),onClick:Oe,disabled:!se.value.trim()||!le.value},"Add",12,hn)],4)],4)],64))],64)):C("",!0),m.value==="goals"?(l(),s(M,{key:2},[e("div",{style:t(_t.value)},[te(e("input",{"onUpdate:modelValue":u[15]||(u[15]=a=>i.value=a),placeholder:"Goal name (e.g. Monthly Revenue)",class:"nes-input",style:t(_e.value)},null,4),[[re,i.value]]),te(e("input",{"onUpdate:modelValue":u[16]||(u[16]=a=>y.value=a),type:"number",placeholder:"Target $",class:"nes-input",style:t(ve.value)},null,4),[[re,y.value,void 0,{number:!0}]]),te(e("input",{"onUpdate:modelValue":u[17]||(u[17]=a=>n.value=a),type:"number",placeholder:"Current $",class:"nes-input",style:t(ve.value)},null,4),[[re,n.value,void 0,{number:!0}]]),e("button",{class:"nes-btn is-success",style:t(pe.value),onClick:ze,disabled:!i.value.trim()||!y.value}," Add ",12,Sn)],4),x(p).goals.value.length===0?(l(),s("div",{key:0,style:t(lt.value)},[u[28]||(u[28]=e("p",{class:"nes-text"},"No supply lines tracked.",-1)),e("button",{class:"nes-btn is-primary",style:t(pe.value),onClick:o},"Seed Financial Model Goals",4)],4)):(l(),s("div",{key:1,style:t(Ht.value)},[(l(!0),s(M,null,V(x(p).goals.value,a=>(l(),Se(Fa,{key:a.id,goal:a,"accent-color":N,"bg-color":oe,onDelete:Ee},{edit:xe(()=>[e("div",{style:t(Kt.value)},[e("input",{value:a.current,type:"number",class:"nes-input",style:t(ve.value),onChange:ge=>Be(a.id,ge.target.valueAsNumber)},null,44,xn),e("span",{style:t(qt.value)},"current "+c(a.unit||"$"),5)],4)]),_:2},1032,["goal"]))),128))],4))],64)):C("",!0),m.value==="expenses"?(l(),s(M,{key:3},[e("div",{style:t(Q.value)},[e("h3",{style:t(Y.value)},"Add Expense",4),e("div",{style:t(rt.value)},[te(e("input",{"onUpdate:modelValue":u[18]||(u[18]=a=>L.value=a),type:"number",step:"0.01",placeholder:"Amount",class:"nes-input",style:t(ve.value)},null,4),[[re,L.value,void 0,{number:!0}]]),te(e("select",{"onUpdate:modelValue":u[19]||(u[19]=a=>f.value=a),class:"nes-select",style:t(De.value)},[(l(!0),s(M,null,V(x(p).categories.value,a=>(l(),s("option",{key:a.id,value:a.id},c(a.icon)+" "+c(a.label),9,kn))),128))],4),[[be,f.value]]),te(e("select",{"onUpdate:modelValue":u[20]||(u[20]=a=>I.value=a),class:"nes-select",style:t(De.value)},[...u[29]||(u[29]=[e("option",{value:"personal"},"Personal",-1),e("option",{value:"business"},"Business",-1),e("option",{value:"mixed"},"Mixed",-1)])],4),[[be,I.value]]),te(e("input",{"onUpdate:modelValue":u[21]||(u[21]=a=>P.value=a),placeholder:"Description",class:"nes-input",style:t(_e.value)},null,4),[[re,P.value]]),te(e("input",{"onUpdate:modelValue":u[22]||(u[22]=a=>q.value=a),placeholder:"Vendor",class:"nes-input",style:t(ve.value)},null,4),[[re,q.value]]),te(e("select",{"onUpdate:modelValue":u[23]||(u[23]=a=>ne.value=a),class:"nes-select",style:t(De.value)},[...u[30]||(u[30]=[e("option",{value:null},"No card",-1),e("option",{value:"costco-citi"},"Costco Citi",-1),e("option",{value:"costco-executive"},"Costco Executive",-1),e("option",{value:"microcenter"},"Microcenter",-1)])],4),[[be,ne.value]]),e("button",{class:"nes-btn is-success",style:t(pe.value),onClick:H,disabled:!L.value}," Log ",12,wn)],4)],4),x(p).expenses.value.length>0?(l(),s("div",{key:0,style:t(Q.value)},[e("h3",{style:t(Y.value)},"Expense Summary",4),e("div",{style:t(it.value)},[e("div",{style:we},[e("span",{style:Ce},"Total"),e("span",{style:Jt},"$"+c(x(p).expenseTotals.value.total.toLocaleString(void 0,{minimumFractionDigits:2})),1)]),e("div",{style:we},[e("span",{style:Ce},"Business"),e("span",{style:He},"$"+c(x(p).expenseTotals.value.businessTotal.toLocaleString(void 0,{minimumFractionDigits:2})),1)]),e("div",{style:we},[e("span",{style:Ce},"Personal"),e("span",{style:Xt},"$"+c(x(p).expenseTotals.value.personalTotal.toLocaleString(void 0,{minimumFractionDigits:2})),1)])],4),(l(!0),s(M,null,V(x(p).expenses.value.slice(0,10),a=>(l(),s("div",{key:a.id,style:t(ct.value)},[e("span",{style:Qt},c(a.date),1),e("span",{style:ut},c(a.description||a.category),1),e("span",{style:t(Yt(a.classification))},c(a.classification.slice(0,3).toUpperCase()),5),e("span",{style:dt},"$"+c(a.amount.toFixed(2)),1)],4))),128))],4)):C("",!0),x(p).rewards.value?(l(),s("div",{key:1,style:t(Q.value)},[e("h3",{style:t(Y.value)},"Rewards Estimate",4),e("div",{style:t(it.value)},[e("div",{style:we},[e("span",{style:Ce},"Actual"),e("span",{style:He},"$"+c(x(p).rewards.value.totalRewards.toFixed(2)),1)]),e("div",{style:we},[e("span",{style:Ce},"Annualized"),e("span",{style:He},"$"+c(x(p).rewards.value.annualizedRewards.toFixed(2)),1)])],4),(l(!0),s(M,null,V(x(p).rewards.value.estimates,a=>(l(),s("div",{key:a.card,style:t(ct.value)},[e("span",{style:ut},c(a.name),1),e("span",{style:dt},"$"+c(a.spending.toFixed(2))+" spent",1),e("span",{style:Zt},"$"+c(a.reward.toFixed(2))+" back",1)],4))),128))],4)):C("",!0)],64)):C("",!0)])):C("",!0),W.value==="recon"?(l(),s("section",Cn,[x(p).risks.value.length===0?(l(),s("div",{key:0,style:t(Q.value)},[e("h3",{style:t(Y.value)},"Risk Board",4),e("p",{style:Te},"No risks tracked yet."),e("button",{class:"nes-btn is-primary",style:t(pe.value),onClick:Fe},"Seed Default Risks",4)],4)):(l(),Se(an,{key:1,risks:x(p).risks.value,"accent-color":N,"bg-color":oe,onMove:We,onAdd:Ge},null,8,["risks"]))])):C("",!0)],4)],4)]),_:1})}}}),En=Ie($n,[["__scopeId","data-v-7bac6fbd"]]);export{En as default};
