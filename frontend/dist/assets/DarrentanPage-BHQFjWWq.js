import{d as ue,r as z,o as tt,q as wt,a as l,n as t,b as o,ac as ve,f as C,a5 as ee,e,a6 as ie,a7 as Ct,a8 as ge,F as N,k as V,t as u,v as nt,c as v,l as xe,m as hn,w as we,j as et,u as S,y as Sn,Q as ft,s as ce,g as Se,h as xn}from"./index-Cb9bHEfA.js";import{_ as kn}from"./qca-IRcFUp2s.js";import{S as wn}from"./SeasonalThemeProvider-ewS_V3_x.js";import{_ as Ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as M}from"./apiClient-C3SqeptG.js";import{C as bt,r as Cn}from"./chart-BR_H7_9u.js";import{u as $n}from"./useProjectHub-BU6P98o1.js";import"./useTheme-g-avcNHO.js";import"./AtmosphericBackground-DbF0VqY1.js";import"./ScanlineOverlay-Dres_Fmy.js";const Rn="#0a1628",zn="#0f2847",Tn="#163d66",ht="#1e5a8a",Pn="#2d5a1e",St="#3d7a2e",Dn="#5a9a4a",xt="#c4a44a",In="#dac06a",An="#c8d8e8",Bn="#e0e8f0",ke="#6a7a8a",Ye="#8a9aaa",Ln="#2a3a4a",Ze="#b0c0d0",En=ue({__name:"Arcade1942Background",props:{scrollSpeed:{default:.5},enableIslands:{type:Boolean,default:!0},enableClouds:{type:Boolean,default:!0},enablePlane:{type:Boolean,default:!0},opacity:{default:.4}},setup(x){const y=x,b=z(null);let c=null,T=0,$=0,B=!1;function E(i){let s=i;return()=>(s=(s*16807+0)%2147483647,(s-1)/2147483646)}const L=E(1942),K=[];for(let i=0;i<8;i++)K.push({x:L()*.8+.1,y:L()*2e3+200,w:L()*80+40,h:L()*60+30,type:Math.floor(L()*3)});const U=[];for(let i=0;i<6;i++)U.push({x:L()*.9+.05,y:L()*1500+100,w:L()*100+50,h:L()*30+15});let k=0,_=0;function R(i,s,d,n,p){c&&(c.fillStyle=p,c.fillRect(Math.floor(i),Math.floor(s),Math.ceil(d),Math.ceil(n)))}function J(i,s,d){if(!c)return;c.fillStyle=Rn,c.fillRect(0,0,i,s);const n=6,p=24,A=Math.ceil(s/p)+2;for(let w=0;w<A;w++){const O=(w*p+d*.8%p)%(s+p)-p,Q=w%3===0?ht:w%3===1?Tn:zn,oe=Math.sin((w+d*.002)*1.3)*20;if(R(oe,O,i+40,n,Q),w%2===0){const D=Math.sin(w*2.7+d*.003)*i*.3+i*.3;R(D,O+n,30,2,ht)}}}function F(i,s,d,n,p){c&&(c.beginPath(),c.ellipse(i,s,d*.6+4,n*.5+4,0,0,Math.PI*2),c.fillStyle=In,c.fill(),c.beginPath(),c.ellipse(i,s,d*.55+2,n*.45+2,0,0,Math.PI*2),c.fillStyle=xt,c.fill(),c.beginPath(),c.ellipse(i,s-2,d*.45,n*.35,0,0,Math.PI*2),c.fillStyle=St,c.fill(),c.beginPath(),c.ellipse(i-d*.1,s-4,d*.25,n*.2,0,0,Math.PI*2),c.fillStyle=Dn,c.fill(),p>=1&&(c.beginPath(),c.ellipse(i+d*.15,s+2,d*.15,n*.12,0,0,Math.PI*2),c.fillStyle=Pn,c.fill()),p===2&&(c.beginPath(),c.ellipse(i+d*.7,s+n*.3,d*.15,n*.12,0,0,Math.PI*2),c.fillStyle=xt,c.fill(),c.beginPath(),c.ellipse(i+d*.7,s+n*.3-1,d*.1,n*.08,0,0,Math.PI*2),c.fillStyle=St,c.fill()))}function te(i,s,d,n){c&&(c.globalAlpha=.3,c.fillStyle=An,c.beginPath(),c.ellipse(i,s,d*.4,n*.4,0,0,Math.PI*2),c.fill(),c.beginPath(),c.ellipse(i-d*.2,s+2,d*.3,n*.35,0,0,Math.PI*2),c.fill(),c.beginPath(),c.ellipse(i+d*.25,s+1,d*.35,n*.38,0,0,Math.PI*2),c.fill(),c.fillStyle=Bn,c.beginPath(),c.ellipse(i-d*.05,s-n*.1,d*.2,n*.2,0,0,Math.PI*2),c.fill(),c.globalAlpha=1)}function g(i,s,d){if(!c)return;const n=d;c.globalAlpha=.15,c.fillStyle="#000",c.beginPath(),c.ellipse(i+3,s+3,12*n,4*n,0,0,Math.PI*2),c.fill(),c.globalAlpha=1,R(i-22*n,s-2*n,44*n,5*n,Ye),R(i-20*n,s-1*n,40*n,3*n,ke),R(i-3*n,s-14*n,6*n,28*n,ke),R(i-2*n,s-16*n,4*n,32*n,Ye),R(i-2*n,s-18*n,4*n,4*n,Ze),R(i-1*n,s-20*n,2*n,3*n,ke),R(i-2*n,s-6*n,4*n,5*n,Ln),R(i-1*n,s-5*n,2*n,3*n,"#4a6a8a"),R(i-8*n,s+12*n,16*n,3*n,Ye),R(i-6*n,s+13*n,12*n,2*n,ke),R(i-14*n,s-4*n,4*n,8*n,ke),R(i+10*n,s-4*n,4*n,8*n,ke),c.globalAlpha=.4,R(i-14*n,s-7*n,4*n,3*n,Ze),R(i+10*n,s-7*n,4*n,3*n,Ze),c.globalAlpha=1}function G(){if(!b.value||!c)return;const i=b.value.width,s=b.value.height;if(c.imageSmoothingEnabled=!1,c.clearRect(0,0,i,s),$+=y.scrollSpeed,J(i,s,$),y.enableIslands&&!B){const d=$*.6,n=2e3;for(const p of K){const A=p.x*i,w=(p.y+d)%n-100;w>-100&&w<s+100&&F(A,w,p.w,p.h,p.type)}}if(y.enableClouds&&!B){const d=$*.3,n=1500;for(const p of U){const A=p.x*i,w=(p.y+d)%n-50;w>-50&&w<s+50&&te(A,w,p.w,p.h)}}if(y.enablePlane&&!B){_+=.02,k=Math.sin(_)*8;const d=i*.5+Math.sin(_*.7)*15,n=s*.72+k;g(d,n,1.5)}T=requestAnimationFrame(G)}function q(){b.value&&(b.value.width=window.innerWidth,b.value.height=window.innerHeight,B=window.matchMedia("(max-width: 768px)").matches)}return tt(()=>{b.value&&(c=b.value.getContext("2d"),q(),window.addEventListener("resize",q),G())}),wt(()=>{T&&cancelAnimationFrame(T),window.removeEventListener("resize",q)}),(i,s)=>(o(),l("canvas",{ref_key:"canvas",ref:b,class:"arcade-1942-bg",style:t({opacity:y.opacity})},null,4))}}),Nn=Ae(En,[["__scopeId","data-v-22130497"]]),fe={accentColor:"#4a6741",bgColor:"#1a2a3a",goldColor:"#c4a747"},Mn={class:"project-task-list"},Wn=["placeholder"],Gn=["value"],On=["disabled"],Fn=["onClick"],Un={key:0},jn=["onClick"],Vn=ue({__name:"ProjectTaskList",props:ve({tasks:{},showAddForm:{type:Boolean},showDelete:{type:Boolean},showPriority:{type:Boolean},showCategories:{type:Boolean},showDue:{type:Boolean},categoryOptions:{},addPlaceholder:{},accentColor:{},bgColor:{},goldColor:{}},{...fe,showAddForm:!0,showDelete:!0,showPriority:!0,showCategories:!1,showDue:!1,categoryOptions:()=>[],addPlaceholder:"New task..."}),emits:["add","toggle","delete"],setup(x,{emit:y}){const b=x,c=y,T=z(""),$=z(0),B=z(""),E=z("");function L(){T.value.trim()&&(c("add",{summary:T.value.trim(),priority:$.value,categories:B.value||void 0,due:E.value||void 0}),T.value="",$.value=0,B.value="",E.value="")}function K(D){if(!D)return"";try{return new Date(D).toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return D}}const U={display:"flex",gap:"0.4rem",marginBottom:"0.75rem",flexWrap:"wrap"},k={flex:"1",minWidth:"150px",fontSize:"0.75rem",padding:"0.4rem",background:b.bgColor,color:"var(--text-bright)",border:`2px solid ${b.accentColor}66`},_={width:"60px",fontSize:"0.65rem",padding:"0.35rem",background:b.bgColor,color:"var(--text-bright)",border:`2px solid ${b.accentColor}66`},R={width:"auto",fontSize:"0.65rem",padding:"0.35rem",background:b.bgColor,color:"var(--text-bright)",border:`2px solid ${b.accentColor}66`},J={width:"130px",fontSize:"0.65rem",padding:"0.35rem",background:b.bgColor,color:"var(--text-bright)",border:`2px solid ${b.accentColor}66`},F={fontSize:"0.65rem",padding:"0.35rem 0.7rem"},te={textAlign:"center",padding:"1.5rem",color:"var(--text-muted)",fontSize:"0.8rem"},g={display:"flex",flexDirection:"column",gap:"2px"},G=D=>({display:"flex",alignItems:"flex-start",gap:"0.5rem",padding:"0.6rem",background:D?`${b.bgColor}88`:`${b.bgColor}cc`,border:`1px solid ${D?b.accentColor+"22":b.accentColor+"44"}`,borderRadius:"2px",opacity:D?"0.6":"1"}),q={flexShrink:"0",cursor:"pointer",padding:"0.1rem"},i=D=>({width:"22px",height:"22px",border:`3px solid ${D?"#22c55e":b.accentColor}`,borderRadius:"2px",background:D?"#22c55e":"transparent",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"700",fontSize:"12px"}),s={flex:"1",display:"flex",flexDirection:"column",gap:"0.15rem"},d={display:"flex",alignItems:"center",gap:"0.4rem"},n=D=>({fontSize:"0.55rem",padding:"0.1rem 0.3rem",borderRadius:"2px",fontWeight:"700",background:D<=1?"#ef4444":D<=3?"#f59e0b":"#6b7280",color:"#fff"}),p=D=>({fontSize:"0.8rem",color:D?"var(--text-muted)":"var(--text-bright)",textDecoration:D?"line-through":"none",fontWeight:"500"}),A={fontSize:"0.65rem",color:"var(--text-muted)",lineHeight:"1.4"},w={display:"flex",gap:"0.4rem",flexWrap:"wrap",marginTop:"0.1rem"},O={fontSize:"0.6rem",color:"var(--text-muted)"},Q={fontSize:"0.55rem",padding:"0.05rem 0.3rem",background:`${b.accentColor}33`,color:"#c4a747",borderRadius:"2px"},oe={padding:"0.1rem 0.35rem",fontSize:"0.55rem",flexShrink:"0"};return(D,j)=>(o(),l("div",Mn,[x.showAddForm?(o(),l("div",{key:0,style:U},[ee(e("input",{"onUpdate:modelValue":j[0]||(j[0]=I=>T.value=I),placeholder:x.addPlaceholder,class:"nes-input",style:k,onKeyup:Ct(L,["enter"])},null,40,Wn),[[ie,T.value]]),x.showPriority?ee((o(),l("select",{key:0,"onUpdate:modelValue":j[1]||(j[1]=I=>$.value=I),class:"nes-select",style:_},[...j[4]||(j[4]=[e("option",{value:0},"â€”",-1),e("option",{value:1},"P1",-1),e("option",{value:3},"P3",-1),e("option",{value:5},"P5",-1),e("option",{value:9},"P9",-1)])],512)),[[ge,$.value]]):C("",!0),x.showCategories?ee((o(),l("select",{key:1,"onUpdate:modelValue":j[2]||(j[2]=I=>B.value=I),class:"nes-select",style:R},[j[5]||(j[5]=e("option",{value:""},"No category",-1)),(o(!0),l(N,null,V(x.categoryOptions,I=>(o(),l("option",{key:I,value:I},u(I),9,Gn))),128))],512)),[[ge,B.value]]):C("",!0),x.showDue?ee((o(),l("input",{key:2,"onUpdate:modelValue":j[3]||(j[3]=I=>E.value=I),type:"date",class:"nes-input",style:J},null,512)),[[ie,E.value]]):C("",!0),e("button",{class:"nes-btn is-success",style:F,onClick:L,disabled:!T.value.trim()},"Add",8,On)])):C("",!0),x.tasks.length===0?(o(),l("div",{key:1,style:te},[nt(D.$slots,"empty",{},()=>[j[6]||(j[6]=e("p",null,"No tasks found.",-1))],!0)])):(o(),l("div",{key:2,style:g},[(o(!0),l(N,null,V(x.tasks,I=>(o(),l("div",{key:I.id,style:t(G(I.status==="completed")),class:"project-task-item"},[e("div",{style:q,onClick:Y=>D.$emit("toggle",I.id)},[e("div",{style:t(i(I.status==="completed"))},[I.status==="completed"?(o(),l("span",Un,"âœ“")):C("",!0)],4)],8,Fn),e("div",{style:s},[e("div",{style:d},[I.priority>=1&&I.priority<=3?(o(),l("span",{key:0,style:t(n(I.priority))},"P"+u(I.priority),5)):C("",!0),e("span",{style:t(p(I.status==="completed"))},u(I.summary),5)]),I.description?(o(),l("div",{key:0,style:A},u(I.description),1)):C("",!0),e("div",{style:w},[I.due?(o(),l("span",{key:0,style:O},u(K(I.due)),1)):C("",!0),(o(!0),l(N,null,V(I.categories,Y=>(o(),l("span",{key:Y,style:Q},u(Y),1))),128))])]),x.showDelete?(o(),l("button",{key:0,class:"nes-btn is-error",style:oe,onClick:Y=>D.$emit("delete",I.id)},"X",8,jn)):C("",!0)],4))),128))]))]))}}),_n=Ae(Vn,[["__scopeId","data-v-29dcb314"]]),Hn=ue({__name:"ProjectGoalCard",props:ve({goal:{},showDelete:{type:Boolean},accentColor:{},bgColor:{},goldColor:{}},{...fe,showDelete:!0}),emits:["delete"],setup(x){const y=x,b=v(()=>y.goal.target?Math.round(y.goal.current/y.goal.target*100):0),c=v(()=>({background:`${y.bgColor}cc`,border:`2px solid ${y.accentColor}55`,borderRadius:"4px",padding:"0.75rem"})),T={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.4rem"},$={fontSize:"0.8rem",color:"#c4a747",margin:"0",fontWeight:"600"},B={padding:"0.1rem 0.35rem",fontSize:"0.55rem"},E={display:"flex",alignItems:"baseline",gap:"0.15rem",marginBottom:"0.25rem"},L=v(()=>({fontSize:"1.2rem",fontWeight:"700",color:y.goal.current>=y.goal.target?"#22c55e":"var(--text-bright)"})),K={fontSize:"0.8rem",color:"var(--text-muted)"},U={fontSize:"0.8rem",color:"var(--text-muted)"},k=v(()=>({height:"18px",background:y.bgColor,border:`2px solid ${y.accentColor}44`,borderRadius:"2px",overflow:"hidden",marginTop:"0.4rem"})),_=v(()=>({height:"100%",width:`${Math.min(100,b.value)}%`,background:b.value>=100?"#22c55e":`linear-gradient(90deg, ${y.goal.color||y.accentColor}, ${y.goal.color||y.accentColor}cc)`,transition:"width 0.3s ease"})),R={fontSize:"0.7rem",color:"#c4a747",textAlign:"right",marginTop:"0.2rem"};return(J,F)=>(o(),l("div",{style:t(c.value)},[e("div",{style:T},[e("h3",{style:$},u(x.goal.label),1),x.showDelete?(o(),l("button",{key:0,class:"nes-btn is-error",style:B,onClick:F[0]||(F[0]=te=>J.$emit("delete",x.goal.id))},"X")):C("",!0)]),e("div",{style:E},[e("span",{style:t(L.value)},"$"+u(x.goal.current.toLocaleString()),5),e("span",{style:K}," / "),e("span",{style:U},"$"+u(x.goal.target.toLocaleString()),1)]),e("div",{style:t(k.value)},[e("div",{style:t(_.value)},null,4)],4),e("div",{style:R},u(b.value)+"%",1),nt(J.$slots,"edit")],4))}}),Kn=ue({__name:"ProjectTimelineView",props:ve({events:{},accentColor:{},bgColor:{},goldColor:{}},{...fe}),setup(x){const y=x;function b(R){if(!R)return"";try{return new Date(R).toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return R}}const c={},T={textAlign:"center",padding:"1.5rem",color:"var(--text-muted)",fontSize:"0.8rem"},$={display:"flex",flexDirection:"column",borderLeft:`3px solid ${y.accentColor}55`,marginLeft:"0.5rem",paddingLeft:"1rem"},B={position:"relative",padding:"0.5rem 0",borderBottom:`1px solid ${y.accentColor}22`},E={position:"absolute",left:"-1.35rem",top:"0.65rem",width:"10px",height:"10px",borderRadius:"50%",background:y.accentColor,border:`2px solid ${y.goldColor}`},L={display:"flex",flexDirection:"column",gap:"0.1rem"},K={fontSize:"0.6rem",color:y.goldColor,fontWeight:"600"},U={fontSize:"0.8rem",color:"var(--text-bright)"},k={fontSize:"0.65rem",color:"var(--text-muted)",lineHeight:"1.4"},_={fontSize:"0.55rem",padding:"0.05rem 0.3rem",background:`${y.accentColor}33`,color:y.goldColor,borderRadius:"2px",display:"inline-block",marginTop:"0.15rem"};return(R,J)=>(o(),l("div",{style:c},[x.events.length===0?(o(),l("div",{key:0,style:T},[nt(R.$slots,"empty",{},()=>[J[0]||(J[0]=e("p",null,"No events to display.",-1))])])):(o(),l("div",{key:1,style:$},[(o(!0),l(N,null,V(x.events,F=>(o(),l("div",{key:F.id,style:B},[e("div",{style:E}),e("div",{style:L},[e("div",{style:K},u(b(F.startDate)),1),e("div",{style:U},u(F.title),1),F.description?(o(),l("div",{key:0,style:k},u(F.description),1)):C("",!0),F.category?(o(),l("span",{key:1,style:_},u(F.category),1)):C("",!0)])]))),128))]))]))}}),qn={class:"nav-emoji"},Jn=ue({__name:"ProjectQuickLinks",props:{links:{}},setup(x){const y={display:"flex",flexWrap:"wrap",gap:"0.4rem"},b=c=>({fontSize:"0.6rem",padding:"0.35rem 0.6rem",background:c,color:"#fff",textDecoration:"none",display:"flex",alignItems:"center",gap:"0.3rem"});return(c,T)=>(o(),l("div",{style:y},[(o(!0),l(N,null,V(x.links,$=>(o(),xe(hn($.url.startsWith("/")?"router-link":"a"),{key:$.label,to:$.url.startsWith("/")?$.url:void 0,href:$.url.startsWith("/")?void 0:$.url,target:$.url.startsWith("/")?void 0:"_blank",class:"nes-btn",style:t(b($.color))},{default:we(()=>[e("span",qn,u($.emoji),1),et(" "+u($.label),1)]),_:2},1032,["to","href","target","style"]))),128))]))}}),Xn={style:{flex:"1","min-width":"0"}},Qn=["value"],Yn=ue({__name:"DecisionGateCard",props:ve({gate:{},allGates:{},accentColor:{},bgColor:{},goldColor:{}},{...fe,allGates:()=>[]}),emits:["update"],setup(x){const y=x,b=v(()=>{switch(y.gate.status){case"completed":return"âœ…";case"in-progress":return"â³";case"blocked":return"â›”";default:return"â¬œ"}}),c=v(()=>y.gate.status==="not-started"&&!y.gate.depsReady&&y.gate.dependencies.length>0?"LOCKED":y.gate.status.replace("-"," ").toUpperCase());function T(i){const s=y.allGates.find(d=>d.id===i);return(s==null?void 0:s.label)||i}function $(i){const s=y.allGates.find(n=>n.id===i),d=(s==null?void 0:s.status)==="completed";return{fontSize:"0.55rem",padding:"0.1rem 0.35rem",borderRadius:"2px",background:d?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)",color:d?"#22c55e":"#ef4444",border:`1px solid ${d?"#22c55e44":"#ef444444"}`}}const B=v(()=>{switch(y.gate.status){case"completed":return"#22c55e";case"in-progress":return"#f59e0b";case"blocked":return"#ef4444";default:return`${y.accentColor}55`}}),E=v(()=>({background:`${y.bgColor}cc`,border:`2px solid ${B.value}`,borderRadius:"4px",padding:"0.6rem",marginBottom:"0.5rem",backdropFilter:"blur(4px)"})),L={display:"flex",alignItems:"flex-start",gap:"0.5rem"},K={fontSize:"1rem",lineHeight:"1"},U={fontSize:"0.75rem",color:"#c4a747",margin:"0",fontWeight:"600"},k={fontSize:"0.6rem",color:"var(--text-muted)",margin:"0.15rem 0 0 0"},_=v(()=>({fontSize:"0.5rem",padding:"0.15rem 0.35rem",borderRadius:"2px",fontWeight:"700",whiteSpace:"nowrap",background:B.value+"33",color:B.value,border:`1px solid ${B.value}66`})),R={display:"flex",gap:"0.3rem",alignItems:"center",flexWrap:"wrap",marginTop:"0.4rem"},J={fontSize:"0.55rem",color:"var(--text-muted)"},F={marginTop:"0.3rem",display:"flex",gap:"0.3rem",alignItems:"baseline"},te={fontSize:"0.55rem",color:"var(--text-muted)",whiteSpace:"nowrap"},g={fontSize:"0.6rem",color:"#22c55e"},G={marginTop:"0.4rem",display:"flex",gap:"0.3rem"},q=v(()=>({fontSize:"0.55rem",padding:"0.2rem 0.3rem",background:y.bgColor,color:"var(--text-bright)",border:`1px solid ${y.accentColor}66`,borderRadius:"2px"}));return(i,s)=>(o(),l("div",{style:t(E.value)},[e("div",{style:L},[e("span",{style:K},u(b.value),1),e("div",Xn,[e("h4",{style:U},u(x.gate.label),1),x.gate.description?(o(),l("p",{key:0,style:k},u(x.gate.description),1)):C("",!0)]),e("span",{style:t(_.value)},u(c.value),5)]),x.gate.dependencies.length>0?(o(),l("div",{key:0,style:R},[e("span",{style:J},"Requires:"),(o(!0),l(N,null,V(x.gate.dependencies,d=>(o(),l("span",{key:d,style:t($(d))},u(T(d)),5))),128))])):C("",!0),x.gate.evidence?(o(),l("div",{key:1,style:F},[e("span",{style:te},"Evidence:"),e("span",{style:g},u(x.gate.evidence),1)])):C("",!0),e("div",{style:G},[e("select",{value:x.gate.status,style:t(q.value),class:"nes-select",onChange:s[0]||(s[0]=d=>i.$emit("update",x.gate.id,{status:d.target.value}))},[...s[1]||(s[1]=[e("option",{value:"not-started"},"Not Started",-1),e("option",{value:"in-progress"},"In Progress",-1),e("option",{value:"blocked"},"Blocked",-1),e("option",{value:"completed"},"Completed",-1)])],44,Qn)])],4))}}),Zn=[{id:"foundation",label:"Foundation",description:"Pre-baby prep"},{id:"paternity",label:"Paternity",description:"Mar-May 2026"},{id:"transition",label:"Transition",description:"Notice & handoff"},{id:"launch",label:"Launch",description:"First clients"},{id:"steady-state",label:"Steady State",description:"Full independence"}];function ea(){const x=z([]),y=z([]),b=z([]),c=z([]),T=z([]),$=z([]),B=z([]),E=z([]),L=z(new Map),K=z(null),U=z(!1),k=z(null),_=z({total:0,businessTotal:0,personalTotal:0});async function R(){try{const r=await M("/financials/gates");x.value=r.gates||[]}catch(r){k.value=r.message}}async function J(r,h){try{const P=await M(`/financials/gates/${r}`,{method:"PUT",body:JSON.stringify(h)});return await R(),P}catch(P){throw k.value=P.message,P}}async function F(){try{await M("/financials/gates/seed",{method:"POST"}),await R()}catch(r){k.value=r.message}}async function te(){try{const r=await M("/financials/timeline");y.value=(r.milestones||[]).sort((h,P)=>h.sortOrder-P.sortOrder)}catch(r){k.value=r.message}}async function g(r){try{await M("/financials/timeline",{method:"POST",body:JSON.stringify(r)}),await te()}catch(h){k.value=h.message}}async function G(){try{const r=await M("/financials/goals");b.value=r.goals||[]}catch(r){k.value=r.message}}async function q(r){try{await M("/financials/goals",{method:"POST",body:JSON.stringify(r)}),await G()}catch(h){k.value=h.message}}async function i(r,h){try{await M(`/financials/goals/${r}`,{method:"PUT",body:JSON.stringify(h)}),await G()}catch(P){k.value=P.message}}async function s(r){try{await M(`/financials/goals/${r}`,{method:"DELETE"}),await G()}catch(h){k.value=h.message}}async function d(){try{await M("/financials/goals/seed",{method:"POST"}),await G()}catch(r){k.value=r.message}}async function n(r){if(!(b.value.length>0))try{const h=localStorage.getItem(r);if(!h)return;const P=JSON.parse(h);if(!Array.isArray(P)||P.length===0)return;for(const X of P)await M("/financials/goals",{method:"POST",body:JSON.stringify({id:X.id,label:X.label,target:X.target,current:X.current,unit:X.unit,color:X.color})});localStorage.removeItem(r),await G()}catch{}}async function p(){try{const r=await M("/financials/risks");c.value=r.risks||[]}catch(r){k.value=r.message}}async function A(r){try{await M("/financials/risks",{method:"POST",body:JSON.stringify(r)}),await p()}catch(h){k.value=h.message}}async function w(r,h){try{await M(`/financials/risks/${r}`,{method:"PUT",body:JSON.stringify(h)}),await p()}catch(P){k.value=P.message}}async function O(r,h){return w(r,{column:h})}async function Q(r){try{await M(`/financials/risks/${r}`,{method:"DELETE"}),await p()}catch(h){k.value=h.message}}async function oe(){try{await M("/financials/risks/seed",{method:"POST"}),await p()}catch(r){k.value=r.message}}async function D(){try{const r=await M("/financials/categories");$.value=r.categories||[]}catch(r){k.value=r.message}}async function j(r){try{const h=new URLSearchParams;r!=null&&r.month&&h.set("month",r.month),r!=null&&r.category&&h.set("category",r.category),r!=null&&r.classification&&h.set("classification",r.classification);const P=h.toString()?`?${h}`:"",X=await M(`/financials/expenses${P}`);T.value=X.expenses||[],_.value={total:X.total||0,businessTotal:X.businessTotal||0,personalTotal:X.personalTotal||0}}catch(h){k.value=h.message}}async function I(r){try{await M("/financials/expenses",{method:"POST",body:JSON.stringify(r)}),await j()}catch(h){k.value=h.message}}async function Y(){try{const r=await M("/financials/revenue");B.value=r.streams||[]}catch(r){k.value=r.message}}async function pe(r){try{await M("/financials/revenue",{method:"POST",body:JSON.stringify(r)}),await Y()}catch(h){k.value=h.message}}async function le(r,h){try{await M(`/financials/revenue/${r}`,{method:"PUT",body:JSON.stringify(h)}),await Y()}catch(P){k.value=P.message}}async function H(r){try{await M(`/financials/revenue/${r}`,{method:"DELETE"}),await Y()}catch(h){k.value=h.message}}async function Z(){try{await M("/financials/revenue/seed",{method:"POST"}),await Y()}catch(r){k.value=r.message}}async function se(){try{const r=await M("/financials/scenarios");E.value=r.scenarios||[]}catch(r){k.value=r.message}}async function Ce(r){try{await M("/financials/scenarios",{method:"POST",body:JSON.stringify(r)}),await se()}catch(h){k.value=h.message}}async function Te(r,h){try{await M(`/financials/scenarios/${r}`,{method:"PUT",body:JSON.stringify(h)}),await se()}catch(P){k.value=P.message}}async function Be(r){try{await M(`/financials/scenarios/${r}`,{method:"DELETE"}),await se(),L.value.delete(r)}catch(h){k.value=h.message}}async function Le(){try{await M("/financials/scenarios/seed",{method:"POST"}),await se()}catch(r){k.value=r.message}}async function Pe(r,h){try{const P=h?`?start=${h}`:"",X=await M(`/financials/scenarios/${r}/projection${P}`);return L.value.set(r,X),X}catch(P){return k.value=P.message,null}}async function $e(r){const h=[];for(const P of E.value){const X=await Pe(P.id,r);X&&h.push(X)}return h}async function Ee(){try{const r=await M("/financials/rewards/estimate");K.value=r}catch(r){k.value=r.message}}const Ne=v(()=>{if(x.value.length===0)return 0;const r=x.value.filter(h=>h.status==="completed").length;return Math.round(r/x.value.length*100)}),Me=v(()=>{const h=[...x.value].sort((P,X)=>P.sortOrder-X.sortOrder).find(P=>P.status!=="completed");return(h==null?void 0:h.phase)||"steady-state"}),We=v(()=>_.value.total),Ge=v(()=>{const r=new Date().toISOString().slice(0,10);return y.value.filter(P=>P.targetDate&&P.targetDate>=r&&P.status!=="completed").sort((P,X)=>(P.targetDate||"").localeCompare(X.targetDate||""))[0]||null}),Oe=v(()=>c.value.filter(r=>r.column==="known-known")),Fe=v(()=>c.value.filter(r=>r.column==="known-unknown")),Ue=v(()=>c.value.filter(r=>r.column==="mitigated"));async function je(){U.value=!0;try{await Promise.all([R(),te(),G(),p(),D(),j(),Y(),se()]),E.value.length>0&&await $e()}finally{U.value=!1}}return{gates:x,milestones:y,goals:b,risks:c,expenses:T,categories:$,revenueStreams:B,scenarios:E,projections:L,rewards:K,isLoading:U,error:k,expenseTotals:_,gateProgress:Ne,activePhase:Me,monthlyBurn:We,nextMilestone:Ge,knownKnowns:Oe,knownUnknowns:Fe,mitigatedRisks:Ue,fetchGates:R,updateGate:J,seedDefaultGates:F,fetchTimeline:te,addMilestone:g,fetchGoals:G,addGoal:q,updateGoal:i,removeGoal:s,seedDefaultGoals:d,migrateGoalsFromLocalStorage:n,fetchRisks:p,addRisk:A,updateRisk:w,moveRisk:O,deleteRisk:Q,seedDefaultRisks:oe,fetchCategories:D,fetchExpenses:j,addExpense:I,fetchRevenue:Y,addRevenueStream:pe,updateRevenueStream:le,deleteRevenueStream:H,seedDefaultRevenue:Z,fetchScenarios:se,addScenario:Ce,updateScenario:Te,deleteScenario:Be,seedDefaultScenarios:Le,fetchProjection:Pe,fetchAllProjections:$e,fetchRewards:Ee,init:je}}const ta=["onClick"],na={style:{flex:"1","min-width":"0"}},kt=ue({__name:"PhaseTimeline",props:ve({activePhase:{},milestones:{},accentColor:{},bgColor:{},goldColor:{}},{...fe,milestones:()=>[]}),emits:["select-phase"],setup(x){const y=x,b=Zn,c=v(()=>b.findIndex(s=>s.id===y.activePhase)),T=v(()=>{var s;return((s=b.find(d=>d.id===y.activePhase))==null?void 0:s.label)||y.activePhase}),$=v(()=>[...y.milestones].sort((s,d)=>{const n=b.findIndex(p=>p.id===s.phase)-b.findIndex(p=>p.id===d.phase);return n!==0?n:(s.targetDate||"").localeCompare(d.targetDate||"")})),B={marginBottom:"1rem"},E={display:"flex",borderRadius:"4px",overflow:"hidden",border:"2px solid rgba(74, 103, 65, 0.4)",height:"32px"};function L(s,d){const n=s===y.activePhase,p=d<c.value;return{flex:"1",display:"flex",alignItems:"center",justifyContent:"center",background:n?y.accentColor:p?"rgba(34, 197, 94, 0.3)":"rgba(26, 42, 58, 0.8)",cursor:"pointer",borderRight:d<b.length-1?"1px solid rgba(74, 103, 65, 0.3)":"none",transition:"background 0.2s",position:"relative"}}function K(s){const d=s===y.activePhase;return{fontSize:"0.5rem",fontWeight:d?"700":"400",color:d?"#fff":"var(--text-muted)",letterSpacing:"0.3px",textTransform:"uppercase"}}const U={display:"flex",alignItems:"center",marginTop:"0.3rem",gap:"0.3rem"},k=v(()=>({width:`${(c.value+.5)/b.length*100}%`})),_={fontSize:"0.55rem",color:"#c4a747",fontWeight:"600",whiteSpace:"nowrap",transform:"translateX(-50%)"},R={marginTop:"0.75rem"},J={fontSize:"0.7rem",color:"#c4a747",margin:"0 0 0.4rem 0",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"};function F(s){return{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.3rem 0",borderBottom:"1px solid rgba(74, 103, 65, 0.15)",opacity:s.status==="completed"?"0.6":"1"}}const te={fontSize:"0.55rem",color:"var(--text-muted)",minWidth:"4.5rem",fontFamily:"monospace"};function g(s){return{width:"6px",height:"6px",borderRadius:"50%",background:s==="completed"?"#22c55e":s==="active"?"#f59e0b":"var(--text-muted)",flexShrink:"0"}}const G={fontSize:"0.7rem",color:"var(--text-bright)"},q={fontSize:"0.6rem",color:"var(--text-muted)"};function i(s){return{fontSize:"0.45rem",padding:"0.1rem 0.3rem",borderRadius:"2px",background:"rgba(74, 103, 65, 0.2)",color:"var(--text-muted)",textTransform:"uppercase",whiteSpace:"nowrap"}}return(s,d)=>(o(),l("div",{style:B},[e("div",{style:E},[(o(!0),l(N,null,V(S(b),(n,p)=>(o(),l("div",{key:n.id,style:t(L(n.id,p)),onClick:A=>s.$emit("select-phase",n.id)},[e("span",{style:t(K(n.id))},u(n.label),5)],12,ta))),128))]),e("div",{style:U},[e("div",{style:t(k.value)},null,4),e("span",{style:_},u(T.value)+" Phase",1)]),x.milestones.length>0?(o(),l("div",{key:0,style:R},[e("h4",{style:J},"Milestones"),(o(!0),l(N,null,V($.value,n=>(o(),l("div",{key:n.id,style:t(F(n))},[e("span",{style:te},u(n.targetDate||"TBD"),1),e("span",{style:t(g(n.status))},null,4),e("div",na,[e("span",{style:G},u(n.label),1),n.description?(o(),l("span",{key:0,style:q}," â€” "+u(n.description),1)):C("",!0)]),e("span",{style:t(i(n.phase))},u(n.phase),5)],4))),128))])):C("",!0)]))}}),aa=["onClick","title"],oa=["disabled"],la=ue({__name:"RiskKanbanBoard",props:ve({risks:{},showAddForm:{type:Boolean},accentColor:{},bgColor:{},goldColor:{}},{...fe,showAddForm:!0}),emits:["move","add","delete"],setup(x,{emit:y}){const b=x,c=y,T=[{id:"known-known",label:"Known Knowns",icon:"âœ…"},{id:"known-unknown",label:"Known Unknowns",icon:"â“"},{id:"mitigated",label:"Mitigated",icon:"ðŸ›¡ï¸"}],$=z(""),B=z("known-unknown"),E=z("medium");function L(le){return b.risks.filter(H=>H.column===le)}function K(le,H){(H==="known-unknown"||H==="known-known")&&c("move",le.id,"mitigated")}function U(){$.value.trim()&&(c("add",{title:$.value.trim(),column:B.value,impact:E.value,description:""}),$.value="")}const k=v(()=>({display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"0.5rem"})),_={display:"flex",flexDirection:"column",minWidth:"0"};function R(le){const H={"known-known":"#22c55e","known-unknown":"#f59e0b",mitigated:"#3a7bd5"};return{display:"flex",alignItems:"center",gap:"0.3rem",padding:"0.35rem 0.5rem",background:(H[le]||"#4a6741")+"22",borderBottom:`2px solid ${H[le]||"#4a6741"}66`,borderRadius:"4px 4px 0 0",marginBottom:"0.3rem"}}const J={fontSize:"0.7rem"},F={fontSize:"0.55rem",fontWeight:"600",color:"var(--text-bright)",flex:"1"},te={fontSize:"0.5rem",padding:"0.1rem 0.3rem",borderRadius:"8px",background:"rgba(74, 103, 65, 0.3)",color:"var(--text-muted)"},g={display:"flex",flexDirection:"column",gap:"0.3rem",flex:"1"};function G(le){return{background:`${b.bgColor}cc`,border:`1px solid ${b.accentColor}44`,borderRadius:"3px",padding:"0.4rem",backdropFilter:"blur(4px)"}}const q={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.2rem"};function i(le){const H={high:"#ef4444",medium:"#f59e0b",low:"#6b7280"};return{fontSize:"0.45rem",padding:"0.1rem 0.25rem",borderRadius:"2px",fontWeight:"700",background:(H[le]||"#6b7280")+"33",color:H[le]||"#6b7280"}}const s={padding:"0.1rem 0.25rem",fontSize:"0.5rem",lineHeight:"1"},d={fontSize:"0.65rem",color:"#c4a747",margin:"0 0 0.15rem 0",fontWeight:"600"},n={fontSize:"0.55rem",color:"var(--text-muted)",margin:"0",lineHeight:"1.3"},p={marginTop:"0.25rem",display:"flex",gap:"0.2rem",alignItems:"baseline"},A={fontSize:"0.5rem",color:"#22c55e",fontWeight:"600"},w={fontSize:"0.5rem",color:"#22c55e"},O={marginTop:"0.2rem",display:"flex",gap:"0.2rem",alignItems:"baseline"},Q={fontSize:"0.45rem",color:"var(--text-muted)"},oe={fontSize:"0.45rem",color:"#3a7bd5"},D={textAlign:"center",padding:"1rem 0.5rem",color:"var(--text-muted)",fontSize:"0.6rem",opacity:"0.6"},j=v(()=>({gridColumn:"1 / -1",display:"flex",gap:"0.3rem",marginTop:"0.5rem",flexWrap:"wrap",alignItems:"center"})),I=v(()=>({flex:"1",minWidth:"150px",fontSize:"0.65rem",padding:"0.3rem",background:b.bgColor,color:"var(--text-bright)",border:`2px solid ${b.accentColor}66`})),Y=v(()=>({fontSize:"0.55rem",padding:"0.25rem",background:b.bgColor,color:"var(--text-bright)",border:`1px solid ${b.accentColor}66`,width:"auto"})),pe={padding:"0.25rem 0.5rem",fontSize:"0.6rem"};return(le,H)=>(o(),l("div",{style:t(k.value)},[(o(),l(N,null,V(T,Z=>e("div",{key:Z.id,style:_},[e("div",{style:t(R(Z.id))},[e("span",{style:J},u(Z.icon),1),e("span",{style:F},u(Z.label),1),e("span",{style:te},u(L(Z.id).length),1)],4),e("div",{style:g},[(o(!0),l(N,null,V(L(Z.id),se=>(o(),l("div",{key:se.id,style:t(G())},[e("div",{style:q},[e("span",{style:t(i(se.impact))},u(se.impact.toUpperCase()),5),Z.id!=="mitigated"?(o(),l("button",{key:0,class:"nes-btn",style:s,onClick:Ce=>K(se,Z.id),title:Z.id==="known-known"?"Already resolved":"Mark mitigated"},u(Z.id==="known-unknown"?"â†’":"âœ“"),9,aa)):C("",!0)]),e("h5",{style:d},u(se.title),1),e("p",{style:n},u(se.description),1),se.mitigation?(o(),l("div",{key:0,style:p},[e("span",{style:A},"Resolution:"),e("span",{style:w},u(se.mitigation),1)])):C("",!0),se.linkedGateId?(o(),l("div",{key:1,style:O},[e("span",{style:Q},"Gate:"),e("span",{style:oe},u(se.linkedGateId),1)])):C("",!0)],4))),128)),L(Z.id).length===0?(o(),l("div",{key:0,style:D}," No items ")):C("",!0)])])),64)),x.showAddForm?(o(),l("div",{key:0,style:t(j.value)},[ee(e("input",{"onUpdate:modelValue":H[0]||(H[0]=Z=>$.value=Z),placeholder:"New risk/fact...",class:"nes-input",style:t(I.value),onKeyup:Ct(U,["enter"])},null,36),[[ie,$.value]]),ee(e("select",{"onUpdate:modelValue":H[1]||(H[1]=Z=>B.value=Z),class:"nes-select",style:t(Y.value)},[...H[3]||(H[3]=[e("option",{value:"known-known"},"Known",-1),e("option",{value:"known-unknown"},"Unknown",-1)])],4),[[ge,B.value]]),ee(e("select",{"onUpdate:modelValue":H[2]||(H[2]=Z=>E.value=Z),class:"nes-select",style:t(Y.value)},[...H[4]||(H[4]=[e("option",{value:"high"},"High",-1),e("option",{value:"medium"},"Medium",-1),e("option",{value:"low"},"Low",-1)])],4),[[ge,E.value]]),e("button",{class:"nes-btn is-success",style:pe,onClick:U,disabled:!$.value.trim()},"+",8,oa)],4)):C("",!0)],4))}}),sa=Ae(la,[["__scopeId","data-v-fb8cb913"]]),ra=["onClick"],ia=ue({__name:"ScenarioChart",props:ve({projections:{},scenarios:{},accentColor:{},bgColor:{},goldColor:{}},{...fe}),setup(x){bt.register(...Cn);const y=x,b=z(null);let c=null;const T=z("cumulative"),$=[{id:"cumulative",label:"Runway"},{id:"monthly",label:"Monthly"},{id:"gross",label:"Gross Rev"}],B=v(()=>{const p=[];return y.projections.forEach(A=>p.push(A)),p});function E(p){const A=y.scenarios.find(w=>w.id===p);return(A==null?void 0:A.color)||y.accentColor}function L(){const p=B.value;if(p.length===0)return{labels:[],datasets:[]};const A=p[0].months.map(O=>O.month),w=p.map(O=>{const Q=E(O.scenarioId);let oe;switch(T.value){case"cumulative":oe=O.months.map(D=>D.cumulative);break;case"monthly":oe=O.months.map(D=>D.netCashFlow);break;case"gross":oe=O.months.map(D=>D.grossRevenue);break}return{label:O.scenario,data:oe,borderColor:Q,backgroundColor:Q+"22",borderWidth:2,pointRadius:3,pointHoverRadius:5,tension:.3,fill:T.value==="cumulative"}});return(T.value==="cumulative"||T.value==="monthly")&&w.push({label:"Break Even",data:A.map(()=>0),borderColor:"#ef444466",borderWidth:1,borderDash:[5,5],pointRadius:0,fill:!1}),{labels:A,datasets:w}}function K(){if(!b.value)return;const p=b.value.getContext("2d");if(!p)return;c&&c.destroy();const{labels:A,datasets:w}=L();A.length!==0&&(c=new bt(p,{type:"line",data:{labels:A,datasets:w},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"bottom",labels:{color:"#c4a747",font:{size:10,family:'"Press Start 2P", monospace'},padding:12,filter:O=>O.text!=="Break Even"}},tooltip:{backgroundColor:y.bgColor+"ee",titleColor:"#c4a747",bodyColor:"#e5e7eb",borderColor:y.accentColor+"66",borderWidth:1,titleFont:{size:9,family:'"Press Start 2P", monospace'},bodyFont:{size:8,family:'"Press Start 2P", monospace'},callbacks:{label:O=>{if(O.dataset.label==="Break Even")return"";const Q=O.parsed.y,oe=Q>=0?"$":"-$";return`${O.dataset.label}: ${oe}${Math.abs(Q).toLocaleString()}`}}}},scales:{x:{ticks:{color:"#6b7280",font:{size:7,family:'"Press Start 2P", monospace'},maxRotation:45},grid:{color:"rgba(74, 103, 65, 0.1)"}},y:{ticks:{color:"#6b7280",font:{size:7,family:'"Press Start 2P", monospace'},callback:O=>{const Q=Number(O);return Math.abs(Q)>=1e3?`$${(Q/1e3).toFixed(0)}k`:`$${Q}`}},grid:{color:"rgba(74, 103, 65, 0.1)"}}}}}))}function U(p){return Math.abs(p)>=1e3?`${(p/1e3).toFixed(1)}k`:p.toFixed(0)}Sn([()=>y.projections,T],()=>{ft(K)},{deep:!0}),tt(()=>{ft(K)});const k={marginBottom:"0.75rem"},_={display:"flex",gap:"0.25rem",marginBottom:"0.5rem"},R={fontSize:"0.5rem",padding:"0.2rem 0.5rem"},J={height:"280px",marginBottom:"0.75rem"},F=v(()=>({display:"grid",gridTemplateColumns:`repeat(${Math.min(B.value.length,3)}, 1fr)`,gap:"0.4rem"}));function te(p){return{background:`${y.bgColor}cc`,border:`1px solid ${E(p.scenarioId)}55`,borderRadius:"3px",padding:"0.4rem"}}const g={display:"flex",alignItems:"center",gap:"0.3rem",marginBottom:"0.3rem"};function G(p){return{width:"8px",height:"8px",borderRadius:"50%",background:E(p.scenarioId),flexShrink:"0"}}const q={fontSize:"0.55rem",fontWeight:"600",color:"#c4a747"},i={display:"flex",flexDirection:"column",gap:"0.15rem"},s={fontSize:"0.45rem",color:"var(--text-muted)",marginRight:"0.3rem"},d={fontSize:"0.6rem",color:"var(--text-bright)",fontWeight:"600"};function n(p){return{fontSize:"0.6rem",fontWeight:"600",color:p>=0?"#22c55e":"#ef4444"}}return(p,A)=>(o(),l("div",{style:k},[e("div",{style:_},[(o(),l(N,null,V($,w=>e("button",{key:w.id,class:ce(["nes-btn",T.value===w.id?"is-primary":""]),style:R,onClick:O=>T.value=w.id},u(w.label),11,ra)),64))]),e("div",{style:J},[e("canvas",{ref_key:"chartCanvas",ref:b},null,512)]),e("div",{style:t(F.value)},[(o(!0),l(N,null,V(B.value,w=>(o(),l("div",{key:w.scenarioId,style:t(te(w))},[e("div",{style:g},[e("span",{style:t(G(w))},null,4),e("span",{style:q},u(w.scenario),1)]),e("div",{style:i},[e("div",null,[e("span",{style:s},"Annual Gross"),e("span",{style:d},"$"+u(U(w.annualizedGross)),1)]),e("div",null,[e("span",{style:s},"Net Cash Flow"),e("span",{style:t(n(w.totalNetCashFlow))},"$"+u(U(w.totalNetCashFlow)),5)]),e("div",null,[e("span",{style:s},"Break Even"),e("span",{style:d},u(w.breakEvenMonth||"N/A"),1)])])],4))),128))],4)]))}}),ca=["checked","onChange"],ua=ue({__name:"WorkSprintCard",props:ve({tasks:{},accentColor:{},bgColor:{},goldColor:{}},{...fe}),emits:["toggle"],setup(x){const y=x,b=["lilly","regeneron","gbgreg","biosero"],c={lilly:"Lilly",regeneron:"Regeneron 560",gbgreg:"GBGreg Onboarding",biosero:"Biosero"},T={lilly:"#3a7bd5",regeneron:"#e8a838",gbgreg:"#22c55e",biosero:"#a855f7"},$=v(()=>{const i=y.tasks.filter(d=>d.categories.some(n=>b.includes(n))),s={};for(const d of i){const n=d.categories.find(p=>b.includes(p))||"other";s[n]||(s[n]=[]),s[n].push(d)}for(const d of Object.keys(s))s[d].sort((n,p)=>{if(n.status==="completed"&&p.status!=="completed")return 1;if(n.status!=="completed"&&p.status==="completed")return-1;const A=n.priority||99,w=p.priority||99;return A!==w?A-w:(n.due||"9999")<(p.due||"9999")?-1:1});return b.filter(d=>s[d]).map(d=>({category:d,tasks:s[d]}))});function B(i){try{const s=new Date(i),d=new Date,n=Math.floor((s.getTime()-d.getTime())/(1e3*60*60*24));return n<0?"overdue":n===0?"today":n===1?"tomorrow":s.toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return i}}function E(i){try{return new Date(i)<new Date}catch{return!1}}const L=v(()=>({background:`${y.bgColor}cc`,border:`2px solid ${y.accentColor}55`,borderRadius:"4px",padding:"0.75rem",marginBottom:"0.75rem",backdropFilter:"blur(4px)"})),K=v(()=>({fontSize:"0.75rem",color:"#c4a747",margin:"0 0 0.5rem 0",fontWeight:"600",letterSpacing:"0.5px",textTransform:"uppercase"})),U={fontSize:"0.65rem",color:"var(--text-muted)",padding:"0.5rem 0"},k={display:"flex",alignItems:"center",gap:"0.3rem",padding:"0.3rem 0",marginTop:"0.25rem",borderBottom:`1px solid ${y.accentColor}33`};function _(i){return{width:"8px",height:"8px",borderRadius:"50%",background:T[i]||y.accentColor,flexShrink:"0"}}const R={fontSize:"0.65rem",fontWeight:"600",color:"var(--text-bright)",flex:"1"},J={fontSize:"0.5rem",padding:"0.1rem 0.3rem",borderRadius:"8px",background:`${y.accentColor}33`,color:"var(--text-muted)"},F={display:"flex",alignItems:"center",gap:"0.4rem",padding:"0.3rem 0 0.3rem 0.5rem",borderBottom:`1px solid ${y.accentColor}15`},te={cursor:"pointer",flexShrink:"0",width:"14px",height:"14px",accentColor:y.accentColor};function g(i){const s=i>=1&&i<=1?"#ef4444":i>=2&&i<=3?"#f59e0b":"#6b7280";return{width:"6px",height:"6px",borderRadius:"50%",background:i?s:"transparent",flexShrink:"0"}}function G(i){return{flex:"1",fontSize:"0.7rem",color:i.status==="completed"?"var(--text-muted)":"var(--text-bright)",textDecoration:i.status==="completed"?"line-through":"none",opacity:i.status==="completed"?"0.6":"1"}}function q(i){const s=E(i);return{fontSize:"0.55rem",color:s?"#ef4444":"var(--text-muted)",fontWeight:s?"600":"400",whiteSpace:"nowrap"}}return(i,s)=>(o(),l("div",{style:t(L.value)},[e("h3",{style:t(K.value)},"Work Sprint",4),$.value.length===0?(o(),l("div",{key:0,style:U}," No sprint items. Add tasks with categories: lilly, regeneron, gbgreg ")):C("",!0),(o(!0),l(N,null,V($.value,d=>(o(),l("div",{key:d.category},[e("div",{style:k},[e("span",{style:t(_(d.category))},null,4),e("span",{style:R},u(c[d.category]||d.category),1),e("span",{style:J},u(d.tasks.length),1)]),(o(!0),l(N,null,V(d.tasks,n=>(o(),l("div",{key:n.id,style:F},[e("input",{type:"checkbox",checked:n.status==="completed",style:te,onChange:p=>i.$emit("toggle",n.id)},null,40,ca),e("span",{style:t(g(n.priority))},null,4),e("span",{style:t(G(n))},u(n.summary),5),n.due?(o(),l("span",{key:0,style:t(q(n.due))},u(B(n.due)),5)):C("",!0)]))),128))]))),128))],4))}}),da={style:{flex:"1"}},ma=["onClick"],pa={class:"tab-emoji"},ya={class:"tab-label"},ga={key:2},va={style:{"margin-top":"0.5rem"}},fa={key:3},ba=["onClick"],ha={key:4},Sa={key:5},xa={style:{flex:"1","min-width":"0"}},ka=["value","onChange"],wa=["value","onChange"],Ca=["disabled"],$a=["disabled"],Ra=["value","onChange"],za=["value"],Ta=["disabled"],Pa={key:6},W="#4a6741",me="#c4a747",re="#1a2a3a",Da=ue({__name:"DarrentanPage",setup(x){var vt;const y=((vt=document.querySelector('link[rel="icon"]'))==null?void 0:vt.getAttribute("href"))||"";function b(f){const m=document.querySelector('link[rel="icon"]');m&&(m.href=`data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>${f}</text></svg>`)}b("ðŸŽ¯"),wt(()=>{const f=document.querySelector('link[rel="icon"]');f&&(f.href=y)});const c=$n({taskCalendar:"tasks",eventCalendar:"personal",goalsStorageKey:"darrentan-goals"}),{tasks:T,events:$,isLoading:B,error:E,incompleteTasks:L,completedTasks:K,highPriorityTasks:U,upcomingEvents:k,taskProgress:_,fetchTasks:R,createTask:J,toggleTaskComplete:F,deleteTask:te}=c,g=ea(),G=z("hq"),q=z(""),i=z("incomplete"),s=z(""),d=z(0),n=z(0),p=z("scenarios"),A=z(0),w=z("other"),O=z("personal"),Q=z(""),oe=z(""),D=z(null),j=z(""),I=z("retainer"),Y=z(0),pe=z(.5),le=z(""),H=[{id:"hq",label:"HQ",icon:"ðŸ›ï¸"},{id:"ops",label:"Ops",icon:"âš”ï¸"},{id:"intel",label:"Intel",icon:"ðŸ“¡"},{id:"supply",label:"Supply",icon:"ðŸ’°"},{id:"recon",label:"Recon",icon:"ðŸ”"}],Z=[{label:"Nextcloud",url:"https://nextcloud.darrenarney.com",emoji:"â˜ï¸",color:"#3a7bd5"},{label:"Tandoor",url:"https://tandoor.darrenarney.com",emoji:"ðŸ³",color:"#e8a838"},{label:"n8n",url:"https://n8n.darrenarney.com",emoji:"âš¡",color:"#ff6d5a"},{label:"Vault",url:"/vault",emoji:"ðŸ”",color:"#6a9fb5"}],se=v(()=>new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),Ce=v(()=>{const f=new Set;return T.value.forEach(m=>m.categories.forEach(Qe=>f.add(Qe))),Array.from(f).sort()}),Te=v(()=>{let f=T.value;return q.value&&(f=f.filter(m=>m.categories.includes(q.value))),f}),Be=["lilly","regeneron","gbgreg","biosero"],Le=v(()=>T.value.filter(f=>f.categories.some(m=>Be.includes(m))));tt(async()=>{await g.init(),g.migrateGoalsFromLocalStorage("darrentan-goals"),g.fetchRewards(),await c.init()});async function Pe(f){f.summary&&await J({summary:f.summary,priority:f.priority||void 0,categories:f.categories||void 0,due:f.due||void 0})}async function $e(f){await F(f)}async function Ee(f){await te(f)}async function Ne(){!s.value.trim()||!d.value||(await g.addGoal({id:Date.now().toString(),label:s.value.trim(),target:d.value,current:n.value||0,unit:"$",color:"#4a6741"}),s.value="",d.value=0,n.value=0)}async function Me(f,m){await g.updateGoal(f,{current:m||0})}async function We(f){await g.removeGoal(f)}async function Ge(f,m){await g.updateGate(f,m)}async function Oe(){await g.seedDefaultGates()}async function Fe(f,m){await g.moveRisk(f,m)}async function Ue(f){await g.addRisk(f)}async function je(){await g.seedDefaultRisks()}async function r(){!j.value.trim()||!Y.value||(await g.addRevenueStream({name:j.value.trim(),type:I.value,monthlyAmount:Y.value,probability:pe.value||.5,startMonth:le.value||void 0}),j.value="",Y.value=0,pe.value=.5,le.value="")}async function h(f,m){await g.updateRevenueStream(f,m),await g.fetchAllProjections()}async function P(){await g.seedDefaultGoals()}async function X(){await g.seedDefaultRevenue()}async function $t(){g.revenueStreams.value.length===0&&await g.seedDefaultRevenue(),await g.seedDefaultScenarios(),await g.fetchAllProjections()}async function Rt(){A.value&&(await g.addExpense({amount:A.value,category:w.value,classification:O.value,description:Q.value,vendor:oe.value,rewardCard:D.value}),A.value=0,Q.value="",oe.value="")}function at(f){if(!f)return"";try{return new Date(f).toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return f}}const zt=v(()=>({minHeight:"100vh",padding:"0",margin:"0",position:"relative",zIndex:"2"})),Tt=v(()=>({display:"flex",alignItems:"center",gap:"var(--space-md)",padding:"var(--space-md) var(--space-lg)",background:`linear-gradient(135deg, ${re}, ${re}dd)`,borderBottom:`4px solid ${W}`,position:"sticky",top:"0",zIndex:"50",backdropFilter:"blur(8px)"})),Pt=v(()=>({fontSize:"1.1rem",fontWeight:"700",color:me,margin:"0",letterSpacing:"1px"})),Dt=v(()=>({fontSize:"0.6rem",color:"rgba(196, 167, 71, 0.6)",marginTop:"0.15rem"})),It=v(()=>({width:"28px",height:"28px",borderRadius:"50%"})),At=v(()=>({display:"flex",gap:"0.25rem",padding:"0.5rem var(--space-lg)",background:`${re}ee`,borderBottom:`2px solid ${W}66`,overflowX:"auto",backdropFilter:"blur(8px)"})),Bt=v(()=>({fontSize:"0.6rem",padding:"0.35rem 0.7rem",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"0.3rem"})),ot=v(()=>({fontSize:"0.55rem",background:W,color:"#fff",padding:"0.1rem 0.3rem",borderRadius:"8px",fontWeight:"700"})),Lt=v(()=>({padding:"var(--space-lg)",maxWidth:"900px",margin:"0 auto"})),lt=v(()=>({background:"rgba(239, 68, 68, 0.15)",border:"2px solid rgba(239, 68, 68, 0.5)",borderRadius:"4px",padding:"0.5rem 0.75rem",marginBottom:"1rem",color:"#ff6b6b",display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"0.75rem"})),st=v(()=>({textAlign:"center",padding:"2rem",color:"var(--text-muted)",fontSize:"0.85rem"})),De={fontSize:"0.7rem",color:"var(--text-muted)",margin:"0 0 0.5rem 0"},ne=v(()=>({background:`${re}cc`,border:`2px solid ${W}55`,borderRadius:"4px",padding:"0.75rem",marginBottom:"0.75rem",backdropFilter:"blur(4px)"})),ae=v(()=>({fontSize:"0.75rem",color:me,margin:"0 0 0.5rem 0",fontWeight:"600",letterSpacing:"0.5px",textTransform:"uppercase"})),rt=v(()=>({display:"flex",alignItems:"center",gap:"0.75rem"})),Ve=v(()=>({flex:"1",height:"12px",background:re,border:`2px solid ${W}44`,borderRadius:"2px",overflow:"hidden"})),_e=(f,m)=>({height:"100%",width:`${Math.min(100,Math.max(0,f))}%`,background:f>=100?"#22c55e":`linear-gradient(90deg, ${m||W}, ${m||W}cc)`,transition:"width 0.3s ease"}),it=v(()=>({fontSize:"0.7rem",color:me,whiteSpace:"nowrap"}));function Et(f){return{display:"flex",alignItems:"center",gap:"0.4rem",padding:"0.25rem 0",borderBottom:`1px solid ${W}15`,opacity:f.status==="completed"?"0.6":"1"}}function Nt(f){return{fontSize:"0.7rem"}}const Mt={flex:"1",fontSize:"0.7rem",color:"var(--text-bright)"};function Wt(f){return{fontSize:"0.5rem",color:f.status==="completed"?"#22c55e":f.status==="in-progress"?"#f59e0b":f.status==="blocked"?"#ef4444":"var(--text-muted)",fontWeight:"600",textTransform:"uppercase"}}const Gt=v(()=>({display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.35rem 0",borderBottom:`1px solid ${W}22`})),Ot=v(()=>({flex:"1",fontSize:"0.75rem",color:"var(--text-bright)"})),Ft=f=>({fontSize:"0.55rem",padding:"0.1rem 0.3rem",borderRadius:"2px",fontWeight:"700",background:f<=1?"#ef4444":f<=3?"#f59e0b":"#6b7280",color:"#fff"}),Ut=v(()=>({fontSize:"0.6rem",color:"var(--text-muted)"})),jt=v(()=>({display:"flex",gap:"0.75rem",padding:"0.35rem 0",borderBottom:`1px solid ${W}22`,alignItems:"baseline"})),Vt=v(()=>({fontSize:"0.65rem",color:me,minWidth:"3.5rem"})),_t=v(()=>({fontSize:"0.75rem",color:"var(--text-bright)"})),Ht=v(()=>({marginBottom:"0.5rem"})),Kt=v(()=>({fontSize:"0.7rem",color:"var(--text-bright)",marginBottom:"0.2rem",display:"block"})),qt=v(()=>({fontSize:"0.6rem",color:"var(--text-muted)",marginTop:"0.15rem",display:"block"})),He=v(()=>({display:"flex",gap:"0.25rem",marginBottom:"0.5rem",flexWrap:"wrap"})),de=v(()=>({fontSize:"0.55rem",padding:"0.2rem 0.5rem"})),Ke=v(()=>({flex:"1",minWidth:"150px",fontSize:"0.75rem",padding:"0.4rem",background:re,color:"var(--text-bright)",border:`2px solid ${W}66`})),be=v(()=>({width:"90px",fontSize:"0.75rem",padding:"0.4rem",background:re,color:"var(--text-bright)",border:`2px solid ${W}66`})),Ie=v(()=>({fontSize:"0.65rem",padding:"0.3rem",background:re,color:"var(--text-bright)",border:`2px solid ${W}66`,width:"auto"})),ye=v(()=>({fontSize:"0.65rem",padding:"0.35rem 0.7rem",whiteSpace:"nowrap"})),Jt=v(()=>({display:"flex",gap:"0.4rem",marginBottom:"1rem",flexWrap:"wrap",alignItems:"center"})),Xt=v(()=>({display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"0.75rem"})),Qt=v(()=>({display:"flex",alignItems:"center",gap:"0.4rem",marginTop:"0.5rem",paddingTop:"0.5rem",borderTop:`1px solid ${W}33`})),Yt=v(()=>({fontSize:"0.6rem",color:"var(--text-muted)"})),ct=v(()=>({display:"flex",gap:"0.3rem",flexWrap:"wrap",alignItems:"center"})),ut=v(()=>({display:"flex",gap:"1rem",marginBottom:"0.5rem",flexWrap:"wrap"})),Re={textAlign:"center"},ze={fontSize:"0.55rem",color:"var(--text-muted)",display:"block"},Zt={fontSize:"1rem",fontWeight:"700",color:"var(--text-bright)",display:"block"},qe={fontSize:"1rem",fontWeight:"700",color:"#22c55e",display:"block"},en={fontSize:"1rem",fontWeight:"700",color:"#3a7bd5",display:"block"},dt=v(()=>({display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.25rem 0",borderBottom:`1px solid ${W}15`,fontSize:"0.65rem"})),tn={color:"var(--text-muted)",minWidth:"4.5rem",fontFamily:"monospace",fontSize:"0.55rem"},mt={flex:"1",color:"var(--text-bright)",fontSize:"0.65rem"},pt={fontWeight:"700",color:"var(--text-bright)",fontSize:"0.7rem"};function nn(f){const m={business:"#22c55e",personal:"#3a7bd5",mixed:"#f59e0b"};return{fontSize:"0.4rem",padding:"0.1rem 0.2rem",borderRadius:"2px",fontWeight:"700",background:(m[f]||"#6b7280")+"33",color:m[f]||"#6b7280"}}const an={fontWeight:"700",color:"#22c55e",fontSize:"0.65rem"},on=v(()=>({display:"flex",alignItems:"center",gap:"0.4rem",padding:"0.35rem 0",borderBottom:`1px solid ${W}15`}));function ln(f){return{width:"8px",height:"8px",borderRadius:"50%",background:f||W,flexShrink:"0"}}const sn={fontSize:"0.7rem",fontWeight:"600",color:me,display:"block"},rn={fontSize:"0.55rem",color:"var(--text-muted)",display:"block"},Je={fontSize:"0.5rem",color:"var(--text-muted)",whiteSpace:"nowrap"};function cn(f){return{background:`${re}88`,border:`1px solid ${f.color||W}44`,borderRadius:"3px",padding:"0.5rem",marginBottom:"0.4rem"}}const un={display:"flex",alignItems:"center",gap:"0.3rem",marginBottom:"0.2rem"};function dn(f){return{width:"8px",height:"8px",borderRadius:"50%",background:f||W,flexShrink:"0"}}const mn={fontSize:"0.7rem",fontWeight:"600",color:me,flex:"1"},pn={fontSize:"0.45rem",padding:"0.1rem 0.25rem",borderRadius:"2px",background:`${W}33`,color:"var(--text-muted)"};function yn(f){return{fontSize:"0.5rem",fontWeight:"700",color:f>=.7?"#22c55e":f>=.4?"#f59e0b":"#ef4444"}}const gn={display:"flex",gap:"0.5rem",alignItems:"baseline",marginBottom:"0.2rem"},vn={fontSize:"0.85rem",fontWeight:"700",color:"var(--text-bright)"},yt={fontSize:"0.5rem",color:"var(--text-muted)"},fn={fontSize:"0.5rem",color:"var(--text-muted)",fontStyle:"italic",marginTop:"0.15rem"},bn={display:"flex",gap:"0.3rem",alignItems:"center",marginTop:"0.3rem",paddingTop:"0.3rem",borderTop:`1px solid ${W}22`},gt={fontSize:"0.5rem",color:"var(--text-muted)"},Xe=v(()=>({width:"70px",fontSize:"0.65rem",padding:"0.25rem",background:re,color:"var(--text-bright)",border:`1px solid ${W}66`}));return(f,m)=>{const Qe=xn("router-link");return o(),xe(wn,{"enable-scanlines":!0,"enable-particles":!1,"enable-animations":!0},{default:we(()=>[Se(Nn,{"scroll-speed":.5,opacity:.35}),e("div",{style:t(zt.value)},[e("header",{style:t(Tt.value)},[Se(Qe,{to:"/",style:{"text-decoration":"none",color:"inherit",display:"flex","align-items":"center",gap:"0.5rem"}},{default:we(()=>[e("img",{src:kn,alt:"QCA",style:t(It.value)},null,4)]),_:1}),e("div",da,[e("h1",{class:"nes-text",style:t(Pt.value)},"Operation Darrentan",4),e("div",{style:t(Dt.value)},u(se.value),5)])],4),e("div",{style:t(At.value)},[(o(),l(N,null,V(H,a=>e("button",{key:a.id,class:ce(["nes-btn",G.value===a.id?"is-primary":""]),style:t(Bt.value),onClick:he=>G.value=a.id},[e("span",pa,u(a.icon),1),e("span",ya,u(a.label),1),a.id==="ops"&&S(L).length>0?(o(),l("span",{key:0,style:t(ot.value)},u(S(L).length),5)):C("",!0),a.id==="recon"&&S(g).knownUnknowns.value.length>0?(o(),l("span",{key:1,style:t(ot.value)},u(S(g).knownUnknowns.value.length),5)):C("",!0)],14,ma)),64))],4),e("main",{style:t(Lt.value)},[S(E)?(o(),l("div",{key:0,style:t(lt.value)},[et(u(S(E))+" ",1),e("button",{class:"nes-btn is-error",style:{"margin-left":"1rem","font-size":"0.6rem"},onClick:m[0]||(m[0]=a=>E.value=null)},"X")],4)):C("",!0),S(g).error.value?(o(),l("div",{key:1,style:t(lt.value)},[et(u(S(g).error.value)+" ",1),e("button",{class:"nes-btn is-error",style:{"margin-left":"1rem","font-size":"0.6rem"},onClick:m[1]||(m[1]=a=>S(g).error.value=null)},"X")],4)):C("",!0),G.value==="hq"?(o(),l("section",ga,[S(g).gates.value.length>0?(o(),l("div",{key:0,style:t(ne.value)},[e("h3",{style:t(ae.value)},"Decision Gates",4),e("div",{style:t(rt.value)},[e("div",{style:t(Ve.value)},[e("div",{style:t(_e(S(g).gateProgress.value))},null,4)],4),e("span",{style:t(it.value)},u(S(g).gates.value.filter(a=>a.status==="completed").length)+"/"+u(S(g).gates.value.length)+" gates",5)],4),e("div",va,[(o(!0),l(N,null,V(S(g).gates.value,a=>(o(),l("div",{key:a.id,style:t(Et(a))},[e("span",{style:t(Nt(a))},u(a.status==="completed"?"âœ…":a.status==="blocked"?"â›”":a.depsReady===!1&&a.dependencies.length>0?"ðŸ”’":"â¬œ"),5),e("span",{style:Mt},u(a.label),1),e("span",{style:t(Wt(a))},u(a.status==="not-started"&&!a.depsReady&&a.dependencies.length>0?"LOCKED":a.status.replace("-"," ").toUpperCase()),5)],4))),128))])],4)):(o(),l("div",{key:1,style:t(ne.value)},[e("h3",{style:t(ae.value)},"Decision Gates",4),e("p",{style:De},"No gates configured."),e("button",{class:"nes-btn is-primary",style:t(ye.value),onClick:Oe},"Seed Default Gates",4)],4)),e("div",{style:t(ne.value)},[e("h3",{style:t(ae.value)},"Active Phase",4),Se(kt,{"active-phase":S(g).activePhase.value,milestones:S(g).milestones.value,"accent-color":W,"gold-color":me},null,8,["active-phase","milestones"])],4),e("div",{style:t(ne.value)},[e("h3",{style:t(ae.value)},"Mission Status",4),e("div",{style:t(rt.value)},[e("div",{style:t(Ve.value)},[e("div",{style:t(_e(S(_)))},null,4)],4),e("span",{style:t(it.value)},u(S(K).length)+"/"+u(S(T).length)+" tasks",5)],4)],4),Le.value.length>0?(o(),xe(ua,{key:2,tasks:S(T),"accent-color":W,"bg-color":re,onToggle:$e},null,8,["tasks"])):C("",!0),S(U).length>0?(o(),l("div",{key:3,style:t(ne.value)},[e("h3",{style:t(ae.value)},"Priority Intel",4),(o(!0),l(N,null,V(S(U),a=>(o(),l("div",{key:a.id,style:t(Gt.value)},[e("span",{style:t(Ft(a.priority))},"P"+u(a.priority),5),e("span",{style:t(Ot.value)},u(a.summary),5),a.due?(o(),l("span",{key:0,style:t(Ut.value)},u(at(a.due)),5)):C("",!0)],4))),128))],4)):C("",!0),S(k).length>0?(o(),l("div",{key:4,style:t(ne.value)},[e("h3",{style:t(ae.value)},"Incoming Transmissions",4),(o(!0),l(N,null,V(S(k).slice(0,5),a=>(o(),l("div",{key:a.id,style:t(jt.value)},[e("span",{style:t(Vt.value)},u(at(a.startDate)),5),e("span",{style:t(_t.value)},u(a.title),5)],4))),128))],4)):C("",!0),S(g).goals.value.length>0?(o(),l("div",{key:5,style:t(ne.value)},[e("h3",{style:t(ae.value)},"Supply Lines",4),(o(!0),l(N,null,V(S(g).goals.value,a=>(o(),l("div",{key:a.id,style:t(Ht.value)},[e("span",{style:t(Kt.value)},u(a.label),5),e("div",{style:t(Ve.value)},[e("div",{style:t(_e(a.target?Math.round(a.current/a.target*100):0,a.color))},null,4)],4),e("span",{style:t(qt.value)},"$"+u(a.current.toLocaleString())+" / $"+u(a.target.toLocaleString()),5)],4))),128))],4)):C("",!0),e("div",{style:t(ne.value)},[e("h3",{style:t(ae.value)},"Quick Links",4),Se(Jn,{links:Z})],4)])):C("",!0),G.value==="ops"?(o(),l("section",fa,[Ce.value.length>0?(o(),l("div",{key:0,style:t(He.value)},[e("button",{class:ce(["nes-btn",q.value===""?"is-primary":""]),style:t(de.value),onClick:m[2]||(m[2]=a=>q.value="")},"All",6),(o(!0),l(N,null,V(Ce.value,a=>(o(),l("button",{key:a,class:ce(["nes-btn",q.value===a?"is-primary":""]),style:t(de.value),onClick:he=>q.value=a},u(a),15,ba))),128))],4)):C("",!0),e("div",{style:t(He.value)},[e("button",{class:ce(["nes-btn",i.value==="incomplete"?"is-warning":""]),style:t(de.value),onClick:m[3]||(m[3]=a=>{i.value="incomplete",S(R)(i.value)})},"Active",6),e("button",{class:ce(["nes-btn",i.value==="completed"?"is-success":""]),style:t(de.value),onClick:m[4]||(m[4]=a=>{i.value="completed",S(R)(i.value)})},"Completed",6),e("button",{class:ce(["nes-btn",i.value==="all"?"is-primary":""]),style:t(de.value),onClick:m[5]||(m[5]=a=>{i.value="all",S(R)(i.value)})},"All",6)],4),S(B)&&Te.value.length===0?(o(),l("div",{key:1,style:t(st.value)},[...m[24]||(m[24]=[e("p",{class:"nes-text"},"Loading missions...",-1)])],4)):(o(),xe(_n,{key:2,tasks:Te.value,"show-add-form":!0,"show-priority":!0,"show-categories":!0,"show-due":!0,"category-options":["lilly","regeneron","gbgreg","biosero"],"add-placeholder":"New mission objective...","accent-color":W,"bg-color":re,onAdd:Pe,onToggle:$e,onDelete:Ee},{empty:we(()=>[...m[25]||(m[25]=[e("p",{class:"nes-text"},"No missions found. Add your first objective above.",-1)])]),_:1},8,["tasks"]))])):C("",!0),G.value==="intel"?(o(),l("section",ha,[e("div",{style:t(ne.value)},[e("h3",{style:t(ae.value)},"Master Timeline",4),Se(kt,{"active-phase":S(g).activePhase.value,milestones:S(g).milestones.value,"accent-color":W,"gold-color":me},null,8,["active-phase","milestones"])],4),S(g).gates.value.length>0?(o(),l("div",{key:0,style:t(ne.value)},[e("h3",{style:t(ae.value)},"Decision Gates",4),(o(!0),l(N,null,V(S(g).gates.value,a=>(o(),xe(Yn,{key:a.id,gate:a,"all-gates":S(g).gates.value,"accent-color":W,"bg-color":re,onUpdate:Ge},null,8,["gate","all-gates"]))),128))],4)):C("",!0),Se(Kn,{events:S($),"accent-color":W,"gold-color":me},{empty:we(()=>[...m[26]||(m[26]=[e("p",{class:"nes-text"},"No intel available. Events from Nextcloud will appear here.",-1)])]),_:1},8,["events"])])):C("",!0),G.value==="supply"?(o(),l("section",Sa,[e("div",{style:t([He.value,{"margin-bottom":"0.75rem"}])},[e("button",{class:ce(["nes-btn",p.value==="scenarios"?"is-primary":""]),style:t(de.value),onClick:m[6]||(m[6]=a=>p.value="scenarios")},"Scenarios",6),e("button",{class:ce(["nes-btn",p.value==="revenue"?"is-primary":""]),style:t(de.value),onClick:m[7]||(m[7]=a=>p.value="revenue")},"Revenue",6),e("button",{class:ce(["nes-btn",p.value==="goals"?"is-primary":""]),style:t(de.value),onClick:m[8]||(m[8]=a=>p.value="goals")},"Goals",6),e("button",{class:ce(["nes-btn",p.value==="expenses"?"is-primary":""]),style:t(de.value),onClick:m[9]||(m[9]=a=>p.value="expenses")},"Expenses",6)],4),p.value==="scenarios"?(o(),l(N,{key:0},[S(g).scenarios.value.length===0?(o(),l("div",{key:0,style:t(ne.value)},[e("h3",{style:t(ae.value)},"Scenario Planning",4),e("p",{style:De},"No scenarios configured."),e("button",{class:"nes-btn is-primary",style:t(ye.value),onClick:$t},"Seed Defaults",4)],4)):(o(),l(N,{key:1},[e("div",{style:t(ne.value)},[e("h3",{style:t(ae.value)},"12-Month Cash Flow Projection",4),Se(ia,{projections:S(g).projections.value,scenarios:S(g).scenarios.value,"accent-color":W,"bg-color":re},null,8,["projections","scenarios"])],4),e("div",{style:t(ne.value)},[e("h3",{style:t(ae.value)},"Scenarios",4),(o(!0),l(N,null,V(S(g).scenarios.value,a=>(o(),l("div",{key:a.id,style:t(on.value)},[e("span",{style:t(ln(a.color))},null,4),e("div",xa,[e("span",{style:sn},u(a.name),1),e("span",{style:rn},u(a.description),1)]),e("span",{style:Je},u(a.streamIds.length)+" streams",1),e("span",{style:Je},u((a.taxRate*100).toFixed(0))+"% tax",1),e("span",{style:Je},"$"+u(a.monthlyExpenses.toLocaleString())+"/mo exp",1)],4))),128))],4)],64))],64)):C("",!0),p.value==="revenue"?(o(),l(N,{key:1},[S(g).revenueStreams.value.length===0?(o(),l("div",{key:0,style:t(ne.value)},[e("h3",{style:t(ae.value)},"Revenue Streams",4),e("p",{style:De},"No revenue streams defined."),e("button",{class:"nes-btn is-primary",style:t(ye.value),onClick:X},"Seed Defaults",4)],4)):(o(),l(N,{key:1},[e("div",{style:t(ne.value)},[e("h3",{style:t(ae.value)},"Revenue Streams",4),(o(!0),l(N,null,V(S(g).revenueStreams.value,a=>(o(),l("div",{key:a.id,style:t(cn(a))},[e("div",{style:un},[e("span",{style:t(dn(a.color))},null,4),e("span",{style:mn},u(a.name),1),e("span",{style:pn},u(a.type),1),e("span",{style:t(yn(a.probability))},u((a.probability*100).toFixed(0))+"%",5)]),e("div",{style:gn},[e("span",{style:vn},"$"+u(a.monthlyAmount.toLocaleString())+"/mo",1),a.hourlyRate?(o(),l("span",{key:0,style:yt},"$"+u(a.hourlyRate)+"/hr x "+u(a.hoursPerMonth)+"hrs",1)):C("",!0),e("span",{style:yt},u(a.startMonth||"?")+" - "+u(a.endMonth||"ongoing"),1)]),a.notes?(o(),l("div",{key:0,style:fn},u(a.notes),1)):C("",!0),e("div",{style:bn},[e("label",{style:gt},"$/mo"),e("input",{value:a.monthlyAmount,type:"number",class:"nes-input",style:t(Xe.value),onChange:he=>h(a.id,{monthlyAmount:Number(he.target.value)})},null,44,ka),e("label",{style:gt},"Prob"),e("input",{value:a.probability,type:"number",step:"0.1",min:"0",max:"1",class:"nes-input",style:t(Xe.value),onChange:he=>h(a.id,{probability:Number(he.target.value)})},null,44,wa)])],4))),128))],4),e("div",{style:t(ne.value)},[e("h3",{style:t(ae.value)},"Add Revenue Stream",4),e("div",{style:t(ct.value)},[ee(e("input",{"onUpdate:modelValue":m[10]||(m[10]=a=>j.value=a),placeholder:"Name",class:"nes-input",style:t(Ke.value)},null,4),[[ie,j.value]]),ee(e("select",{"onUpdate:modelValue":m[11]||(m[11]=a=>I.value=a),class:"nes-select",style:t(Ie.value)},[...m[27]||(m[27]=[e("option",{value:"hourly"},"Hourly",-1),e("option",{value:"retainer"},"Retainer",-1),e("option",{value:"project"},"Project",-1)])],4),[[ge,I.value]]),ee(e("input",{"onUpdate:modelValue":m[12]||(m[12]=a=>Y.value=a),type:"number",placeholder:"$/mo",class:"nes-input",style:t(be.value)},null,4),[[ie,Y.value,void 0,{number:!0}]]),ee(e("input",{"onUpdate:modelValue":m[13]||(m[13]=a=>pe.value=a),type:"number",step:"0.1",min:"0",max:"1",placeholder:"Prob",class:"nes-input",style:t(Xe.value)},null,4),[[ie,pe.value,void 0,{number:!0}]]),ee(e("input",{"onUpdate:modelValue":m[14]||(m[14]=a=>le.value=a),type:"month",class:"nes-input",style:t(be.value)},null,4),[[ie,le.value]]),e("button",{class:"nes-btn is-success",style:t(ye.value),onClick:r,disabled:!j.value.trim()||!Y.value},"Add",12,Ca)],4)],4)],64))],64)):C("",!0),p.value==="goals"?(o(),l(N,{key:2},[e("div",{style:t(Jt.value)},[ee(e("input",{"onUpdate:modelValue":m[15]||(m[15]=a=>s.value=a),placeholder:"Goal name (e.g. Monthly Revenue)",class:"nes-input",style:t(Ke.value)},null,4),[[ie,s.value]]),ee(e("input",{"onUpdate:modelValue":m[16]||(m[16]=a=>d.value=a),type:"number",placeholder:"Target $",class:"nes-input",style:t(be.value)},null,4),[[ie,d.value,void 0,{number:!0}]]),ee(e("input",{"onUpdate:modelValue":m[17]||(m[17]=a=>n.value=a),type:"number",placeholder:"Current $",class:"nes-input",style:t(be.value)},null,4),[[ie,n.value,void 0,{number:!0}]]),e("button",{class:"nes-btn is-success",style:t(ye.value),onClick:Ne,disabled:!s.value.trim()||!d.value}," Add ",12,$a)],4),S(g).goals.value.length===0?(o(),l("div",{key:0,style:t(st.value)},[m[28]||(m[28]=e("p",{class:"nes-text"},"No supply lines tracked.",-1)),e("button",{class:"nes-btn is-primary",style:t(ye.value),onClick:P},"Seed Financial Model Goals",4)],4)):(o(),l("div",{key:1,style:t(Xt.value)},[(o(!0),l(N,null,V(S(g).goals.value,a=>(o(),xe(Hn,{key:a.id,goal:a,"accent-color":W,"bg-color":re,onDelete:We},{edit:we(()=>[e("div",{style:t(Qt.value)},[e("input",{value:a.current,type:"number",class:"nes-input",style:t(be.value),onChange:he=>Me(a.id,he.target.valueAsNumber)},null,44,Ra),e("span",{style:t(Yt.value)},"current "+u(a.unit||"$"),5)],4)]),_:2},1032,["goal"]))),128))],4))],64)):C("",!0),p.value==="expenses"?(o(),l(N,{key:3},[e("div",{style:t(ne.value)},[e("h3",{style:t(ae.value)},"Add Expense",4),e("div",{style:t(ct.value)},[ee(e("input",{"onUpdate:modelValue":m[18]||(m[18]=a=>A.value=a),type:"number",step:"0.01",placeholder:"Amount",class:"nes-input",style:t(be.value)},null,4),[[ie,A.value,void 0,{number:!0}]]),ee(e("select",{"onUpdate:modelValue":m[19]||(m[19]=a=>w.value=a),class:"nes-select",style:t(Ie.value)},[(o(!0),l(N,null,V(S(g).categories.value,a=>(o(),l("option",{key:a.id,value:a.id},u(a.icon)+" "+u(a.label),9,za))),128))],4),[[ge,w.value]]),ee(e("select",{"onUpdate:modelValue":m[20]||(m[20]=a=>O.value=a),class:"nes-select",style:t(Ie.value)},[...m[29]||(m[29]=[e("option",{value:"personal"},"Personal",-1),e("option",{value:"business"},"Business",-1),e("option",{value:"mixed"},"Mixed",-1)])],4),[[ge,O.value]]),ee(e("input",{"onUpdate:modelValue":m[21]||(m[21]=a=>Q.value=a),placeholder:"Description",class:"nes-input",style:t(Ke.value)},null,4),[[ie,Q.value]]),ee(e("input",{"onUpdate:modelValue":m[22]||(m[22]=a=>oe.value=a),placeholder:"Vendor",class:"nes-input",style:t(be.value)},null,4),[[ie,oe.value]]),ee(e("select",{"onUpdate:modelValue":m[23]||(m[23]=a=>D.value=a),class:"nes-select",style:t(Ie.value)},[...m[30]||(m[30]=[e("option",{value:null},"No card",-1),e("option",{value:"costco-citi"},"Costco Citi",-1),e("option",{value:"costco-executive"},"Costco Executive",-1),e("option",{value:"microcenter"},"Microcenter",-1)])],4),[[ge,D.value]]),e("button",{class:"nes-btn is-success",style:t(ye.value),onClick:Rt,disabled:!A.value}," Log ",12,Ta)],4)],4),S(g).expenses.value.length>0?(o(),l("div",{key:0,style:t(ne.value)},[e("h3",{style:t(ae.value)},"Expense Summary",4),e("div",{style:t(ut.value)},[e("div",{style:Re},[e("span",{style:ze},"Total"),e("span",{style:Zt},"$"+u(S(g).expenseTotals.value.total.toLocaleString(void 0,{minimumFractionDigits:2})),1)]),e("div",{style:Re},[e("span",{style:ze},"Business"),e("span",{style:qe},"$"+u(S(g).expenseTotals.value.businessTotal.toLocaleString(void 0,{minimumFractionDigits:2})),1)]),e("div",{style:Re},[e("span",{style:ze},"Personal"),e("span",{style:en},"$"+u(S(g).expenseTotals.value.personalTotal.toLocaleString(void 0,{minimumFractionDigits:2})),1)])],4),(o(!0),l(N,null,V(S(g).expenses.value.slice(0,10),a=>(o(),l("div",{key:a.id,style:t(dt.value)},[e("span",{style:tn},u(a.date),1),e("span",{style:mt},u(a.description||a.category),1),e("span",{style:t(nn(a.classification))},u(a.classification.slice(0,3).toUpperCase()),5),e("span",{style:pt},"$"+u(a.amount.toFixed(2)),1)],4))),128))],4)):C("",!0),S(g).rewards.value?(o(),l("div",{key:1,style:t(ne.value)},[e("h3",{style:t(ae.value)},"Rewards Estimate",4),e("div",{style:t(ut.value)},[e("div",{style:Re},[e("span",{style:ze},"Actual"),e("span",{style:qe},"$"+u(S(g).rewards.value.totalRewards.toFixed(2)),1)]),e("div",{style:Re},[e("span",{style:ze},"Annualized"),e("span",{style:qe},"$"+u(S(g).rewards.value.annualizedRewards.toFixed(2)),1)])],4),(o(!0),l(N,null,V(S(g).rewards.value.estimates,a=>(o(),l("div",{key:a.card,style:t(dt.value)},[e("span",{style:mt},u(a.name),1),e("span",{style:pt},"$"+u(a.spending.toFixed(2))+" spent",1),e("span",{style:an},"$"+u(a.reward.toFixed(2))+" back",1)],4))),128))],4)):C("",!0)],64)):C("",!0)])):C("",!0),G.value==="recon"?(o(),l("section",Pa,[S(g).risks.value.length===0?(o(),l("div",{key:0,style:t(ne.value)},[e("h3",{style:t(ae.value)},"Risk Board",4),e("p",{style:De},"No risks tracked yet."),e("button",{class:"nes-btn is-primary",style:t(ye.value),onClick:je},"Seed Default Risks",4)],4)):(o(),xe(sa,{key:1,risks:S(g).risks.value,"accent-color":W,"bg-color":re,onMove:Fe,onAdd:Ue},null,8,["risks"]))])):C("",!0)],4)],4)]),_:1})}}}),Fa=Ae(Da,[["__scopeId","data-v-a066c2ce"]]);export{Fa as default};
