const o="/cmd-api";function c(r={}){return{"Content-Type":"application/json",...r}}async function i(r,e={},a=o){const n=`${a}${r}`,t=await fetch(n,{...e,headers:c(e.headers||{})});if(!t.ok&&t.status!==201){const s=await t.json().catch(()=>({error:t.statusText}));throw new Error(s.error||`API error ${t.status}`)}return t.json()}function u(r){return(e,a={})=>i(e,a,r)}export{i as a,u as c};
