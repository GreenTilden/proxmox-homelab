import{u as ne,A as he,S as be,P as te}from"./ScanlineOverlay-JETjh84b.js";import{d as Q,c as e,a as f,o as v,b as W,e as Y,f as $,g as o,r as we,n as t,p as Se,i as le,h as _,j as ke,t as g,w as De,k as Te,l as Ce,u as E,m as J,q as K,F as ie,s as ce,v as Ie,x as $e}from"./index-Ct1RomOX.js";import{_ as X,c as de,S as ae,F as Ae,D as re,T as Ee,P as Be,a as oe,A as Me,b as Re,u as Le}from"./useServiceMonitoring-_JHDt3jp.js";import{S as ze,C as Ne}from"./CalendarWidget-BbCXvTwD.js";const We="/qca.png",Ue={class:"theme-content"},Pe=Q({__name:"SeasonalThemeProvider",props:{enableScanlines:{type:Boolean,default:!0},enableParticles:{type:Boolean,default:!0},enableAnimations:{type:Boolean,default:!0}},setup(x){const{theme:s,currentSeason:r,cssVariables:a,createGradient:y}=ne();Se("fallTheme",{theme:s,currentSeason:r,cssVariables:a});const B=e(()=>({...a.value,minHeight:"100vh",background:w.value,color:"var(--text-primary)",fontFamily:"'Segoe UI', 'Roboto', -apple-system, BlinkMacSystemFont, sans-serif",transition:"all var(--transition-slow)"})),w=e(()=>{const k=[s.value.backgrounds.app,s.value.backgrounds.surface];return y("135deg",k,1)}),M=e(()=>({count:s.value.particles.count,type:I(r.value),colors:s.value.particles.colors,physics:s.value.particles.physics,size:s.value.particles.size})),I=k=>{switch(k){case"AUTUMN":return"leaf";case"HALLOWEEN":return"spooky";case"WINTER":return"snowflake";case"SPRING":return"petal";default:return"leaf"}},l=e(()=>s.value.effects.scanline);return(k,U)=>(v(),f("div",{class:"seasonal-theme-provider",style:t(B.value)},[W(he,{particles:M.value,"background-gradient":w.value},null,8,["particles","background-gradient"]),k.enableScanlines?(v(),Y(be,{key:0,opacity:.08,color:l.value},null,8,["color"])):$("",!0),o("div",Ue,[we(k.$slots,"default",{},void 0,!0)])],4))}}),_e=X(Pe,[["__scopeId","data-v-a8bfe554"]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=de("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=de("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Oe={key:2},je=["href"],qe="●",Ge="○",Ve="◐",Ye="▲",Je="■",se="?",Ke=Q({__name:"ServiceCard",props:{service:{},elevation:{default:"medium"},borderStyle:{default:"gradient"},glowEffect:{type:Boolean,default:!0},compactMode:{type:Boolean,default:!1}},emits:["open"],setup(x){const s=x,r=le("fallTheme"),{theme:a}=r,y=_(!1),B={prometheus:oe,"node-exporter":ae,cadvisor:Me,"zfs-exporter":oe,"qbittorrent-exporter":re,plex:Be,grafana:Ee,qbittorrent:re,filebrowser:Ae,proxmox:ae},w=e(()=>B[s.service.id]||Re),M=e(()=>["node-exporter","zfs-exporter","cadvisor","prometheus"].includes(s.service.id)),I=c=>{var P;const n=((P=a.value.primary)==null?void 0:P.ramp3)||c;return`hue-rotate(${Object.keys(te).includes(n)?te[n]:0}deg) saturate(0.8) brightness(0.95)`},l=e(()=>{const c=[a.value.primary.ramp1,a.value.primary.ramp2,a.value.primary.ramp3,a.value.primary.ramp4,a.value.primary.ramp5,a.value.secondary.ramp1,a.value.secondary.ramp3,a.value.accent.ramp2],m=s.service.id.length%c.length,n=c[m];switch(s.service.status){case"online":return{bg:a.value.status.success,border:n,text:a.value.text.bright,glow:n+"40"};case"offline":return{bg:a.value.status.error,border:n,text:a.value.text.bright,glow:n+"40"};case"checking":return{bg:a.value.status.warning,border:n,text:a.value.text.primary,glow:n+"40"};case"warning":return{bg:a.value.status.warning,border:n,text:a.value.text.bright,glow:n+"40"};case"error":return{bg:a.value.status.error,border:n,text:a.value.text.bright,glow:n+"40"};case"unknown":default:return{bg:a.value.neutral.ramp3,border:n,text:a.value.text.bright,glow:n+"40"}}}),k=e(()=>({background:"rgba(135, 93, 88, 0.1)",border:s.borderStyle==="gradient"?`4px solid ${l.value.border}`:`4px solid ${l.value.border}`,borderRadius:"0px",padding:s.compactMode?"var(--space-md)":"var(--space-lg)",position:"relative",overflow:"hidden",cursor:"default",transition:"all var(--transition-normal)",backdropFilter:"blur(1px)",imageRendering:"pixelated",boxShadow:y.value?`
      0 8px 32px ${a.value.effects.shadow},
      0 0 20px ${l.value.glow},
      inset 3px 3px 0px ${a.value.text.primary}40,
      inset -3px -3px 0px ${a.value.effects.shadow},
      4px 4px 0px ${l.value.border}80
    `:`
      0 4px 12px ${a.value.effects.shadow},
      inset 2px 2px 0px ${a.value.text.primary}20,
      inset -2px -2px 0px ${a.value.effects.shadow},
      2px 2px 0px ${l.value.border}60
    `,transform:y.value?"translateY(-2px)":"translateY(0)",borderColor:y.value?l.value.border:l.value.border+"60"})),U=e(()=>({position:"absolute",top:"0",left:"0",right:"0",height:"2px",background:`linear-gradient(90deg, transparent, ${l.value.border}, transparent)`,opacity:y.value?"1":"0",transition:"opacity var(--transition-normal)",filter:I(l.value.border)})),z=e(()=>({display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"var(--space-md)"})),d=e(()=>({display:"flex",alignItems:"flex-start",gap:"var(--space-sm)",flex:"1"})),u=e(()=>({width:"16px",height:"16px",color:a.value.primary.ramp4,marginTop:"2px",filter:`drop-shadow(0 0 4px ${a.value.primary.ramp4}40)`})),i=e(()=>({fontSize:"0.875rem",fontWeight:"600",color:a.value.text.bright,margin:"0",lineHeight:"1.25"})),p=e(()=>({fontSize:"0.75rem",color:a.value.text.muted,margin:"4px 0 0 0",lineHeight:"1.25",opacity:"0.8"})),R=e(()=>({width:"24px",height:"24px",borderRadius:"0px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold",background:l.value.bg,border:`2px solid ${l.value.border}`,color:l.value.text,flexShrink:"0",imageRendering:"pixelated",animation:s.service.status==="checking"?"blink 1s infinite":"none",boxShadow:s.glowEffect?`
      0 0 8px ${l.value.glow},
      inset 1px 1px 0px rgba(255,255,255,0.3),
      inset -1px -1px 0px rgba(0,0,0,0.3)
    `:`
      inset 1px 1px 0px rgba(255,255,255,0.2),
      inset -1px -1px 0px rgba(0,0,0,0.2)
    `,textShadow:s.service.status==="checking"?"none":"1px 1px 0px rgba(0,0,0,0.5)",transition:"all 0.2s ease"})),F=e(()=>{switch(s.service.status){case"online":return qe;case"offline":return Ge;case"checking":return Ve;case"warning":return Ye;case"error":return Je;case"unknown":return se;default:return se}}),H=e(()=>({display:"flex",flexDirection:"column",gap:"var(--space-xs)",marginBottom:"var(--space-md)"})),A=e(()=>({display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"0.75rem"})),N=e(()=>({color:a.value.text.muted,opacity:"0.8"})),L=e(()=>({color:a.value.primary.ramp4,fontWeight:"500"}));e(()=>({marginBottom:"var(--space-md)",paddingBottom:"var(--space-sm)",borderBottom:`1px solid ${a.value.neutral.ramp3}30`})),e(()=>({fontSize:"0.75rem",color:a.value.text.muted,opacity:"0.6",textAlign:"center"}));const O=e(()=>({display:"flex",flexDirection:"column",gap:"var(--space-xs)",marginTop:"var(--space-md)",paddingTop:"var(--space-sm)",borderTop:`1px solid ${a.value.neutral.ramp3}30`})),j=e(()=>({fontSize:"0.7rem",color:a.value.text.muted,opacity:"0.8"})),q=e(()=>({fontSize:"0.75rem",color:a.value.primary.ramp4,fontFamily:"monospace",wordBreak:"break-all",textDecoration:"none",cursor:"pointer",transition:"all var(--transition-fast)",display:"inline-block",padding:"2px 4px",borderRadius:"2px","&:hover":{color:a.value.primary.ramp5,background:`${a.value.primary.ramp4}20`,textDecoration:"underline"}})),G=c=>{const m=Math.floor(c/86400),n=Math.floor(c%86400/3600),D=Math.floor(c%3600/60);return m>0?`${m}d ${n}h`:n>0?`${n}h ${D}m`:`${D}m`},V=c=>{if(c===0)return"0 B";const m=1024,n=["B","KB","MB","GB"],D=Math.floor(Math.log(c)/Math.log(m));return parseFloat((c/Math.pow(m,D)).toFixed(1))+" "+n[D]};return(c,m)=>(v(),f("div",{class:"service-card-container",style:t(k.value),onMouseenter:m[1]||(m[1]=n=>y.value=!0),onMouseleave:m[2]||(m[2]=n=>y.value=!1)},[o("div",{style:t(U.value)},null,4),o("div",{style:t(z.value)},[o("div",{style:t(d.value)},[(v(),Y(ke(w.value),{style:t(u.value)},null,8,["style"])),o("div",null,[o("h4",{class:"nes-text",style:t(i.value)},g(c.service.name),5),o("p",{class:"nes-text",style:t(p.value)},g(c.service.description),5)])],4),o("div",{style:t(R.value)},g(F.value),5)],4),c.service.metrics?(v(),f("div",{key:0,style:t(H.value)},[c.service.metrics.uptime?(v(),f("div",{key:0,style:t(A.value)},[o("span",{class:"nes-text",style:t(N.value)},"Uptime:",4),o("span",{class:"nes-text",style:t(L.value)},g(G(c.service.metrics.uptime)),5)],4)):$("",!0),c.service.responseTime?(v(),f("div",{key:1,style:t(A.value)},[o("span",{class:"nes-text",style:t(N.value)},"Response:",4),o("span",{class:"nes-text",style:t(L.value)},g(c.service.responseTime)+"ms",5)],4)):$("",!0),c.service.id==="qbittorrent-exporter"&&c.service.metrics.customMetrics?(v(),f("div",Oe,[c.service.metrics.customMetrics.activeDownloads!==void 0?(v(),f("div",{key:0,style:t(A.value)},[o("span",{style:t(N.value)},"Downloads:",4),o("span",{style:t(L.value)},g(c.service.metrics.customMetrics.activeDownloads),5)],4)):$("",!0),c.service.metrics.customMetrics.downloadSpeed?(v(),f("div",{key:1,style:t(A.value)},[o("span",{style:t(N.value)},"⬇ Speed:",4),o("span",{style:t(L.value)},g(V(c.service.metrics.customMetrics.downloadSpeed))+"/s",5)],4)):$("",!0)])):$("",!0)],4)):$("",!0),M.value?(v(),Y(ze,{key:1,"service-id":c.service.id,"show-metrics":!0},null,8,["service-id"])):$("",!0),c.service.url?(v(),f("div",{key:2,style:t(O.value)},[o("span",{class:"nes-text",style:t(j.value)},"URL:",4),o("a",{href:c.service.url,class:"nes-text",style:t(q.value),onClick:m[0]||(m[0]=De(n=>c.$emit("open",c.service.url),["prevent"])),target:"_blank",rel:"noopener noreferrer"},g(c.service.url),13,je)],4)):$("",!0)],36))}}),Qe=X(Ke,[["__scopeId","data-v-d02ea074"]]),ue="homelab-calendar-data",Xe=()=>({events:[{id:"1",title:"Weekly Grocery Shopping",description:"Pick up groceries for the week",startDate:new Date(2025,8,28,10,0),allDay:!1,category:"household",createdAt:new Date},{id:"2",title:"Date Night",description:"Movie and dinner",startDate:new Date(2025,8,29,19,0),allDay:!1,category:"personal",createdAt:new Date}],todoLists:[{id:"1",name:"Household Tasks",shared:!0,createdAt:new Date,items:[{id:"1",text:"Fix kitchen faucet",completed:!1,category:"maintenance",priority:"high",createdAt:new Date},{id:"2",text:"Clean garage",completed:!1,category:"cleaning",priority:"medium",createdAt:new Date}]},{id:"2",name:"Tech Projects",shared:!0,createdAt:new Date,items:[{id:"3",text:"Setup backup automation",completed:!1,category:"tech",priority:"medium",createdAt:new Date},{id:"4",text:"Upgrade Plex server",completed:!0,category:"tech",priority:"low",createdAt:new Date,completedAt:new Date}]}],lastUpdated:new Date}),Ze=()=>{try{const x=localStorage.getItem(ue);if(x){const s=JSON.parse(x);return s.events=s.events.map(r=>({...r,startDate:new Date(r.startDate),endDate:r.endDate?new Date(r.endDate):void 0,createdAt:new Date(r.createdAt),updatedAt:r.updatedAt?new Date(r.updatedAt):void 0})),s.todoLists=s.todoLists.map(r=>({...r,createdAt:new Date(r.createdAt),updatedAt:r.updatedAt?new Date(r.updatedAt):void 0,items:r.items.map(a=>({...a,createdAt:new Date(a.createdAt),completedAt:a.completedAt?new Date(a.completedAt):void 0,dueDate:a.dueDate?new Date(a.dueDate):void 0}))})),s.lastUpdated=new Date(s.lastUpdated),s}}catch(x){console.warn("Error loading calendar data from localStorage:",x)}return Xe()},et=x=>{try{const s=JSON.stringify(x);if(new Blob([s]).size/1024/1024>5)throw console.warn("Calendar data exceeds recommended size (>5MB)"),new Error("Storage quota exceeded. Consider archiving old events.");localStorage.setItem(ue,s)}catch(s){throw s instanceof DOMException&&s.name==="QuotaExceededError"?(console.error("LocalStorage quota exceeded:",s),new Error("Storage quota exceeded. Please delete some events or todo lists.")):s instanceof Error?(console.error("Error saving calendar data:",s),s):(console.error("Unknown error saving calendar data:",s),new Error("Failed to save calendar data. Please check your browser storage settings."))}},b=_(Ze());Te(b,x=>{try{x.lastUpdated=new Date,et(x)}catch(s){console.error("Failed to auto-save calendar data:",s)}},{deep:!0});function tt(){const x=e(()=>b.value.events),s=e(()=>b.value.todoLists),r=e(()=>s.value.flatMap(d=>d.items.map(u=>({...u,listName:d.name})))),a=e(()=>{const d=new Date,u=new Date(d.getTime()+7*24*60*60*1e3);return x.value.filter(i=>i.startDate>=d&&i.startDate<=u).sort((i,p)=>i.startDate.getTime()-p.startDate.getTime()).slice(0,5)}),y=e(()=>r.value.filter(d=>!d.completed).sort((d,u)=>{const i={high:3,medium:2,low:1},p=i[u.priority]-i[d.priority];return p!==0?p:d.createdAt.getTime()-u.createdAt.getTime()}));return{events:x,todoLists:s,allTodos:r,upcomingEvents:a,incompleteTodos:y,addEvent:d=>{const u={...d,id:Date.now().toString(),createdAt:new Date};return b.value.events.push(u),u},updateEvent:(d,u)=>{const i=b.value.events.findIndex(p=>p.id===d);return i!==-1?(b.value.events[i]={...b.value.events[i],...u,updatedAt:new Date},b.value.events[i]):null},deleteEvent:d=>{const u=b.value.events.findIndex(i=>i.id===d);return u!==-1?(b.value.events.splice(u,1),!0):!1},addTodoList:(d,u=!0)=>{const i={id:Date.now().toString(),name:d,shared:u,items:[],createdAt:new Date};return b.value.todoLists.push(i),i},addTodoItem:(d,u)=>{const i=b.value.todoLists.find(p=>p.id===d);if(i){const p={...u,id:Date.now().toString(),createdAt:new Date};return i.items.push(p),i.updatedAt=new Date,p}return null},toggleTodoItem:(d,u)=>{const i=b.value.todoLists.find(p=>p.id===d);if(i){const p=i.items.find(R=>R.id===u);if(p)return p.completed=!p.completed,p.completedAt=p.completed?new Date:void 0,i.updatedAt=new Date,p}return null},deleteTodoItem:(d,u)=>{const i=b.value.todoLists.find(p=>p.id===d);if(i){const p=i.items.findIndex(R=>R.id===u);if(p!==-1)return i.items.splice(p,1),i.updatedAt=new Date,!0}return!1},deleteTodoList:d=>{const u=b.value.todoLists.findIndex(i=>i.id===d);return u!==-1?(b.value.todoLists.splice(u,1),!0):!1}}}const at=Q({__name:"UpcomingEventsCard",setup(x){const s=le("fallTheme"),{theme:r}=s,{upcomingEvents:a,incompleteTodos:y,allTodos:B}=tt(),w=_(!1),M=e(()=>B.value.filter(S=>S.completed).length),I=e(()=>B.value.length),l=e(()=>{const T=[r.value.primary.ramp1,r.value.primary.ramp2,r.value.primary.ramp3,r.value.primary.ramp4,r.value.primary.ramp5][2];return{border:T,text:r.value.text.bright,glow:T+"40",accent:r.value.primary.ramp4}}),k=e(()=>({background:"rgba(135, 93, 88, 0.1)",border:`4px solid ${l.value.border}`,borderRadius:"0px",padding:"var(--space-lg)",position:"relative",overflow:"hidden",cursor:"default",transition:"all var(--transition-normal)",backdropFilter:"blur(1px)",imageRendering:"pixelated",boxShadow:w.value?`
      0 8px 32px ${r.value.effects.shadow},
      0 0 20px ${l.value.glow},
      inset 3px 3px 0px ${r.value.text.primary}40,
      inset -3px -3px 0px ${r.value.effects.shadow},
      4px 4px 0px ${l.value.border}80
    `:`
      0 4px 12px ${r.value.effects.shadow},
      inset 2px 2px 0px ${r.value.text.primary}20,
      inset -2px -2px 0px ${r.value.effects.shadow},
      2px 2px 0px ${l.value.border}60
    `,transform:w.value?"translateY(-2px)":"translateY(0)",borderColor:w.value?l.value.border:l.value.border+"60"})),U=e(()=>({position:"absolute",top:"0",left:"0",right:"0",height:"2px",background:`linear-gradient(90deg, transparent, ${l.value.border}, transparent)`,opacity:w.value?"1":"0",transition:"opacity var(--transition-normal)"})),z=e(()=>({display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"var(--space-md)"})),d=e(()=>({display:"flex",alignItems:"flex-start",gap:"var(--space-sm)",flex:"1"})),u=e(()=>({width:"16px",height:"16px",color:r.value.primary.ramp4,marginTop:"2px",filter:`drop-shadow(0 0 4px ${r.value.primary.ramp4}40)`})),i=e(()=>({fontSize:"0.875rem",fontWeight:"600",color:r.value.text.bright,margin:"0",lineHeight:"1.25",textShadow:"1px 1px 0px rgba(0,0,0,0.5)"})),p=e(()=>({fontSize:"0.75rem",color:r.value.text.muted,margin:"4px 0 0 0",lineHeight:"1.25",opacity:"0.8",textShadow:"1px 1px 0px rgba(0,0,0,0.5)"})),R=e(()=>({fontSize:"1.2rem",color:l.value.accent,textDecoration:"none",padding:"4px",borderRadius:"0px",transition:"all var(--transition-normal)",filter:w.value?"brightness(1.2)":"brightness(1)",textShadow:"1px 1px 0px rgba(0,0,0,0.5)"})),F=e(()=>({display:"flex",flexDirection:"column",gap:"var(--space-sm)",marginBottom:"var(--space-md)"})),H=e(()=>({display:"flex",alignItems:"flex-start",justifyContent:"space-between",padding:"var(--space-xs)",backgroundColor:"rgba(0, 0, 0, 0.2)",border:`1px solid ${l.value.border}40`,borderRadius:"0px"})),A=e(()=>({flex:"1",marginRight:"var(--space-sm)"})),N=e(()=>({fontSize:"0.8rem",fontWeight:"500",color:r.value.text.bright,display:"block",marginBottom:"2px",textShadow:"1px 1px 0px rgba(0,0,0,0.5)"})),L=e(()=>({display:"flex",alignItems:"center",gap:"var(--space-xs)",flexWrap:"wrap"})),O=e(()=>({fontSize:"0.7rem",color:r.value.text.muted,opacity:"0.8",textShadow:"1px 1px 0px rgba(0,0,0,0.5)"})),j=S=>e(()=>({fontSize:"0.6rem",fontWeight:"500",padding:"1px 4px",borderRadius:"0px",backgroundColor:Z(S),color:r.value.text.bright,textShadow:"1px 1px 0px rgba(0,0,0,0.5)",border:`1px solid ${Z(S)}80`})),q=e(()=>({textAlign:"right",minWidth:"60px"})),G=e(()=>({fontSize:"0.7rem",fontWeight:"600",color:l.value.accent,textShadow:"1px 1px 0px rgba(0,0,0,0.5)"})),V=e(()=>({display:"flex",flexDirection:"column",alignItems:"center",gap:"var(--space-sm)",padding:"var(--space-lg) 0",textAlign:"center"})),c=e(()=>({fontSize:"0.8rem",color:r.value.text.muted,opacity:"0.8",textShadow:"1px 1px 0px rgba(0,0,0,0.5)"})),m=e(()=>({fontSize:"0.75rem",color:l.value.accent,textDecoration:"underline",textShadow:"1px 1px 0px rgba(0,0,0,0.5)"})),n=e(()=>({borderTop:`1px solid ${l.value.border}40`,paddingTop:"var(--space-sm)",marginBottom:"var(--space-md)"})),D=e(()=>({display:"flex",alignItems:"center",gap:"var(--space-xs)",marginBottom:"var(--space-xs)"})),P=e(()=>({width:"12px",height:"12px",color:l.value.accent,filter:`drop-shadow(0 0 2px ${l.value.accent}40)`})),pe=e(()=>({fontSize:"0.75rem",color:r.value.text.muted,opacity:"0.9",textShadow:"1px 1px 0px rgba(0,0,0,0.5)"})),ve=e(()=>({width:"100%",height:"4px",backgroundColor:"rgba(0, 0, 0, 0.3)",border:`1px solid ${l.value.border}40`,borderRadius:"0px",overflow:"hidden"})),me=()=>({width:`${I.value>0?M.value/I.value*100:0}%`,height:"100%",backgroundColor:l.value.accent,transition:"width var(--transition-normal)",filter:`drop-shadow(0 0 4px ${l.value.accent}60)`}),ge=e(()=>({display:"flex",justifyContent:"center",paddingTop:"var(--space-sm)",borderTop:`1px solid ${l.value.border}40`})),xe=e(()=>({fontSize:"0.75rem",color:l.value.accent,textDecoration:"none",fontWeight:"500",textShadow:"1px 1px 0px rgba(0,0,0,0.5)",transition:"all var(--transition-normal)"})),ye=S=>{const h=new Date,T=S.toDateString()===h.toDateString(),C=S.toDateString()===new Date(h.getTime()+24*60*60*1e3).toDateString();return T?"Today":C?"Tomorrow":S.toLocaleDateString([],{month:"short",day:"numeric"})},fe=S=>{const h=new Date,T=S.getTime()-h.getTime();if(T<0)return"Past";const C=Math.floor(T/(1e3*60*60*24)),ee=Math.floor(T%(1e3*60*60*24)/(1e3*60*60));return C>0?`${C}d`:ee>0?`${ee}h`:`${Math.floor(T%(1e3*60*60)/(1e3*60))}m`},Z=S=>{switch(S){case"personal":return r.value.primary.ramp2;case"household":return r.value.primary.ramp4;case"shared":return r.value.primary.ramp3;default:return r.value.neutral.ramp3}};return(S,h)=>{const T=Ce("router-link");return v(),f("div",{class:"upcoming-events-container",style:t(k.value),onMouseenter:h[0]||(h[0]=C=>w.value=!0),onMouseleave:h[1]||(h[1]=C=>w.value=!1)},[o("div",{style:t(U.value)},null,4),o("div",{style:t(z.value)},[o("div",{style:t(d.value)},[W(E(Fe),{style:t(u.value)},null,8,["style"]),o("div",null,[o("h4",{class:"nes-text",style:t(i.value)},"Upcoming Events",4),o("p",{class:"nes-text",style:t(p.value)},"Next "+g(E(a).length)+" events",5)])],4),W(T,{to:"/calendar",style:t(R.value)},{default:J(()=>[...h[2]||(h[2]=[K(" ⚙️ ",-1)])]),_:1},8,["style"])],4),E(a).length>0?(v(),f("div",{key:0,style:t(F.value)},[(v(!0),f(ie,null,ce(E(a),C=>(v(),f("div",{key:C.id,style:t(H.value)},[o("div",{style:t(A.value)},[o("span",{class:"nes-text",style:t(N.value)},g(C.title),5),o("div",{style:t(L.value)},[o("span",{class:"nes-text",style:t(O.value)},g(ye(C.startDate)),5),o("span",{class:"nes-text",style:t(j(C.category))},g(C.category),5)],4)],4),o("div",{style:t(q.value)},[o("span",{class:"nes-text",style:t(G.value)},g(fe(C.startDate)),5)],4)],4))),128))],4)):(v(),f("div",{key:1,style:t(V.value)},[o("span",{class:"nes-text",style:t(c.value)}," No upcoming events ",4),W(T,{to:"/calendar",style:t(m.value),class:"nes-text"},{default:J(()=>[...h[3]||(h[3]=[K(" Add your first event ",-1)])]),_:1},8,["style"])],4)),E(y).length>0?(v(),f("div",{key:2,style:t(n.value)},[o("div",{style:t(D.value)},[W(E(He),{style:t(P.value)},null,8,["style"]),o("span",{class:"nes-text",style:t(pe.value)},g(M.value)+"/"+g(I.value)+" tasks completed ",5)],4),o("div",{style:t(ve.value)},[o("div",{style:t(me()),class:"progress-bar"},null,4)],4)],4)):$("",!0),o("div",{style:t(ge.value)},[W(T,{to:"/calendar",class:"nes-text",style:t(xe.value)},{default:J(()=>[...h[4]||(h[4]=[K(" 📅 Manage Calendar & Tasks ",-1)])]),_:1},8,["style"])],4)],36)}}}),rt=X(at,[["__scopeId","data-v-e897c73c"]]),ct=Q({__name:"RetroApp",setup(x){const s=$e(),r=_(new Date().toLocaleTimeString()),a=_(!0),y=_(!0),{services:B,refreshService:w,startAutoRefresh:M}=Le(),{currentSeason:I,availableThemes:l,setTheme:k,resetToAutoTheme:U}=ne(),z=_(0),d=e(()=>({minHeight:"100vh",padding:"0",margin:"0",position:"relative"})),u=e(()=>({display:"flex",justifyContent:"space-between",alignItems:"center",padding:"var(--space-lg)",background:"var(--bg-surface)",borderBottom:"4px solid var(--color-primary-3)",borderImage:"repeating-linear-gradient(90deg, var(--color-primary-3) 0px, var(--color-primary-3) 8px, var(--color-primary-4) 8px, var(--color-primary-4) 16px) 4",backdropFilter:"blur(10px)",position:"sticky",top:"0",zIndex:"50",imageRendering:"pixelated"})),i=e(()=>({fontSize:"1.75rem",fontWeight:"700",color:"var(--text-bright)",margin:"0",textShadow:"2px 2px 4px var(--effect-shadow)",filter:"drop-shadow(0 0 8px var(--color-accent-3))",display:"flex",alignItems:"center",gap:"var(--space-sm)"})),p=e(()=>({width:"32px",height:"32px",borderRadius:"50%",imageRendering:"auto",filter:"drop-shadow(0 0 4px var(--color-accent-3))",flexShrink:"0"})),R=e(()=>({padding:"var(--space-lg)",maxWidth:"1200px",margin:"0 auto",display:"flex",flexDirection:"column",gap:"var(--space-xl)"})),F=e(()=>({display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"var(--space-xl)",width:"100%"})),H=e(()=>({display:"flex",justifyContent:"center",gap:"var(--space-md)",flexWrap:"wrap",padding:"var(--space-lg)",background:"var(--bg-card)",borderRadius:"var(--radius-lg)",border:"1px solid var(--color-primary-2)40"})),A=e(()=>({margin:"var(--space-xs)"})),N=e(()=>({background:"rgba(135, 93, 88, 0.1)",backdropFilter:"blur(1px)",border:"4px solid var(--color-primary-3)",padding:"var(--space-lg)",minHeight:"200px"})),L=()=>{r.value=new Date().toLocaleTimeString()},O=async n=>{console.log(`Refreshing service: ${n}`),await w(n),L()},j=n=>{n.includes("192.168.0.111:8112")?window.open("http://192.168.0.111:8112/","_blank","noopener"):window.open(n,"_blank")},q=()=>{a.value=!a.value},G=()=>{y.value=!y.value},V=()=>{z.value=(z.value+1)%l.value.length;const n=l.value[z.value];n.key===I.value?U():k(n.key)},c=n=>{switch(n){case"AUTUMN":return"🍂";case"HALLOWEEN":return"🎃";case"WINTER":return"❄️";case"SPRING":return"🌸";default:return"🍂"}},m=n=>{switch(n){case"AUTUMN":return"Autumn";case"HALLOWEEN":return"Halloween";case"WINTER":return"Winter";case"SPRING":return"Spring";default:return"Autumn"}};return Ie(()=>{setInterval(L,1e3),M()}),(n,D)=>(v(),Y(_e,{"enable-scanlines":a.value,"enable-particles":y.value,"enable-animations":!0},{default:J(()=>[o("div",{style:t(d.value)},[o("header",{style:t(u.value)},[o("h1",{class:"nes-text is-primary",style:t(i.value)},[o("img",{src:We,alt:"QCA",style:t(p.value)},null,4),D[0]||(D[0]=K(" LCiBot Dashboard ",-1))],4)],4),o("main",{style:t(R.value)},[o("div",{style:t(F.value)},[E(s).features.calendarIntegration==="card"?(v(),f("div",{key:0,class:"nes-container with-title is-dark",style:t(N.value)},[D[1]||(D[1]=o("p",{class:"title"},"📅 Calendar",-1)),W(Ne,{placement:"card"})],4)):$("",!0),W(rt),(v(!0),f(ie,null,ce(E(B),P=>(v(),Y(Qe,{key:P.id,service:P,elevation:"medium","border-style":"gradient","glow-effect":!0,onRefresh:O,onOpen:j},null,8,["service"]))),128))],4),o("div",{style:t(H.value)},[o("button",{class:"nes-btn is-warning",onClick:q,style:t(A.value)},g(a.value?"📺 Disable":"📺 Enable")+" Scanlines ",5),o("button",{class:"nes-btn is-success",onClick:G,style:t(A.value)},g(y.value?"❄️ Disable":"❄️ Enable")+" Particles ",5),o("button",{class:"nes-btn is-primary",onClick:V,style:t(A.value)},g(c(E(I)))+" "+g(m(E(I))),5)],4)],4)],4)]),_:1},8,["enable-scanlines","enable-particles"]))}});export{ct as default};
