import{d as ze,c as n,P as He,r as y,a as d,b as e,e as T,f as Ne,w as je,n as l,g as Re,t as c,F as h,j as D,a5 as p,a7 as S,a6 as I,u as Ae,a9 as z,a8 as Fe,a4 as Pe,o as u,h as We,R as H}from"./index-Cxh-SIsm.js";import{u as Ke}from"./useCalendarData-CKl3AvcN.js";import{u as Ye}from"./useTheme-ZB4WJPcs.js";import{_ as Oe}from"./_plugin-vue_export-helper-DlAUqK2U.js";const qe={class:"header-content"},Ge={class:"header-actions"},Je=["onClick"],Qe={class:"day-number"},Xe={key:1,class:"events-list"},Ze={class:"event-content"},et={class:"event-title"},tt={class:"event-actions"},at=["onClick"],st={class:"nes-text"},lt=["onClick"],ot={class:"todo-items"},nt={class:"todo-checkbox"},rt=["checked","onChange"],it=["onClick"],dt=["onUpdate:modelValue","onKeyup"],ut=["onUpdate:modelValue"],ct=["onClick"],vt={class:"form-group"},pt={class:"form-group"},mt={class:"form-group"},yt={class:"form-group"},gt={class:"form-group"},bt=ze({__name:"CalendarPage",setup(ft){const{theme:s}=Ye();n(()=>He());const{events:N,todoLists:j,addEvent:R,deleteEvent:A,addTodoList:F,addTodoItem:P,toggleTodoItem:W,deleteTodoItem:K,deleteTodoList:Y}=Ke(),v=y(new Date),g=y(null),b=y(!1),i=y({title:"",description:"",startDate:"",category:"personal",allDay:!1}),f=y(""),k=y({}),$=y({}),O=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],q=n(()=>v.value.toLocaleDateString("en-US",{month:"long",year:"numeric"})),G=n(()=>{const o=v.value.getFullYear(),t=v.value.getMonth(),w=new Date(o,t,1),a=new Date(w);a.setDate(a.getDate()-w.getDay());const r=[],m=new Date(a);for(let U=0;U<42;U++){const Ue=N.value.filter(Ie=>new Date(Ie.startDate).toDateString()===m.toDateString());r.push({date:new Date(m),events:Ue,isCurrentMonth:m.getMonth()===t}),m.setDate(m.getDate()+1)}return r}),_=o=>{const t=new Date;return o.toDateString()===t.toDateString()},J=o=>{g.value=o},Q=()=>{v.value=new Date(v.value.getFullYear(),v.value.getMonth()-1)},X=()=>{v.value=new Date(v.value.getFullYear(),v.value.getMonth()+1)},Z=o=>o.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}),ee=o=>o.allDay?"All Day":o.startDate.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),te=()=>{!i.value.title||!i.value.startDate||(R({title:i.value.title,description:i.value.description,startDate:new Date(i.value.startDate),allDay:i.value.allDay,category:i.value.category}),b.value=!1,i.value={title:"",description:"",startDate:"",category:"personal",allDay:!1})},ae=o=>{confirm("Delete this event?")&&A(o)},M=()=>{f.value&&(F(f.value,!0),f.value="")},B=o=>{k.value[o]&&(P(o,{text:k.value[o],completed:!1,category:"general",priority:$.value[o]||"medium"}),k.value[o]="")},se=(o,t)=>{W(o,t)},le=(o,t)=>{confirm("Delete this task?")&&K(o,t)},oe=o=>{confirm("Delete this entire list?")&&Y(o)},ne=n(()=>({minHeight:"100vh",padding:"2rem",background:s.value.backgrounds.app,color:s.value.text.primary})),re=n(()=>({marginBottom:"2rem",padding:"1.5rem",background:s.value.backgrounds.card,borderRadius:"8px",border:`4px solid ${s.value.primary.ramp3}`})),ie=n(()=>({fontSize:"2rem",color:s.value.primary.ramp5,textShadow:`0 0 10px ${s.value.effects.glow}`})),de=n(()=>({background:s.value.secondary.ramp3,color:s.value.text.primary,border:`4px solid ${s.value.secondary.ramp4}`})),C=n(()=>({borderColor:s.value.primary.ramp4,color:s.value.text.primary})),ue=n(()=>({display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(500px, 1fr))",gap:"2rem","@media (max-width: 768px)":{gridTemplateColumns:"1fr"}})),E=n(()=>({background:s.value.backgrounds.card,border:`4px solid ${s.value.primary.ramp3}`,padding:"1.5rem"})),ce=n(()=>({display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"})),L=n(()=>({background:s.value.accent.ramp3,borderColor:s.value.accent.ramp4})),ve=n(()=>({color:s.value.primary.ramp5,fontSize:"1.5rem"})),pe=n(()=>({display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"4px",marginTop:"1rem"})),me=n(()=>({textAlign:"center",padding:"0.5rem",fontWeight:"bold",color:s.value.accent.ramp5,background:s.value.backgrounds.surface})),ye=o=>{const t={padding:"0.75rem",textAlign:"center",cursor:"pointer",background:o.isCurrentMonth?s.value.backgrounds.surface:s.value.backgrounds.app,border:`2px solid ${s.value.neutral.ramp3}`,minHeight:"60px",position:"relative",transition:"all 0.2s"};return _(o.date)?{...t,border:`3px solid ${s.value.status.info}`,background:s.value.primary.ramp1,fontWeight:"bold"}:o.events.length>0?{...t,background:s.value.accent.ramp1}:t},ge=n(()=>({position:"absolute",top:"4px",right:"4px",background:s.value.status.success,color:s.value.text.primary,borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:"bold"})),be=n(()=>({marginTop:"2rem",padding:"1rem",background:s.value.backgrounds.surface,borderRadius:"4px"})),fe=n(()=>({color:s.value.primary.ramp5,marginBottom:"1rem"})),ke=n(()=>({color:s.value.text.muted,fontStyle:"italic",textAlign:"center",padding:"2rem"})),xe=n(()=>({background:s.value.backgrounds.elevated,border:`2px solid ${s.value.primary.ramp3}`,padding:"1rem",marginBottom:"0.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"})),he=n(()=>({color:s.value.accent.ramp5,fontSize:"0.9rem",marginTop:"0.25rem"})),De=n(()=>({color:s.value.text.secondary,fontSize:"0.9rem",marginTop:"0.5rem"})),Se=n(()=>({display:"flex",gap:"0.5rem",marginBottom:"1rem"})),x=n(()=>({background:s.value.backgrounds.surface,color:s.value.text.primary,borderColor:s.value.primary.ramp3})),V=n(()=>({background:s.value.backgrounds.surface,color:s.value.text.primary,borderColor:s.value.primary.ramp3})),Ce=n(()=>({background:s.value.backgrounds.surface,border:`2px solid ${s.value.primary.ramp3}`,borderRadius:"4px",padding:"1rem",marginBottom:"1rem"})),we=n(()=>({display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",paddingBottom:"0.5rem",borderBottom:`2px solid ${s.value.primary.ramp3}`})),Te=o=>({display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",background:s.value.backgrounds.elevated,border:`2px solid ${s.value.neutral.ramp3}`,borderRadius:"4px",marginBottom:"0.5rem",opacity:o.completed?.6:1}),$e=n(()=>({display:"flex",gap:"0.5rem",alignItems:"center"})),_e=o=>({background:{high:s.value.status.error,medium:s.value.status.warning,low:s.value.status.success}[o],color:s.value.text.primary,padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"bold",textTransform:"uppercase"}),Me=n(()=>({display:"flex",gap:"0.5rem",marginTop:"1rem"})),Be=n(()=>({position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3})),Ee=n(()=>({background:s.value.backgrounds.card,border:`4px solid ${s.value.primary.ramp4}`,maxWidth:"600px",width:"90%",maxHeight:"80vh",overflow:"auto"})),Le=n(()=>({padding:"1rem"})),Ve=n(()=>({display:"flex",gap:"1rem",justifyContent:"flex-end",marginTop:"1.5rem"}));return(o,t)=>{const w=Re("router-link");return u(),d("div",{class:"calendar-page",style:l(ne.value)},[e("header",{class:"calendar-header",style:l(re.value)},[e("div",qe,[Ne(w,{to:"/",class:"nes-btn back-button",style:l(de.value)},{default:je(()=>[...t[10]||(t[10]=[We(" â† Back to Dashboard ",-1)])]),_:1},8,["style"]),e("h1",{class:"nes-text is-primary",style:l(ie.value)}," ðŸ“… Calendar & Tasks ",4),e("div",Ge,[e("button",{class:"nes-btn is-success",style:l(C.value),onClick:t[0]||(t[0]=a=>b.value=!0)}," + Event ",4)])])],4),e("div",{class:"calendar-content",style:l(ue.value)},[e("section",{class:"calendar-section nes-container with-title is-dark",style:l(E.value)},[t[11]||(t[11]=e("p",{class:"title"},"Monthly Calendar",-1)),e("div",{class:"month-navigation",style:l(ce.value)},[e("button",{class:"nes-btn",style:l(L.value),onClick:Q},"â—€",4),e("h2",{class:"nes-text",style:l(ve.value)},c(q.value),5),e("button",{class:"nes-btn",style:l(L.value),onClick:X},"â–¶",4)],4),e("div",{class:"calendar-grid",style:l(pe.value)},[(u(),d(h,null,D(O,a=>e("div",{key:a,class:"day-header",style:l(me.value)},c(a),5)),64)),(u(!0),d(h,null,D(G.value,a=>(u(),d("div",{key:`${a.date.toISOString()}`,class:H(["calendar-day",{"is-today":_(a.date),"is-other-month":!a.isCurrentMonth,"has-events":a.events.length>0}]),style:l(ye(a)),onClick:r=>J(a)},[e("div",Qe,c(a.date.getDate()),1),a.events.length>0?(u(),d("div",{key:0,class:"event-indicator",style:l(ge.value)},c(a.events.length),5)):T("",!0)],14,Je))),128))],4),g.value?(u(),d("div",{key:0,class:"day-events",style:l(be.value)},[e("h3",{class:"nes-text",style:l(fe.value)}," Events for "+c(Z(g.value.date)),5),g.value.events.length===0?(u(),d("div",{key:0,class:"no-events",style:l(ke.value)}," No events scheduled ",4)):(u(),d("div",Xe,[(u(!0),d(h,null,D(g.value.events,a=>(u(),d("div",{key:a.id,class:"event-item nes-container is-dark",style:l(xe.value)},[e("div",Ze,[e("div",et,c(a.title),1),e("div",{class:"event-time",style:l(he.value)},c(ee(a)),5),a.description?(u(),d("div",{key:0,class:"event-description",style:l(De.value)},c(a.description),5)):T("",!0)]),e("div",tt,[e("button",{class:"nes-btn is-error is-small",onClick:r=>ae(a.id)}," Delete ",8,at)])],4))),128))]))],4)):T("",!0)],4),e("section",{class:"todos-section nes-container with-title is-dark",style:l(E.value)},[t[13]||(t[13]=e("p",{class:"title"},"Task Lists",-1)),e("div",{class:"todos-header",style:l(Se.value)},[p(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>f.value=a),type:"text",class:"nes-input",placeholder:"New list name...",style:l(x.value),onKeyup:I(M,["enter"])},null,36),[[S,f.value]]),e("button",{class:"nes-btn is-primary",style:l(C.value),onClick:M}," + List ",4)],4),(u(!0),d(h,null,D(Ae(j),a=>(u(),d("div",{key:a.id,class:"todo-list",style:l(Ce.value)},[e("div",{class:"list-header",style:l(we.value)},[e("h3",st,c(a.name),1),e("button",{class:"nes-btn is-error is-small",onClick:r=>oe(a.id)}," Delete List ",8,lt)],4),e("div",ot,[(u(!0),d(h,null,D(a.items,r=>(u(),d("div",{key:r.id,class:"todo-item",style:l(Te(r))},[e("label",nt,[e("input",{type:"checkbox",class:"nes-checkbox",checked:r.completed,onChange:m=>se(a.id,r.id)},null,40,rt),e("span",{class:H({completed:r.completed})},c(r.text),3)]),e("div",{class:"todo-meta",style:l($e.value)},[e("span",{class:"priority-badge",style:l(_e(r.priority))},c(r.priority),5),e("button",{class:"nes-btn is-error is-small",onClick:m=>le(a.id,r.id)}," Ã— ",8,it)],4)],4))),128))]),e("div",{class:"add-todo",style:l(Me.value)},[p(e("input",{"onUpdate:modelValue":r=>k.value[a.id]=r,type:"text",class:"nes-input",placeholder:"New task...",style:l(x.value),onKeyup:I(r=>B(a.id),["enter"])},null,44,dt),[[S,k.value[a.id]]]),p(e("select",{"onUpdate:modelValue":r=>$.value[a.id]=r,class:"nes-select",style:l(V.value)},[...t[12]||(t[12]=[e("option",{value:"low"},"Low",-1),e("option",{value:"medium"},"Medium",-1),e("option",{value:"high"},"High",-1)])],12,ut),[[z,$.value[a.id]]]),e("button",{class:"nes-btn is-success is-small",onClick:r=>B(a.id)}," + Add ",8,ct)],4)],4))),128))],4)],4),b.value?(u(),d("div",{key:0,class:"dialog-overlay",style:l(Be.value),onClick:t[9]||(t[9]=a=>b.value=!1)},[e("div",{class:"dialog nes-container is-dark with-title",style:l(Ee.value),onClick:t[8]||(t[8]=Pe(()=>{},["stop"]))},[t[20]||(t[20]=e("p",{class:"title"},"Create New Event",-1)),e("div",{class:"dialog-content",style:l(Le.value)},[e("div",vt,[t[14]||(t[14]=e("label",{class:"nes-text"},"Title:",-1)),p(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>i.value.title=a),type:"text",class:"nes-input",style:l(x.value)},null,4),[[S,i.value.title]])]),e("div",pt,[t[15]||(t[15]=e("label",{class:"nes-text"},"Description:",-1)),p(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=a=>i.value.description=a),class:"nes-textarea",style:l(x.value)},null,4),[[S,i.value.description]])]),e("div",mt,[t[16]||(t[16]=e("label",{class:"nes-text"},"Start Date:",-1)),p(e("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>i.value.startDate=a),type:"datetime-local",class:"nes-input",style:l(x.value)},null,4),[[S,i.value.startDate]])]),e("div",yt,[t[18]||(t[18]=e("label",{class:"nes-text"},"Category:",-1)),p(e("select",{"onUpdate:modelValue":t[5]||(t[5]=a=>i.value.category=a),class:"nes-select",style:l(V.value)},[...t[17]||(t[17]=[e("option",{value:"personal"},"Personal",-1),e("option",{value:"shared"},"Shared",-1),e("option",{value:"household"},"Household",-1)])],4),[[z,i.value.category]])]),e("div",gt,[e("label",null,[p(e("input",{"onUpdate:modelValue":t[6]||(t[6]=a=>i.value.allDay=a),type:"checkbox",class:"nes-checkbox"},null,512),[[Fe,i.value.allDay]]),t[19]||(t[19]=e("span",{class:"nes-text"},"All Day Event",-1))])]),e("div",{class:"dialog-actions",style:l(Ve.value)},[e("button",{class:"nes-btn is-success",style:l(C.value),onClick:te}," Create Event ",4),e("button",{class:"nes-btn",style:l(C.value),onClick:t[7]||(t[7]=a=>b.value=!1)}," Cancel ",4)],4)],4)],4)],4)):T("",!0)],4)}}}),Ct=Oe(bt,[["__scopeId","data-v-841cab89"]]);export{Ct as default};
