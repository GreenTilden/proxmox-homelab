import{r as B,c as t,i as xr,d as Sr,q as kr,o as wr,l as Ir,w as ze,e as a,a as l,f,n as e,g as Cr,h as zr,k as _,s as _r,t as c,u as p,F as R,j as Y,a5 as J,a6 as Z,a7 as _e,p as Re,a8 as Rr,Q as Br,b as s}from"./index-Cb9bHEfA.js";import{_ as Tr}from"./qca-IRcFUp2s.js";import{C as oe,r as Lr}from"./chart-BR_H7_9u.js";import{S as Wr}from"./SeasonalThemeProvider-ewS_V3_x.js";import{c as $r}from"./apiClient-C3SqeptG.js";import{_ as Pr}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useTheme-g-avcNHO.js";import"./AtmosphericBackground-DbF0VqY1.js";import"./ScanlineOverlay-Dres_Fmy.js";const T=$r("/cmd-api/freezer");function Or(){const O=B([]),h=B(null),W=B([]),C=B(null),S=B([]),k=B({}),m=B(null),b=B(!1),v=B(null);async function I(u){b.value=!0,v.value=null;try{const i=u?`?query=${encodeURIComponent(u)}`:"",g=await T(`/recipes${i}`);O.value=g.results||[]}catch(i){v.value=i.message}finally{b.value=!1}}async function $(u){b.value=!0,v.value=null;try{h.value=await T(`/recipes/${u}`)}catch(i){v.value=i.message}finally{b.value=!1}}async function j(u){b.value=!0,v.value=null;try{const i=await T("/recipes/import-url",{method:"POST",body:JSON.stringify({url:u})});return await I(),i}catch(i){throw v.value=i.message,i}finally{b.value=!1}}async function N(u){try{await T(`/recipes/${u}`,{method:"DELETE"}),O.value=O.value.filter(i=>i.id!==u)}catch(i){v.value=i.message}}async function D(){try{const u=await T("/sessions");W.value=u.sessions||[]}catch(u){v.value=u.message}}async function G(u,i){try{const g=await T("/sessions",{method:"POST",body:JSON.stringify({name:u,recipes:i})});return W.value.push(g),C.value=g,g}catch(g){v.value=g.message}}async function A(u,i){var g;try{const w=await T(`/sessions/${u}`,{method:"PUT",body:JSON.stringify(i)}),P=W.value.findIndex(M=>M.id===u);return P>=0&&(W.value[P]=w),((g=C.value)==null?void 0:g.id)===u&&(C.value=w),w}catch(w){v.value=w.message}}async function F(u){var i;try{await T(`/sessions/${u}`,{method:"DELETE"}),W.value=W.value.filter(g=>g.id!==u),((i=C.value)==null?void 0:i.id)===u&&(C.value=null)}catch(g){v.value=g.message}}async function H(u){b.value=!0,v.value=null;try{const i=await T(`/sessions/${u}/generate-list`,{method:"POST"});k.value=i.shoppingList||{},m.value=i.prepGuide||null;const g=localStorage.getItem(`freezer-checks-${u}`);if(g){const w=JSON.parse(g);for(const P of Object.keys(k.value))for(const M of k.value[P])w.includes(M.id)&&(M.checked=!0)}return i}catch(i){v.value=i.message}finally{b.value=!1}}function z(u,i){for(const g of Object.keys(k.value))for(const w of k.value[g])if(w.id===i){w.checked=!w.checked;const P=[];for(const M of Object.keys(k.value))for(const U of k.value[M])U.checked&&P.push(U.id);localStorage.setItem(`freezer-checks-${u}`,JSON.stringify(P)),T(`/sessions/${u}/check-item`,{method:"PATCH",body:JSON.stringify({itemId:i,checked:w.checked})}).catch(()=>{});return}}async function V(){try{const u=await T("/inventory");S.value=u.items||[]}catch(u){v.value=u.message}}async function ee(u){try{const i=await T("/inventory",{method:"POST",body:JSON.stringify(u)});return await V(),i}catch(i){v.value=i.message}}async function te(u){try{await T(`/inventory/${encodeURIComponent(u)}`,{method:"DELETE"}),S.value=S.value.filter(i=>i.name.toLowerCase()!==u.toLowerCase())}catch(i){v.value=i.message}}const q=t(()=>Object.values(k.value).reduce((u,i)=>u+i.length,0)),Q=t(()=>Object.values(k.value).reduce((u,i)=>u+i.filter(g=>g.checked).length,0,0)),re=t(()=>q.value>0?Math.round(Q.value/q.value*100):0);async function ae(){b.value=!0;try{await Promise.all([I(),D(),V()])}finally{b.value=!1}}return{recipes:O,selectedRecipe:h,sessions:W,activeSession:C,inventory:S,shoppingList:k,prepGuide:m,isLoading:b,error:v,totalShoppingItems:q,checkedShoppingItems:Q,shoppingProgress:re,init:ae,fetchRecipes:I,fetchRecipeDetail:$,importRecipeUrl:j,deleteRecipe:N,fetchSessions:D,createSession:G,updateSession:A,deleteSession:F,generateShoppingList:H,toggleCheckItem:z,fetchInventory:V,addInventoryItem:ee,removeInventoryItem:te}}function Mr(){const O=xr("fallTheme",null),h=t(()=>{var k,m,b,v,I,$,j,N,D,G,A,F,H;if((k=O==null?void 0:O.theme)!=null&&k.value){const z=O.theme.value;return{primary:((m=z.primary)==null?void 0:m.ramp4)||"#3b82f6",secondary:((b=z.secondary)==null?void 0:b.ramp4)||"#8b5cf6",success:((v=z.status)==null?void 0:v.success)||"#22c55e",warning:((I=z.status)==null?void 0:I.warning)||"#eab308",error:(($=z.status)==null?void 0:$.error)||"#ef4444",info:((j=z.accent)==null?void 0:j.ramp3)||"#06b6d4",background:((N=z.backgrounds)==null?void 0:N.primary)||"#0f0f1a",cardBackground:((D=z.backgrounds)==null?void 0:D.card)||"#1a1a2e",text:((G=z.text)==null?void 0:G.bright)||"#ffffff",textMuted:((A=z.text)==null?void 0:A.muted)||"#a0a0a0",grid:((F=z.neutral)==null?void 0:F.ramp2)+"30"||"#33333330",border:((H=z.neutral)==null?void 0:H.ramp3)||"#444444"}}return{primary:"#3b82f6",secondary:"#8b5cf6",success:"#22c55e",warning:"#eab308",error:"#ef4444",info:"#06b6d4",background:"#0f0f1a",cardBackground:"#1a1a2e",text:"#ffffff",textMuted:"#a0a0a0",grid:"#33333330",border:"#444444"}}),W=t(()=>({chart:{background:"transparent",fontFamily:"inherit",toolbar:{show:!1},sparkline:{enabled:!1}},theme:{mode:"dark"},colors:[h.value.primary,h.value.secondary,h.value.success,h.value.warning],grid:{borderColor:h.value.grid,strokeDashArray:4},xaxis:{labels:{style:{colors:h.value.textMuted,fontSize:"10px"}},axisBorder:{color:h.value.grid},axisTicks:{color:h.value.grid}},yaxis:{labels:{style:{colors:h.value.textMuted,fontSize:"10px"}}},tooltip:{theme:"dark",style:{fontSize:"11px"}},legend:{labels:{colors:h.value.text}}}));return{colors:h,apexOptions:W,getGaugeOptions:(k,m=100,b)=>{const v=Math.min(k/m*100,100);let I=h.value.success;return b&&(v>=b.critical?I=h.value.error:v>=b.warning&&(I=h.value.warning)),{chart:{type:"radialBar",height:120,sparkline:{enabled:!0}},plotOptions:{radialBar:{startAngle:-90,endAngle:90,hollow:{size:"60%",background:"transparent"},track:{background:h.value.grid,strokeWidth:"100%",margin:0},dataLabels:{name:{show:!1},value:{offsetY:5,fontSize:"14px",fontWeight:600,color:h.value.text,formatter:()=>Math.round(k)+"%"}}}},fill:{colors:[I]},stroke:{lineCap:"round"}}},getSparklineOptions:k=>({chart:{type:"area",height:40,sparkline:{enabled:!0},animations:{enabled:!0,easing:"easeinout",speed:300}},stroke:{curve:"smooth",width:2},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.4,opacityTo:.1,stops:[0,100]}},colors:[k||h.value.primary],tooltip:{enabled:!0,theme:"dark",x:{show:!1},y:{formatter:m=>m.toFixed(1)}}})}}const jr=["onClick"],Nr={class:"tab-emoji"},Dr={class:"tab-label"},Gr={key:1},Ar=["disabled"],Fr=["onClick"],Hr=["src","alt"],Ur={key:0},Er={key:1},Vr={key:2},qr=["onClick"],Jr={key:0},Qr=["onClick"],Xr=["onClick"],Kr=["disabled"],Yr={key:3},Zr={key:1},ea={key:0},ta=["innerHTML"],ra=["onClick"],aa={key:0},na={key:4},sa=["disabled"],oa=["onClick"],la={key:0},ia={key:1},ca={key:2},ua=["innerHTML"],da=Sr({__name:"FreezerMeals",setup(O){var we;oe.register(...Lr);const h=((we=document.querySelector('link[rel="icon"]'))==null?void 0:we.getAttribute("href"))||"";function W(o){const n=document.querySelector('link[rel="icon"]');n&&(n.href=`data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>${o}</text></svg>`)}W("ðŸ³"),kr(()=>{const o=document.querySelector('link[rel="icon"]');o&&(o.href=h)});const{recipes:C,selectedRecipe:S,sessions:k,activeSession:m,inventory:b,shoppingList:v,prepGuide:I,isLoading:$,error:j,totalShoppingItems:N,checkedShoppingItems:D,shoppingProgress:G,fetchRecipes:A,fetchRecipeDetail:F,importRecipeUrl:H,deleteRecipe:z,fetchSessions:V,createSession:ee,updateSession:te,generateShoppingList:q,toggleCheckItem:Q,fetchInventory:re,addInventoryItem:ae,removeInventoryItem:u}=Or(),{colors:i}=Mr(),g=B("recipes"),w=B(""),P=B(null),M=B(null);let U=null,ne=null;const Be=[{id:"recipes",label:"Recipes",icon:"ðŸ“–"},{id:"plan",label:"Plan",icon:"ðŸ³"},{id:"shopping",label:"Shop",icon:"ðŸ›’"},{id:"pantry",label:"Pantry",icon:"ðŸª"}],L=B({name:"",quantity:1,unit:"",location:"pantry"});wr(async()=>{await Promise.all([A(),V(),re()]),await Te()});async function Te(){var o,n;k.value.length>0?(m.value=k.value[0],(o=m.value)!=null&&o.shoppingList&&(v.value=m.value.shoppingList),(n=m.value)!=null&&n.prepGuide&&(I.value=m.value.prepGuide)):await ee("Freezer Prep",[])}function X(o){var n;return((n=m.value)==null?void 0:n.recipes.some(x=>x.recipeId===o))??!1}function le(o){var n,x;return((x=(n=m.value)==null?void 0:n.recipes.find(r=>r.recipeId===o))==null?void 0:x.multiplier)??1}function Le(o){if(!m.value)return;const n=m.value.recipes.findIndex(x=>x.recipeId===o.id);n>=0?m.value.recipes.splice(n,1):m.value.recipes.push({recipeId:o.id,multiplier:1,recipeName:o.name}),ce()}function ie(o,n){if(!m.value)return;const x=m.value.recipes.find(r=>r.recipeId===o);x&&(x.multiplier=Math.max(1,x.multiplier+n),ce())}async function ce(){m.value&&await te(m.value.id,{recipes:m.value.recipes})}const se=t(()=>{var o;return((o=m.value)==null?void 0:o.recipes.length)??0}),We=t(()=>m.value?m.value.recipes.reduce((o,n)=>{const x=C.value.find(r=>r.id===n.recipeId);return o+((x==null?void 0:x.servings)||1)*n.multiplier},0):0),$e=t(()=>["pantry","fridge","freezer"].filter(n=>b.value.some(x=>x.location===n)));async function ue(){if(w.value)try{await H(w.value),w.value=""}catch{}}async function Pe(){m.value&&(await q(m.value.id),g.value="shopping",await Br(),setTimeout(Fe,100))}function Oe(o){m.value&&Q(m.value.id,o)}async function Me(o){await z(o),S.value=null}async function je(o){await F(o.id)}async function de(){L.value.name&&(await ae(L.value),L.value={name:"",quantity:1,unit:"",location:"pantry"})}async function Ne(o){await u(o)}function De(o){return b.value.filter(n=>n.location===o)}function pe(o){return o===0?"0":o%1===0?String(o):o.toFixed(1)}function Ge(o){return{produce:"ðŸ¥¬",dairy:"ðŸ§ˆ",canned:"ðŸ¥«",frozen:"ðŸ§Š",spices:"ðŸ§‚",pantry:"ðŸª",other:"ðŸ“¦"}[o]||"ðŸ“¦"}function Ae(o){return{pantry:"ðŸª",fridge:"ðŸ§Š",freezer:"â„ï¸"}[o]||"ðŸ“¦"}function Fe(){if(!(!m.value||m.value.recipes.length===0)){if(P.value){U&&U.destroy();const o=m.value.recipes.map(r=>{const d=C.value.find(y=>y.id===r.recipeId);return(d==null?void 0:d.name)||`Recipe ${r.recipeId}`}),n=m.value.recipes.map(r=>{const d=C.value.find(y=>y.id===r.recipeId);return((d==null?void 0:d.servings)||1)*r.multiplier}),x=[i.value.primary,i.value.secondary,i.value.success,i.value.warning,i.value.error,i.value.info];U=new oe(P.value,{type:"doughnut",data:{labels:o,datasets:[{data:n,backgroundColor:x.slice(0,o.length),borderColor:i.value.cardBackground,borderWidth:2}]},options:{responsive:!1,plugins:{legend:{position:"bottom",labels:{color:i.value.text,font:{size:10}}},title:{display:!0,text:`${n.reduce((r,d)=>r+d,0)} total portions`,color:i.value.text,font:{size:12}}}}})}if(M.value&&Object.keys(v.value).length>0){ne&&ne.destroy();const o=Object.keys(v.value),n=o.map(r=>v.value[r].reduce((d,y)=>d+(y.onHand||0),0)),x=o.map(r=>v.value[r].reduce((d,y)=>d+(y.toBuy||0),0));ne=new oe(M.value,{type:"bar",data:{labels:o.map(r=>r.charAt(0).toUpperCase()+r.slice(1)),datasets:[{label:"Have",data:n,backgroundColor:i.value.success+"99",borderColor:i.value.success,borderWidth:1},{label:"Need",data:x,backgroundColor:i.value.warning+"99",borderColor:i.value.warning,borderWidth:1}]},options:{responsive:!1,indexAxis:"y",scales:{x:{stacked:!0,ticks:{color:i.value.textMuted},grid:{color:i.value.grid}},y:{stacked:!0,ticks:{color:i.value.textMuted},grid:{color:i.value.grid}}},plugins:{legend:{labels:{color:i.value.text,font:{size:10}}}}}})}}}const He=t(()=>({minHeight:"100vh",padding:"0",margin:"0"})),Ue=t(()=>({display:"flex",alignItems:"center",gap:"var(--space-md)",padding:"var(--space-md) var(--space-lg)",background:"var(--bg-surface)",borderBottom:"4px solid var(--color-primary-3)",position:"sticky",top:"0",zIndex:"50"})),Ee=t(()=>({fontSize:"1.2rem",fontWeight:"700",color:"var(--text-bright)",margin:"0"})),Ve=t(()=>({width:"28px",height:"28px",borderRadius:"50%"})),qe=t(()=>({display:"flex",gap:"0.25rem",padding:"0.5rem var(--space-lg)",background:"var(--bg-card)",borderBottom:"2px solid var(--color-primary-2)",overflowX:"auto"})),Je=t(()=>({fontSize:"0.6rem",padding:"0.35rem 0.7rem",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"0.3rem"})),Qe=t(()=>({fontSize:"0.55rem",background:"var(--color-primary-3)",color:"var(--bg-surface)",padding:"0.1rem 0.3rem",borderRadius:"8px",fontWeight:"700"})),Xe=t(()=>({padding:"var(--space-lg)",maxWidth:"800px",margin:"0 auto"})),Ke=t(()=>({background:"rgba(239, 68, 68, 0.15)",border:"2px solid rgba(239, 68, 68, 0.5)",borderRadius:"4px",padding:"0.5rem 0.75rem",marginBottom:"1rem",color:"#ff6b6b",display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"0.75rem"})),me=t(()=>({fontSize:"0.75rem",color:"var(--text-muted)",marginBottom:"1rem"})),Ye=t(()=>({display:"flex",gap:"0.5rem",marginBottom:"1rem"})),ve=t(()=>({flex:"1",minWidth:"150px",fontSize:"0.75rem",padding:"0.4rem",background:"var(--bg-card)",color:"var(--text-bright)",border:"2px solid var(--color-primary-2)"})),ye=t(()=>({width:"70px",fontSize:"0.75rem",padding:"0.4rem",background:"var(--bg-card)",color:"var(--text-bright)",border:"2px solid var(--color-primary-2)"})),Ze=t(()=>({width:"90px",fontSize:"0.7rem",padding:"0.4rem",background:"var(--bg-card)",color:"var(--text-bright)",border:"2px solid var(--color-primary-2)"})),ge=t(()=>({fontSize:"0.65rem",padding:"0.35rem 0.7rem",whiteSpace:"nowrap"})),et=t(()=>({display:"flex",justifyContent:"center",padding:"3rem"})),tt=t(()=>({display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:"0.75rem"})),rt=t(()=>({background:"var(--bg-card)",border:"2px solid var(--color-primary-2)",borderRadius:"4px",overflow:"hidden",cursor:"pointer",transition:"border-color 0.2s, transform 0.2s"})),at=t(()=>({height:"120px",overflow:"hidden",background:"var(--bg-surface)"})),nt=t(()=>({width:"100%",height:"100%",objectFit:"cover"})),st=t(()=>({width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2.5rem"})),ot=t(()=>({padding:"0.5rem"})),lt=t(()=>({fontSize:"0.8rem",fontWeight:"600",color:"var(--text-bright)",margin:"0 0 0.3rem 0",lineHeight:"1.3"})),fe=t(()=>({display:"flex",gap:"0.5rem",fontSize:"0.65rem",color:"var(--text-muted)",marginBottom:"0.3rem"})),it=t(()=>({display:"flex",gap:"0.2rem",flexWrap:"wrap"})),ct=t(()=>({fontSize:"0.55rem",padding:"0.1rem 0.3rem",background:"var(--color-primary-1)",color:"var(--color-primary-4)",borderRadius:"2px"})),K=t(()=>({textAlign:"center",padding:"2rem",color:"var(--text-muted)",fontSize:"0.85rem"})),ut=t(()=>({display:"flex",flexDirection:"column",gap:"0.5rem"})),dt=o=>({background:o?"rgba(34, 197, 94, 0.08)":"var(--bg-card)",border:`2px solid ${o?"var(--color-primary-3)":"var(--color-primary-1)"}`,borderRadius:"4px",padding:"0.75rem",cursor:"pointer",transition:"all 0.2s"}),pt=t(()=>({display:"flex",alignItems:"center",gap:"0.75rem"})),mt=t(()=>({display:"flex",flexDirection:"column",gap:"0.15rem"})),vt=t(()=>({fontSize:"0.85rem",fontWeight:"500",color:"var(--text-bright)"})),yt=t(()=>({fontSize:"0.65rem",color:"var(--text-muted)"})),gt=t(()=>({display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.5rem",paddingLeft:"2.25rem"})),he=t(()=>({padding:"0.15rem 0.45rem",fontSize:"0.65rem"})),ft=t(()=>({fontSize:"0.9rem",fontWeight:"700",color:"var(--color-primary-4)",minWidth:"1.5rem",textAlign:"center"})),ht=t(()=>({fontSize:"0.65rem",color:"var(--text-muted)",marginLeft:"0.25rem"})),bt=t(()=>({marginTop:"1.25rem",padding:"0.75rem",background:"var(--bg-card)",border:"2px solid var(--color-primary-2)",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"0.5rem"})),xt=t(()=>({fontSize:"0.8rem",color:"var(--text-bright)"})),St=t(()=>({fontSize:"0.75rem",padding:"0.5rem 1rem"})),kt=t(()=>({marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.75rem"})),wt=t(()=>({flex:"1",height:"16px",background:"var(--bg-card)",border:"2px solid var(--color-primary-2)",borderRadius:"2px",overflow:"hidden"})),It=t(()=>({height:"100%",width:`${G.value}%`,background:G.value===100?"var(--color-primary-4)":"linear-gradient(90deg, var(--color-primary-3), var(--color-primary-4))",transition:"width 0.3s ease"})),Ct=t(()=>({fontSize:"0.75rem",color:"var(--text-bright)",whiteSpace:"nowrap"})),zt=t(()=>({marginBottom:"1rem"})),be=t(()=>({fontSize:"0.85rem",color:"var(--text-bright)",marginBottom:"0.4rem",display:"flex",alignItems:"center",gap:"0.4rem"})),_t=t(()=>({display:"flex",flexDirection:"column",gap:"2px"})),Rt=o=>({display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.65rem 0.75rem",background:o?"rgba(34, 197, 94, 0.05)":"var(--bg-card)",border:`1px solid ${o?"rgba(34, 197, 94, 0.2)":"var(--color-primary-1)"}`,borderRadius:"2px",cursor:"pointer",transition:"all 0.15s",opacity:o?"0.5":"1",minHeight:"44px"}),Bt=t(()=>({flexShrink:"0",width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center"})),xe=o=>({width:"22px",height:"22px",border:`3px solid ${o?"#22c55e":"var(--color-primary-3)"}`,borderRadius:"2px",background:o?"#22c55e":"transparent",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"700",fontSize:"12px",flexShrink:"0"}),Tt=t(()=>({flex:"1",display:"flex",flexDirection:"column",gap:"0.1rem"})),Lt=o=>({fontSize:"0.8rem",color:o?"var(--text-muted)":"var(--text-bright)",textDecoration:o?"line-through":"none",fontWeight:"500"}),Wt=t(()=>({fontSize:"0.7rem",color:"var(--text-muted)"})),$t=t(()=>({color:"#22c55e",fontWeight:"500"})),Pt=t(()=>({color:"var(--text-muted)",fontStyle:"italic",fontSize:"0.65rem"})),Ot=t(()=>({marginBottom:"1rem",border:"2px solid var(--color-primary-2)",borderRadius:"4px",background:"var(--bg-card)"})),Mt=t(()=>({padding:"0.6rem 0.75rem",cursor:"pointer",fontSize:"0.8rem",color:"var(--text-bright)",fontWeight:"600"})),jt=t(()=>({padding:"0 0.75rem 0.75rem"})),Nt=t(()=>({marginBottom:"1rem",padding:"0.6rem",background:"rgba(34, 197, 94, 0.06)",border:"1px solid rgba(34, 197, 94, 0.2)",borderRadius:"4px"})),Dt=t(()=>({fontSize:"0.75rem",color:"#22c55e",margin:"0 0 0.25rem 0",fontWeight:"600"})),Gt=t(()=>({fontSize:"0.65rem",color:"var(--text-muted)",margin:"0 0 0.5rem 0"})),At=t(()=>({marginBottom:"0.35rem",display:"flex",flexDirection:"column",gap:"0.1rem"})),Ft=t(()=>({fontSize:"0.75rem",color:"var(--text-bright)",fontWeight:"500"})),Ht=t(()=>({fontSize:"0.65rem",color:"var(--text-muted)",paddingLeft:"0.5rem"})),Ut=t(()=>({marginBottom:"1rem",padding:"0.6rem",background:"var(--bg-surface)",border:"1px solid var(--color-primary-1)",borderRadius:"4px"})),Et=t(()=>({fontSize:"0.8rem",color:"var(--color-primary-4)",margin:"0 0 0.4rem 0",fontWeight:"600",display:"flex",alignItems:"center",gap:"0.5rem"})),Vt=t(()=>({fontSize:"0.6rem",background:"var(--color-primary-1)",color:"var(--color-primary-4)",padding:"0.1rem 0.4rem",borderRadius:"8px",fontWeight:"500"})),qt=t(()=>({fontSize:"0.7rem",color:"var(--text-muted)",marginBottom:"0.5rem",lineHeight:"1.6"})),Jt=t(()=>({})),Qt=t(()=>({fontSize:"0.72rem",color:"var(--text-bright)",lineHeight:"1.7",marginTop:"0.4rem"})),Xt=t(()=>({marginTop:"1.5rem",border:"2px solid var(--color-primary-2)",borderRadius:"4px",background:"var(--bg-card)"})),Kt=t(()=>({padding:"0.6rem 0.75rem",cursor:"pointer",fontSize:"0.75rem",color:"var(--text-muted)",fontWeight:"500"})),Yt=t(()=>({display:"flex",gap:"0.75rem",padding:"0.75rem",flexWrap:"wrap"})),Se=t(()=>({flex:"1",minWidth:"250px",display:"flex",justifyContent:"center"})),Zt=t(()=>({display:"flex",gap:"0.4rem",marginBottom:"1rem",flexWrap:"wrap",alignItems:"center"})),er=t(()=>({marginBottom:"1rem"})),tr=t(()=>({display:"flex",flexDirection:"column",gap:"2px"})),rr=t(()=>({display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.4rem 0.6rem",background:"var(--bg-card)",border:"1px solid var(--color-primary-1)",borderRadius:"2px"})),ar=t(()=>({flex:"1",fontSize:"0.8rem",color:"var(--text-bright)"})),nr=t(()=>({fontSize:"0.75rem",color:"var(--text-muted)"})),sr=t(()=>({position:"fixed",top:"0",left:"0",right:"0",bottom:"0",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:"100",padding:"1rem"})),or=t(()=>({background:"var(--bg-surface)",border:"3px solid var(--color-primary-3)",borderRadius:"4px",maxWidth:"600px",width:"100%",maxHeight:"85vh",overflow:"auto"})),lr=t(()=>({display:"flex",justifyContent:"space-between",alignItems:"flex-start",padding:"0.75rem 1rem",borderBottom:"2px solid var(--color-primary-2)"})),ir=t(()=>({fontSize:"1rem",color:"var(--text-bright)",margin:"0"})),cr=t(()=>({padding:"0.75rem 1rem"})),ur=t(()=>({padding:"0.5rem 1rem",borderTop:"2px solid var(--color-primary-2)",display:"flex",justifyContent:"flex-end"})),dr=t(()=>({fontSize:"0.8rem",color:"var(--text-muted)",marginBottom:"0.75rem",lineHeight:"1.5"})),pr=t(()=>({marginBottom:"1rem"})),ke=t(()=>({fontSize:"0.8rem",color:"var(--color-primary-4)",marginBottom:"0.4rem",marginTop:"0.75rem"})),mr=t(()=>({padding:"0.4rem",background:"var(--bg-card)",borderRadius:"2px"})),vr=t(()=>({display:"flex",gap:"0.4rem",padding:"0.15rem 0",fontSize:"0.75rem"})),yr=t(()=>({color:"var(--color-primary-3)",minWidth:"55px"})),gr=t(()=>({color:"var(--text-bright)",fontWeight:"500"})),fr=t(()=>({color:"var(--text-muted)",fontStyle:"italic"})),hr=t(()=>({fontSize:"0.75rem",color:"var(--text-bright)",lineHeight:"1.6"}));return(o,n)=>{const x=zr("router-link");return s(),Ir(Wr,{"enable-scanlines":!0,"enable-particles":!1,"enable-animations":!0},{default:ze(()=>[a("div",{style:e(He.value)},[a("header",{style:e(Ue.value)},[Cr(x,{to:"/",style:{"text-decoration":"none",color:"inherit",display:"flex","align-items":"center",gap:"0.5rem"}},{default:ze(()=>[a("img",{src:Tr,alt:"QCA",style:e(Ve.value)},null,4)]),_:1}),a("div",null,[a("h1",{class:"nes-text is-primary",style:e(Ee.value)},"Freezer Meal Prep",4)])],4),a("div",{style:e(qe.value)},[(s(),l(R,null,_(Be,r=>a("button",{key:r.id,class:_r(["nes-btn",g.value===r.id?"is-primary":""]),style:e(Je.value),onClick:d=>g.value=r.id},[a("span",Nr,c(r.icon),1),a("span",Dr,c(r.label),1),r.id==="shopping"&&p(N)>0?(s(),l("span",{key:0,style:e(Qe.value)},c(p(D))+"/"+c(p(N)),5)):f("",!0)],14,jr)),64))],4),a("main",{style:e(Xe.value)},[p(j)?(s(),l("div",{key:0,style:e(Ke.value)},[Y(c(p(j))+" ",1),a("button",{class:"nes-btn is-error",style:{"margin-left":"1rem","font-size":"0.6rem"},onClick:n[0]||(n[0]=r=>j.value=null)},"X")],4)):f("",!0),g.value==="recipes"?(s(),l("section",Gr,[a("div",{style:e(Ye.value)},[J(a("input",{"onUpdate:modelValue":n[1]||(n[1]=r=>w.value=r),placeholder:"Paste recipe URL to import...",class:"nes-input",style:e(ve.value),onKeyup:_e(ue,["enter"])},null,36),[[Z,w.value]]),a("button",{class:"nes-btn is-success",style:e(ge.value),onClick:ue,disabled:p($)||!w.value},c(p($)?"Importing...":"Import"),13,Ar)],4),p($)&&p(C).length===0?(s(),l("div",{key:0,style:e(et.value)},[...n[11]||(n[11]=[a("p",{class:"nes-text"},"Loading recipes...",-1)])],4)):(s(),l("div",{key:1,style:e(tt.value)},[(s(!0),l(R,null,_(p(C),r=>(s(),l("div",{key:r.id,style:e(rt.value),onClick:d=>je(r),class:"recipe-card"},[a("div",{style:e(at.value)},[r.image?(s(),l("img",{key:0,src:r.image,alt:r.name,style:e(nt.value)},null,12,Hr)):(s(),l("div",{key:1,style:e(st.value)},"ðŸ²",4))],4),a("div",{style:e(ot.value)},[a("h3",{style:e(lt.value)},c(r.name),5),a("div",{style:e(fe.value)},[r.servings?(s(),l("span",Ur,c(r.servings)+" servings",1)):f("",!0),r.working_time?(s(),l("span",Er,c(r.working_time)+"min",1)):f("",!0)],4),a("div",{style:e(it.value)},[(s(!0),l(R,null,_((r.keywords||[]).slice(0,3),d=>(s(),l("span",{key:d.id,style:e(ct.value)},c(d.name),5))),128))],4)],4)],12,Fr))),128))],4)),!p($)&&p(C).length===0?(s(),l("div",{key:2,style:e(K.value)},[...n[12]||(n[12]=[a("p",{class:"nes-text"},"No recipes yet. Paste a URL above to import one!",-1)])],4)):f("",!0)])):f("",!0),g.value==="plan"?(s(),l("section",Vr,[a("p",{style:e(me.value)},"Check the recipes you want to make and set batch sizes.",4),p(C).length===0?(s(),l("div",{key:0,style:e(K.value)},[...n[13]||(n[13]=[a("p",null,"No recipes yet. Go to Recipes tab to import some first.",-1)])],4)):(s(),l("div",{key:1,style:e(ut.value)},[(s(!0),l(R,null,_(p(C),r=>(s(),l("div",{key:r.id,style:e(dt(X(r.id))),class:"picker-item",onClick:d=>Le(r)},[a("div",{style:e(pt.value)},[a("div",{style:e(xe(X(r.id)))},[X(r.id)?(s(),l("span",Jr,"âœ“")):f("",!0)],4),a("div",{style:e(mt.value)},[a("span",{style:e(vt.value)},c(r.name),5),a("span",{style:e(yt.value)},c(r.servings||"?")+" servings per batch",5)],4)],4),X(r.id)?(s(),l("div",{key:0,style:e(gt.value),onClick:n[2]||(n[2]=Re(()=>{},["stop"]))},[a("button",{class:"nes-btn is-warning",style:e(he.value),onClick:d=>ie(r.id,-1)},"-",12,Qr),a("span",{style:e(ft.value)},c(le(r.id))+"x",5),a("button",{class:"nes-btn is-success",style:e(he.value),onClick:d=>ie(r.id,1)},"+",12,Xr),a("span",{style:e(ht.value)},"= "+c((r.servings||1)*le(r.id))+" portions",5)],4)):f("",!0)],12,qr))),128))],4)),se.value>0?(s(),l("div",{key:2,style:e(bt.value)},[a("div",{style:e(xt.value)},c(se.value)+" recipe"+c(se.value>1?"s":"")+" selected, "+c(We.value)+" total portions ",5),a("button",{class:"nes-btn is-success",style:e(St.value),onClick:Pe,disabled:p($)},c(p($)?"Generating...":"Generate Shopping List"),13,Kr)],4)):f("",!0)])):f("",!0),g.value==="shopping"?(s(),l("section",Yr,[Object.keys(p(v)).length===0?(s(),l("div",{key:0,style:e(K.value)},[n[14]||(n[14]=a("p",{class:"nes-text"},"No shopping list yet.",-1)),a("button",{class:"nes-btn is-primary",style:{"margin-top":"1rem","font-size":"0.7rem"},onClick:n[3]||(n[3]=r=>g.value="plan")}," Pick recipes to make ")],4)):(s(),l("div",Zr,[p(I)?(s(),l("details",{key:0,style:e(Ot.value),open:""},[a("summary",{style:e(Mt.value)},"Prep Guide",4),a("div",{style:e(jt.value)},[p(I).sharedPrep&&p(I).sharedPrep.length>0?(s(),l("div",{key:0,style:e(Nt.value)},[a("h4",{style:e(Dt.value)},"Shared Prep",4),a("p",{style:e(Gt.value)},"These ingredients are used in multiple recipes â€” prep them together.",4),(s(!0),l(R,null,_(p(I).sharedPrep,r=>(s(),l("div",{key:r.ingredient,style:e(At.value)},[a("span",{style:e(Ft.value)},c(r.totalAmount)+" "+c(r.unit)+" "+c(r.ingredient),5),a("span",{style:e(Ht.value)},c(r.breakdown.join(" Â· ")),5)],4))),128))],4)):f("",!0),(s(!0),l(R,null,_(p(I).recipes,r=>(s(),l("div",{key:r.name,style:e(Ut.value)},[a("h4",{style:e(Et.value)},[Y(c(r.name)+" ",1),a("span",{style:e(Vt.value)},c(r.portions)+" portions",5)],4),a("div",{style:e(qt.value)},[(s(!0),l(R,null,_(r.ingredients,(d,y)=>(s(),l("span",{key:y,style:e(Jt.value)},[Y(c(d.amount)+" "+c(d.unit)+" "+c(d.name),1),y<r.ingredients.length-1?(s(),l("span",ea,", ")):f("",!0)],4))),128))],4),(s(!0),l(R,null,_(r.instructions,(d,y)=>(s(),l("div",{key:y,style:e(Qt.value),innerHTML:d.replace(/\n/g,"<br>")},null,12,ta))),128))],4))),128))],4)],4)):f("",!0),a("div",{style:e(kt.value)},[a("div",{style:e(wt.value)},[a("div",{style:e(It.value)},null,4)],4),a("span",{style:e(Ct.value)},c(p(D))+"/"+c(p(N)),5)],4),(s(!0),l(R,null,_(p(v),(r,d)=>(s(),l("div",{key:d,style:e(zt.value)},[a("h3",{style:e(be.value)},c(Ge(d))+" "+c(d.charAt(0).toUpperCase()+d.slice(1)),5),a("div",{style:e(_t.value)},[(s(!0),l(R,null,_(r,y=>(s(),l("div",{key:y.id,style:e(Rt(y.checked)),onClick:E=>Oe(y.id),class:"shopping-item"},[a("div",{style:e(Bt.value)},[a("div",{style:e(xe(y.checked))},[y.checked?(s(),l("span",aa,"âœ“")):f("",!0)],4)],4),a("div",{style:e(Tt.value)},[a("span",{style:e(Lt(y.checked))},c(y.name),5),a("span",{style:e(Wt.value)},[Y(c(pe(y.toBuy))+" "+c(y.unit)+" ",1),y.recipes&&y.recipes.length?(s(),l("span",{key:0,style:e(Pt.value)},"("+c(y.recipes.join(", "))+")",5)):f("",!0),y.onHand>0?(s(),l("span",{key:1,style:e($t.value)},"("+c(pe(y.onHand))+" on hand)",5)):f("",!0)],4)],4)],12,ra))),128))],4)],4))),128)),a("details",{style:e(Xt.value)},[a("summary",{style:e(Kt.value)},"Prep Overview",4),a("div",{style:e(Yt.value)},[a("div",{style:e(Se.value)},[a("canvas",{ref_key:"donutCanvas",ref:P,width:"260",height:"260"},null,512)],4),a("div",{style:e(Se.value)},[a("canvas",{ref_key:"barCanvas",ref:M,width:"380",height:"260"},null,512)],4)],4)],4)]))])):f("",!0),g.value==="pantry"?(s(),l("section",na,[a("p",{style:e(me.value)},"Track what you already have. Items here get subtracted from shopping lists.",4),a("div",{style:e(Zt.value)},[J(a("input",{"onUpdate:modelValue":n[4]||(n[4]=r=>L.value.name=r),placeholder:"Item name",class:"nes-input",style:e(ve.value),onKeyup:_e(de,["enter"])},null,36),[[Z,L.value.name]]),J(a("input",{"onUpdate:modelValue":n[5]||(n[5]=r=>L.value.quantity=r),type:"number",placeholder:"Qty",class:"nes-input",style:e(ye.value)},null,4),[[Z,L.value.quantity,void 0,{number:!0}]]),J(a("input",{"onUpdate:modelValue":n[6]||(n[6]=r=>L.value.unit=r),placeholder:"Unit",class:"nes-input",style:e(ye.value)},null,4),[[Z,L.value.unit]]),J(a("select",{"onUpdate:modelValue":n[7]||(n[7]=r=>L.value.location=r),class:"nes-select",style:e(Ze.value)},[...n[15]||(n[15]=[a("option",{value:"pantry"},"Pantry",-1),a("option",{value:"fridge"},"Fridge",-1),a("option",{value:"freezer"},"Freezer",-1)])],4),[[Rr,L.value.location]]),a("button",{class:"nes-btn is-success",style:e(ge.value),onClick:de,disabled:!L.value.name},"Add",12,sa)],4),p(b).length===0?(s(),l("div",{key:0,style:e(K.value)},[...n[16]||(n[16]=[a("p",null,"No items tracked yet. Add items above and they'll be subtracted from your shopping list.",-1)])],4)):f("",!0),(s(!0),l(R,null,_($e.value,r=>(s(),l("div",{key:r,style:e(er.value)},[a("h3",{style:e(be.value)},c(Ae(r))+" "+c(r.charAt(0).toUpperCase()+r.slice(1)),5),a("div",{style:e(tr.value)},[(s(!0),l(R,null,_(De(r),d=>(s(),l("div",{key:d.name,style:e(rr.value)},[a("span",{style:e(ar.value)},c(d.name),5),a("span",{style:e(nr.value)},c(d.quantity)+" "+c(d.unit),5),a("button",{class:"nes-btn is-error",style:{padding:"0.1rem 0.4rem","font-size":"0.6rem"},onClick:y=>Ne(d.name)},"X",8,oa)],4))),128))],4)],4))),128))])):f("",!0)],4),p(S)?(s(),l("div",{key:0,style:e(sr.value),onClick:n[10]||(n[10]=Re(r=>S.value=null,["self"]))},[a("div",{style:e(or.value)},[a("div",{style:e(lr.value)},[a("h2",{style:e(ir.value)},c(p(S).name),5),a("button",{class:"nes-btn",style:{"font-size":"0.6rem"},onClick:n[8]||(n[8]=r=>S.value=null)},"X")],4),a("div",{style:e(cr.value)},[p(S).description?(s(),l("div",{key:0,style:e(dr.value)},c(p(S).description),5)):f("",!0),a("div",{style:e(fe.value)},[p(S).servings?(s(),l("span",la,c(p(S).servings)+" servings",1)):f("",!0),p(S).working_time?(s(),l("span",ia,c(p(S).working_time)+" min prep",1)):f("",!0),p(S).waiting_time?(s(),l("span",ca,c(p(S).waiting_time)+" min cook",1)):f("",!0)],4),(s(!0),l(R,null,_(p(S).steps||[],(r,d)=>{var y;return s(),l("div",{key:d,style:e(pr.value)},[a("h4",{style:e(ke.value)},"Ingredients",4),(y=r.ingredients)!=null&&y.length?(s(),l("div",{key:0,style:e(mr.value)},[(s(!0),l(R,null,_(r.ingredients,(E,br)=>{var Ie,Ce;return s(),l("div",{key:br,style:e(vr.value)},[a("span",{style:e(yr.value)},c(E.amount||"")+" "+c(((Ie=E.unit)==null?void 0:Ie.name)||""),5),a("span",{style:e(gr.value)},c(((Ce=E.food)==null?void 0:Ce.name)||""),5),E.note?(s(),l("span",{key:0,style:e(fr.value)},"("+c(E.note)+")",5)):f("",!0)],4)}),128))],4)):f("",!0),r.instruction?(s(),l("h4",{key:1,style:e(ke.value)},"Instructions",4)):f("",!0),r.instruction?(s(),l("p",{key:2,style:e(hr.value),innerHTML:r.instruction.replace(/\n/g,"<br>")},null,12,ua)):f("",!0)],4)}),128))],4),a("div",{style:e(ur.value)},[a("button",{class:"nes-btn is-error",style:{"font-size":"0.65rem"},onClick:n[9]||(n[9]=r=>Me(p(S).id))},"Delete Recipe")],4)],4)],4)):f("",!0)],4)]),_:1})}}}),Sa=Pr(da,[["__scopeId","data-v-7ec10eaf"]]);export{Sa as default};
