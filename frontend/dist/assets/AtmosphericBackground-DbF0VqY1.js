import{P as O}from"./useTheme-g-avcNHO.js";import{d as B,r as f,c as _,o as P,q as F,a as p,e as M,f as H,n as h,F as V,k as T,b as m,s as X,t as Y}from"./index-Cb9bHEfA.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"atmospheric-background"},q={key:0,class:"particle-container"},L=B({__name:"AtmosphericBackground",props:{particles:{},backgroundGradient:{},enableParticles:{type:Boolean,default:!0}},setup(v){const s=v,l=f([]),y=f(),n=f(),g=f(0),k=_(()=>({background:s.backgroundGradient,opacity:"0.8"})),x=_(()=>({background:`url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23179c43' fill-opacity='${.05}'%3E%3Cpath d='M20 20c0-5 5-10 10-10s10 5 10 10-5 10-10 10-10-5-10-10zM0 20c0-5 5-10 10-10s10 5 10 10-5 10-10 10S0 25 0 20z'/%3E%3C/g%3E%3C/svg%3E")`,backgroundSize:"40px 40px"})),b=e=>{switch(e){case"leaf":return["/assets/seasons/autumn/leaf_1.png","/assets/seasons/autumn/leaf_2.png"];case"spooky":return["/assets/seasons/halloween/spooky_1.png","/assets/seasons/halloween/spooky_2.png"];case"snowflake":return["/assets/seasons/winter/snowflake_1.png","/assets/seasons/winter/snowflake_2.png"];case"petal":return["/assets/seasons/spring/petal_1.png","/assets/seasons/spring/petal_2.png"];default:return["/assets/seasons/autumn/leaf_1.png","/assets/seasons/autumn/leaf_2.png"]}},$=e=>e.includes("leaf_1")?1:e.includes("leaf_2")?.9:e.includes("spooky")?.7:e.includes("snowflake")?1.2:e.includes("petal")?.6:1,I=e=>e.includes("leaf_1")?360:e.includes("leaf_2")?270:e.includes("spooky")?180:e.includes("snowflake")?360:e.includes("petal")?180:360,z=e=>O[e]||0,R=e=>{const t=Math.random()*(s.particles.size.max-s.particles.size.min)+s.particles.size.min,a=s.particles.colors[Math.floor(Math.random()*s.particles.colors.length)],u=s.particles.physics.speed+(Math.random()-.5)*.2,d=b(s.particles.type),o=d[Math.floor(Math.random()*d.length)],E=$(o),S=I(o);let r=1,i=1,c=Math.random()*S;return o.includes("leaf_1")?(r=-1,i=1,c=45):o.includes("leaf_2")?(r=-1,i=-1,c=135):(r=1,i=1,c=0),{id:e,x:Math.random()*100,y:-10,size:t,color:a,speed:u*E,swayOffset:Math.random()*Math.PI*2,scaleX:r,scaleY:i,initialRotation:c,symbol:"",style:{position:"absolute",width:`${t}px`,height:`${t}px`,backgroundImage:`url(${o})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",color:a,filter:`hue-rotate(${z(a)}deg) brightness(0.95) saturate(0.7) drop-shadow(0 0 2px ${a}40)`,left:`${Math.random()*100}%`,top:"-10px",transform:`scaleX(${r}) scaleY(${i}) rotate(${c}deg)`,pointerEvents:"none",userSelect:"none",opacity:`${.5+Math.random()*.5}`,zIndex:"1",willChange:"transform","--random-delay":Math.random()*2,"--fall-delay":Math.random()*3,"--rotation-delay":Math.random()*4,"--flutter-delay":Math.random()*2},class:"particle-js-controlled"}},A=()=>{l.value=[],n.value&&clearInterval(n.value),g.value=s.particles.count,C()},C=()=>{n.value=setInterval(()=>{if(g.value>0&&l.value.length<s.particles.count){const t=R(l.value.length),a=window.innerHeight*.6;t.y=-Math.random()*a-50,t.style.top=`${t.y}px`,l.value.push(t),g.value--}else n.value&&(clearInterval(n.value),n.value=void 0)},200)},w=()=>{l.value.forEach(e=>{if(e.y+=e.speed,s.particles.physics.sway){e.swayOffset+=.02;const o=Math.sin(e.swayOffset)*s.particles.physics.wind*10;e.x+=o*.1}e.y>window.innerHeight+50&&(e.y=-10,e.x=Math.random()*100,e.swayOffset=Math.random()*Math.PI*2,e.initialRotation=Math.random()*360),e.x<-10&&(e.x=110),e.x>110&&(e.x=-10),e.style.left=`${e.x}%`,e.style.top=`${e.y}px`;const t=Math.sin(e.swayOffset*.3)*8,a=Math.sin(e.swayOffset*1.2)*3,u=1+Math.sin(e.swayOffset*.8)*.05,d=e.initialRotation+t+a;e.style.transform=`scaleX(${e.scaleX*u}) scaleY(${e.scaleY*u}) rotate(${d}deg)`}),y.value=requestAnimationFrame(w)};return P(()=>{s.enableParticles&&(A(),w())}),F(()=>{y.value&&cancelAnimationFrame(y.value),n.value&&clearInterval(n.value)}),(e,t)=>(m(),p("div",N,[M("div",{class:"background-gradient",style:h(k.value)},null,4),v.enableParticles?(m(),p("div",q,[(m(!0),p(V,null,T(l.value,a=>(m(),p("div",{key:a.id,class:X(["particle",a.class]),style:h(a.style)},Y(a.symbol),7))),128))])):H("",!0),M("div",{class:"pattern-overlay",style:h(x.value)},null,4)]))}}),J=G(L,[["__scopeId","data-v-4f6d4a37"]]);export{J as A};
