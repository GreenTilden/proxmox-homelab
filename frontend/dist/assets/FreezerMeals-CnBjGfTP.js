import{r as $,c as t,i as xr,d as Sr,q as kr,o as wr,l as Ir,w as ze,e as a,a as l,f,n as e,g as Cr,h as zr,k as B,s as _r,t as i,u as m,F as T,j as Y,a5 as q,a6 as Z,a7 as _e,p as Re,a8 as Rr,Q as Br,b as s}from"./index-jn2-hf1V.js";import{_ as Tr}from"./qca-BpvXmiv8.js";import{C as oe,r as $r}from"./chart-BR_H7_9u.js";import{S as Lr}from"./SeasonalThemeProvider-DDXAvB9e.js";import{_ as Wr}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useTheme-BetD5DwV.js";import"./AtmosphericBackground-CLc6k5PS.js";import"./ScanlineOverlay-DvoZWnBY.js";const Pr="/cmd-api/freezer";function jr(_={}){return{"Content-Type":"application/json",..._}}async function W(_,h={}){const L=`${Pr}${_}`,b=await fetch(L,{...h,headers:jr(h.headers||{})});if(!b.ok&&b.status!==201){const x=await b.json().catch(()=>({error:b.statusText}));throw new Error(x.error||`API error ${b.status}`)}return b.json()}function Or(){const _=$([]),h=$(null),L=$([]),b=$(null),x=$([]),k=$({}),v=$(null),I=$(!1),y=$(null);async function C(c){I.value=!0,y.value=null;try{const u=c?`?query=${encodeURIComponent(c)}`:"",d=await W(`/recipes${u}`);_.value=d.results||[]}catch(u){y.value=u.message}finally{I.value=!1}}async function j(c){I.value=!0,y.value=null;try{h.value=await W(`/recipes/${c}`)}catch(u){y.value=u.message}finally{I.value=!1}}async function M(c){I.value=!0,y.value=null;try{const u=await W("/recipes/import-url",{method:"POST",body:JSON.stringify({url:c})});return await C(),u}catch(u){throw y.value=u.message,u}finally{I.value=!1}}async function N(c){try{await W(`/recipes/${c}`,{method:"DELETE"}),_.value=_.value.filter(u=>u.id!==c)}catch(u){y.value=u.message}}async function A(){try{const c=await W("/sessions");L.value=c.sessions||[]}catch(c){y.value=c.message}}async function D(c,u){try{const d=await W("/sessions",{method:"POST",body:JSON.stringify({name:c,recipes:u})});return L.value.push(d),b.value=d,d}catch(d){y.value=d.message}}async function G(c,u){var d;try{const w=await W(`/sessions/${c}`,{method:"PUT",body:JSON.stringify(u)}),R=L.value.findIndex(O=>O.id===c);return R>=0&&(L.value[R]=w),((d=b.value)==null?void 0:d.id)===c&&(b.value=w),w}catch(w){y.value=w.message}}async function H(c){var u;try{await W(`/sessions/${c}`,{method:"DELETE"}),L.value=L.value.filter(d=>d.id!==c),((u=b.value)==null?void 0:u.id)===c&&(b.value=null)}catch(d){y.value=d.message}}async function F(c){I.value=!0,y.value=null;try{const u=await W(`/sessions/${c}/generate-list`,{method:"POST"});k.value=u.shoppingList||{},v.value=u.prepGuide||null;const d=localStorage.getItem(`freezer-checks-${c}`);if(d){const w=JSON.parse(d);for(const R of Object.keys(k.value))for(const O of k.value[R])w.includes(O.id)&&(O.checked=!0)}return u}catch(u){y.value=u.message}finally{I.value=!1}}function z(c,u){for(const d of Object.keys(k.value))for(const w of k.value[d])if(w.id===u){w.checked=!w.checked;const R=[];for(const O of Object.keys(k.value))for(const U of k.value[O])U.checked&&R.push(U.id);localStorage.setItem(`freezer-checks-${c}`,JSON.stringify(R)),W(`/sessions/${c}/check-item`,{method:"PATCH",body:JSON.stringify({itemId:u,checked:w.checked})}).catch(()=>{});return}}async function J(){try{const c=await W("/inventory");x.value=c.items||[]}catch(c){y.value=c.message}}async function ee(c){try{const u=await W("/inventory",{method:"POST",body:JSON.stringify(c)});return await J(),u}catch(u){y.value=u.message}}async function te(c){try{await W(`/inventory/${encodeURIComponent(c)}`,{method:"DELETE"}),x.value=x.value.filter(u=>u.name.toLowerCase()!==c.toLowerCase())}catch(u){y.value=u.message}}const V=t(()=>Object.values(k.value).reduce((c,u)=>c+u.length,0)),Q=t(()=>Object.values(k.value).reduce((c,u)=>c+u.filter(d=>d.checked).length,0,0)),re=t(()=>V.value>0?Math.round(Q.value/V.value*100):0);return{recipes:_,selectedRecipe:h,sessions:L,activeSession:b,inventory:x,shoppingList:k,prepGuide:v,isLoading:I,error:y,totalShoppingItems:V,checkedShoppingItems:Q,shoppingProgress:re,fetchRecipes:C,fetchRecipeDetail:j,importRecipeUrl:M,deleteRecipe:N,fetchSessions:A,createSession:D,updateSession:G,deleteSession:H,generateShoppingList:F,toggleCheckItem:z,fetchInventory:J,addInventoryItem:ee,removeInventoryItem:te}}function Mr(){const _=xr("fallTheme",null),h=t(()=>{var k,v,I,y,C,j,M,N,A,D,G,H,F;if((k=_==null?void 0:_.theme)!=null&&k.value){const z=_.theme.value;return{primary:((v=z.primary)==null?void 0:v.ramp4)||"#3b82f6",secondary:((I=z.secondary)==null?void 0:I.ramp4)||"#8b5cf6",success:((y=z.status)==null?void 0:y.success)||"#22c55e",warning:((C=z.status)==null?void 0:C.warning)||"#eab308",error:((j=z.status)==null?void 0:j.error)||"#ef4444",info:((M=z.accent)==null?void 0:M.ramp3)||"#06b6d4",background:((N=z.backgrounds)==null?void 0:N.primary)||"#0f0f1a",cardBackground:((A=z.backgrounds)==null?void 0:A.card)||"#1a1a2e",text:((D=z.text)==null?void 0:D.bright)||"#ffffff",textMuted:((G=z.text)==null?void 0:G.muted)||"#a0a0a0",grid:((H=z.neutral)==null?void 0:H.ramp2)+"30"||"#33333330",border:((F=z.neutral)==null?void 0:F.ramp3)||"#444444"}}return{primary:"#3b82f6",secondary:"#8b5cf6",success:"#22c55e",warning:"#eab308",error:"#ef4444",info:"#06b6d4",background:"#0f0f1a",cardBackground:"#1a1a2e",text:"#ffffff",textMuted:"#a0a0a0",grid:"#33333330",border:"#444444"}}),L=t(()=>({chart:{background:"transparent",fontFamily:"inherit",toolbar:{show:!1},sparkline:{enabled:!1}},theme:{mode:"dark"},colors:[h.value.primary,h.value.secondary,h.value.success,h.value.warning],grid:{borderColor:h.value.grid,strokeDashArray:4},xaxis:{labels:{style:{colors:h.value.textMuted,fontSize:"10px"}},axisBorder:{color:h.value.grid},axisTicks:{color:h.value.grid}},yaxis:{labels:{style:{colors:h.value.textMuted,fontSize:"10px"}}},tooltip:{theme:"dark",style:{fontSize:"11px"}},legend:{labels:{colors:h.value.text}}}));return{colors:h,apexOptions:L,getGaugeOptions:(k,v=100,I)=>{const y=Math.min(k/v*100,100);let C=h.value.success;return I&&(y>=I.critical?C=h.value.error:y>=I.warning&&(C=h.value.warning)),{chart:{type:"radialBar",height:120,sparkline:{enabled:!0}},plotOptions:{radialBar:{startAngle:-90,endAngle:90,hollow:{size:"60%",background:"transparent"},track:{background:h.value.grid,strokeWidth:"100%",margin:0},dataLabels:{name:{show:!1},value:{offsetY:5,fontSize:"14px",fontWeight:600,color:h.value.text,formatter:()=>Math.round(k)+"%"}}}},fill:{colors:[C]},stroke:{lineCap:"round"}}},getSparklineOptions:k=>({chart:{type:"area",height:40,sparkline:{enabled:!0},animations:{enabled:!0,easing:"easeinout",speed:300}},stroke:{curve:"smooth",width:2},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.4,opacityTo:.1,stops:[0,100]}},colors:[k||h.value.primary],tooltip:{enabled:!0,theme:"dark",x:{show:!1},y:{formatter:v=>v.toFixed(1)}}})}}const Nr=["onClick"],Ar={class:"tab-emoji"},Dr={class:"tab-label"},Gr={key:1},Hr=["disabled"],Fr=["onClick"],Ur=["src","alt"],Er={key:0},Vr={key:1},qr={key:2},Jr=["onClick"],Qr={key:0},Xr=["onClick"],Kr=["onClick"],Yr=["disabled"],Zr={key:3},ea={key:1},ta={key:0},ra=["innerHTML"],aa=["onClick"],na={key:0},sa={key:4},oa=["disabled"],la=["onClick"],ia={key:0},ca={key:1},ua={key:2},da=["innerHTML"],pa=Sr({__name:"FreezerMeals",setup(_){var we;oe.register(...$r);const h=((we=document.querySelector('link[rel="icon"]'))==null?void 0:we.getAttribute("href"))||"";function L(o){const n=document.querySelector('link[rel="icon"]');n&&(n.href=`data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>${o}</text></svg>`)}L("ðŸ³"),kr(()=>{const o=document.querySelector('link[rel="icon"]');o&&(o.href=h)});const{recipes:b,selectedRecipe:x,sessions:k,activeSession:v,inventory:I,shoppingList:y,prepGuide:C,isLoading:j,error:M,totalShoppingItems:N,checkedShoppingItems:A,shoppingProgress:D,fetchRecipes:G,fetchRecipeDetail:H,importRecipeUrl:F,deleteRecipe:z,fetchSessions:J,createSession:ee,updateSession:te,generateShoppingList:V,toggleCheckItem:Q,fetchInventory:re,addInventoryItem:c,removeInventoryItem:u}=Or(),{colors:d}=Mr(),w=$("recipes"),R=$(""),O=$(null),U=$(null);let ae=null,ne=null;const Be=[{id:"recipes",label:"Recipes",icon:"ðŸ“–"},{id:"plan",label:"Plan",icon:"ðŸ³"},{id:"shopping",label:"Shop",icon:"ðŸ›’"},{id:"pantry",label:"Pantry",icon:"ðŸª"}],P=$({name:"",quantity:1,unit:"",location:"pantry"});wr(async()=>{await Promise.all([G(),J(),re()]),await Te()});async function Te(){var o,n;k.value.length>0?(v.value=k.value[0],(o=v.value)!=null&&o.shoppingList&&(y.value=v.value.shoppingList),(n=v.value)!=null&&n.prepGuide&&(C.value=v.value.prepGuide)):await ee("Freezer Prep",[])}function X(o){var n;return((n=v.value)==null?void 0:n.recipes.some(S=>S.recipeId===o))??!1}function le(o){var n,S;return((S=(n=v.value)==null?void 0:n.recipes.find(r=>r.recipeId===o))==null?void 0:S.multiplier)??1}function $e(o){if(!v.value)return;const n=v.value.recipes.findIndex(S=>S.recipeId===o.id);n>=0?v.value.recipes.splice(n,1):v.value.recipes.push({recipeId:o.id,multiplier:1,recipeName:o.name}),ce()}function ie(o,n){if(!v.value)return;const S=v.value.recipes.find(r=>r.recipeId===o);S&&(S.multiplier=Math.max(1,S.multiplier+n),ce())}async function ce(){v.value&&await te(v.value.id,{recipes:v.value.recipes})}const se=t(()=>{var o;return((o=v.value)==null?void 0:o.recipes.length)??0}),Le=t(()=>v.value?v.value.recipes.reduce((o,n)=>{const S=b.value.find(r=>r.id===n.recipeId);return o+((S==null?void 0:S.servings)||1)*n.multiplier},0):0),We=t(()=>["pantry","fridge","freezer"].filter(n=>I.value.some(S=>S.location===n)));async function ue(){if(R.value)try{await F(R.value),R.value=""}catch{}}async function Pe(){v.value&&(await V(v.value.id),w.value="shopping",await Br(),setTimeout(He,100))}function je(o){v.value&&Q(v.value.id,o)}async function Oe(o){await z(o),x.value=null}async function Me(o){await H(o.id)}async function de(){P.value.name&&(await c(P.value),P.value={name:"",quantity:1,unit:"",location:"pantry"})}async function Ne(o){await u(o)}function Ae(o){return I.value.filter(n=>n.location===o)}function pe(o){return o===0?"0":o%1===0?String(o):o.toFixed(1)}function De(o){return{produce:"ðŸ¥¬",dairy:"ðŸ§ˆ",canned:"ðŸ¥«",frozen:"ðŸ§Š",spices:"ðŸ§‚",pantry:"ðŸª",other:"ðŸ“¦"}[o]||"ðŸ“¦"}function Ge(o){return{pantry:"ðŸª",fridge:"ðŸ§Š",freezer:"â„ï¸"}[o]||"ðŸ“¦"}function He(){if(!(!v.value||v.value.recipes.length===0)){if(O.value){ae&&ae.destroy();const o=v.value.recipes.map(r=>{const p=b.value.find(g=>g.id===r.recipeId);return(p==null?void 0:p.name)||`Recipe ${r.recipeId}`}),n=v.value.recipes.map(r=>{const p=b.value.find(g=>g.id===r.recipeId);return((p==null?void 0:p.servings)||1)*r.multiplier}),S=[d.value.primary,d.value.secondary,d.value.success,d.value.warning,d.value.error,d.value.info];ae=new oe(O.value,{type:"doughnut",data:{labels:o,datasets:[{data:n,backgroundColor:S.slice(0,o.length),borderColor:d.value.cardBackground,borderWidth:2}]},options:{responsive:!1,plugins:{legend:{position:"bottom",labels:{color:d.value.text,font:{size:10}}},title:{display:!0,text:`${n.reduce((r,p)=>r+p,0)} total portions`,color:d.value.text,font:{size:12}}}}})}if(U.value&&Object.keys(y.value).length>0){ne&&ne.destroy();const o=Object.keys(y.value),n=o.map(r=>y.value[r].reduce((p,g)=>p+(g.onHand||0),0)),S=o.map(r=>y.value[r].reduce((p,g)=>p+(g.toBuy||0),0));ne=new oe(U.value,{type:"bar",data:{labels:o.map(r=>r.charAt(0).toUpperCase()+r.slice(1)),datasets:[{label:"Have",data:n,backgroundColor:d.value.success+"99",borderColor:d.value.success,borderWidth:1},{label:"Need",data:S,backgroundColor:d.value.warning+"99",borderColor:d.value.warning,borderWidth:1}]},options:{responsive:!1,indexAxis:"y",scales:{x:{stacked:!0,ticks:{color:d.value.textMuted},grid:{color:d.value.grid}},y:{stacked:!0,ticks:{color:d.value.textMuted},grid:{color:d.value.grid}}},plugins:{legend:{labels:{color:d.value.text,font:{size:10}}}}}})}}}const Fe=t(()=>({minHeight:"100vh",padding:"0",margin:"0"})),Ue=t(()=>({display:"flex",alignItems:"center",gap:"var(--space-md)",padding:"var(--space-md) var(--space-lg)",background:"var(--bg-surface)",borderBottom:"4px solid var(--color-primary-3)",position:"sticky",top:"0",zIndex:"50"})),Ee=t(()=>({fontSize:"1.2rem",fontWeight:"700",color:"var(--text-bright)",margin:"0"})),Ve=t(()=>({width:"28px",height:"28px",borderRadius:"50%"})),qe=t(()=>({display:"flex",gap:"0.25rem",padding:"0.5rem var(--space-lg)",background:"var(--bg-card)",borderBottom:"2px solid var(--color-primary-2)",overflowX:"auto"})),Je=t(()=>({fontSize:"0.6rem",padding:"0.35rem 0.7rem",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"0.3rem"})),Qe=t(()=>({fontSize:"0.55rem",background:"var(--color-primary-3)",color:"var(--bg-surface)",padding:"0.1rem 0.3rem",borderRadius:"8px",fontWeight:"700"})),Xe=t(()=>({padding:"var(--space-lg)",maxWidth:"800px",margin:"0 auto"})),Ke=t(()=>({background:"rgba(239, 68, 68, 0.15)",border:"2px solid rgba(239, 68, 68, 0.5)",borderRadius:"4px",padding:"0.5rem 0.75rem",marginBottom:"1rem",color:"#ff6b6b",display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"0.75rem"})),me=t(()=>({fontSize:"0.75rem",color:"var(--text-muted)",marginBottom:"1rem"})),Ye=t(()=>({display:"flex",gap:"0.5rem",marginBottom:"1rem"})),ve=t(()=>({flex:"1",minWidth:"150px",fontSize:"0.75rem",padding:"0.4rem",background:"var(--bg-card)",color:"var(--text-bright)",border:"2px solid var(--color-primary-2)"})),ye=t(()=>({width:"70px",fontSize:"0.75rem",padding:"0.4rem",background:"var(--bg-card)",color:"var(--text-bright)",border:"2px solid var(--color-primary-2)"})),Ze=t(()=>({width:"90px",fontSize:"0.7rem",padding:"0.4rem",background:"var(--bg-card)",color:"var(--text-bright)",border:"2px solid var(--color-primary-2)"})),ge=t(()=>({fontSize:"0.65rem",padding:"0.35rem 0.7rem",whiteSpace:"nowrap"})),et=t(()=>({display:"flex",justifyContent:"center",padding:"3rem"})),tt=t(()=>({display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:"0.75rem"})),rt=t(()=>({background:"var(--bg-card)",border:"2px solid var(--color-primary-2)",borderRadius:"4px",overflow:"hidden",cursor:"pointer",transition:"border-color 0.2s, transform 0.2s"})),at=t(()=>({height:"120px",overflow:"hidden",background:"var(--bg-surface)"})),nt=t(()=>({width:"100%",height:"100%",objectFit:"cover"})),st=t(()=>({width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2.5rem"})),ot=t(()=>({padding:"0.5rem"})),lt=t(()=>({fontSize:"0.8rem",fontWeight:"600",color:"var(--text-bright)",margin:"0 0 0.3rem 0",lineHeight:"1.3"})),fe=t(()=>({display:"flex",gap:"0.5rem",fontSize:"0.65rem",color:"var(--text-muted)",marginBottom:"0.3rem"})),it=t(()=>({display:"flex",gap:"0.2rem",flexWrap:"wrap"})),ct=t(()=>({fontSize:"0.55rem",padding:"0.1rem 0.3rem",background:"var(--color-primary-1)",color:"var(--color-primary-4)",borderRadius:"2px"})),K=t(()=>({textAlign:"center",padding:"2rem",color:"var(--text-muted)",fontSize:"0.85rem"})),ut=t(()=>({display:"flex",flexDirection:"column",gap:"0.5rem"})),dt=o=>({background:o?"rgba(34, 197, 94, 0.08)":"var(--bg-card)",border:`2px solid ${o?"var(--color-primary-3)":"var(--color-primary-1)"}`,borderRadius:"4px",padding:"0.75rem",cursor:"pointer",transition:"all 0.2s"}),pt=t(()=>({display:"flex",alignItems:"center",gap:"0.75rem"})),mt=t(()=>({display:"flex",flexDirection:"column",gap:"0.15rem"})),vt=t(()=>({fontSize:"0.85rem",fontWeight:"500",color:"var(--text-bright)"})),yt=t(()=>({fontSize:"0.65rem",color:"var(--text-muted)"})),gt=t(()=>({display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.5rem",paddingLeft:"2.25rem"})),he=t(()=>({padding:"0.15rem 0.45rem",fontSize:"0.65rem"})),ft=t(()=>({fontSize:"0.9rem",fontWeight:"700",color:"var(--color-primary-4)",minWidth:"1.5rem",textAlign:"center"})),ht=t(()=>({fontSize:"0.65rem",color:"var(--text-muted)",marginLeft:"0.25rem"})),bt=t(()=>({marginTop:"1.25rem",padding:"0.75rem",background:"var(--bg-card)",border:"2px solid var(--color-primary-2)",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"0.5rem"})),xt=t(()=>({fontSize:"0.8rem",color:"var(--text-bright)"})),St=t(()=>({fontSize:"0.75rem",padding:"0.5rem 1rem"})),kt=t(()=>({marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.75rem"})),wt=t(()=>({flex:"1",height:"16px",background:"var(--bg-card)",border:"2px solid var(--color-primary-2)",borderRadius:"2px",overflow:"hidden"})),It=t(()=>({height:"100%",width:`${D.value}%`,background:D.value===100?"var(--color-primary-4)":"linear-gradient(90deg, var(--color-primary-3), var(--color-primary-4))",transition:"width 0.3s ease"})),Ct=t(()=>({fontSize:"0.75rem",color:"var(--text-bright)",whiteSpace:"nowrap"})),zt=t(()=>({marginBottom:"1rem"})),be=t(()=>({fontSize:"0.85rem",color:"var(--text-bright)",marginBottom:"0.4rem",display:"flex",alignItems:"center",gap:"0.4rem"})),_t=t(()=>({display:"flex",flexDirection:"column",gap:"2px"})),Rt=o=>({display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.65rem 0.75rem",background:o?"rgba(34, 197, 94, 0.05)":"var(--bg-card)",border:`1px solid ${o?"rgba(34, 197, 94, 0.2)":"var(--color-primary-1)"}`,borderRadius:"2px",cursor:"pointer",transition:"all 0.15s",opacity:o?"0.5":"1",minHeight:"44px"}),Bt=t(()=>({flexShrink:"0",width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center"})),xe=o=>({width:"22px",height:"22px",border:`3px solid ${o?"#22c55e":"var(--color-primary-3)"}`,borderRadius:"2px",background:o?"#22c55e":"transparent",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"700",fontSize:"12px",flexShrink:"0"}),Tt=t(()=>({flex:"1",display:"flex",flexDirection:"column",gap:"0.1rem"})),$t=o=>({fontSize:"0.8rem",color:o?"var(--text-muted)":"var(--text-bright)",textDecoration:o?"line-through":"none",fontWeight:"500"}),Lt=t(()=>({fontSize:"0.7rem",color:"var(--text-muted)"})),Wt=t(()=>({color:"#22c55e",fontWeight:"500"})),Pt=t(()=>({color:"var(--text-muted)",fontStyle:"italic",fontSize:"0.65rem"})),jt=t(()=>({marginBottom:"1rem",border:"2px solid var(--color-primary-2)",borderRadius:"4px",background:"var(--bg-card)"})),Ot=t(()=>({padding:"0.6rem 0.75rem",cursor:"pointer",fontSize:"0.8rem",color:"var(--text-bright)",fontWeight:"600"})),Mt=t(()=>({padding:"0 0.75rem 0.75rem"})),Nt=t(()=>({marginBottom:"1rem",padding:"0.6rem",background:"rgba(34, 197, 94, 0.06)",border:"1px solid rgba(34, 197, 94, 0.2)",borderRadius:"4px"})),At=t(()=>({fontSize:"0.75rem",color:"#22c55e",margin:"0 0 0.25rem 0",fontWeight:"600"})),Dt=t(()=>({fontSize:"0.65rem",color:"var(--text-muted)",margin:"0 0 0.5rem 0"})),Gt=t(()=>({marginBottom:"0.35rem",display:"flex",flexDirection:"column",gap:"0.1rem"})),Ht=t(()=>({fontSize:"0.75rem",color:"var(--text-bright)",fontWeight:"500"})),Ft=t(()=>({fontSize:"0.65rem",color:"var(--text-muted)",paddingLeft:"0.5rem"})),Ut=t(()=>({marginBottom:"1rem",padding:"0.6rem",background:"var(--bg-surface)",border:"1px solid var(--color-primary-1)",borderRadius:"4px"})),Et=t(()=>({fontSize:"0.8rem",color:"var(--color-primary-4)",margin:"0 0 0.4rem 0",fontWeight:"600",display:"flex",alignItems:"center",gap:"0.5rem"})),Vt=t(()=>({fontSize:"0.6rem",background:"var(--color-primary-1)",color:"var(--color-primary-4)",padding:"0.1rem 0.4rem",borderRadius:"8px",fontWeight:"500"})),qt=t(()=>({fontSize:"0.7rem",color:"var(--text-muted)",marginBottom:"0.5rem",lineHeight:"1.6"})),Jt=t(()=>({})),Qt=t(()=>({fontSize:"0.72rem",color:"var(--text-bright)",lineHeight:"1.7",marginTop:"0.4rem"})),Xt=t(()=>({marginTop:"1.5rem",border:"2px solid var(--color-primary-2)",borderRadius:"4px",background:"var(--bg-card)"})),Kt=t(()=>({padding:"0.6rem 0.75rem",cursor:"pointer",fontSize:"0.75rem",color:"var(--text-muted)",fontWeight:"500"})),Yt=t(()=>({display:"flex",gap:"0.75rem",padding:"0.75rem",flexWrap:"wrap"})),Se=t(()=>({flex:"1",minWidth:"250px",display:"flex",justifyContent:"center"})),Zt=t(()=>({display:"flex",gap:"0.4rem",marginBottom:"1rem",flexWrap:"wrap",alignItems:"center"})),er=t(()=>({marginBottom:"1rem"})),tr=t(()=>({display:"flex",flexDirection:"column",gap:"2px"})),rr=t(()=>({display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.4rem 0.6rem",background:"var(--bg-card)",border:"1px solid var(--color-primary-1)",borderRadius:"2px"})),ar=t(()=>({flex:"1",fontSize:"0.8rem",color:"var(--text-bright)"})),nr=t(()=>({fontSize:"0.75rem",color:"var(--text-muted)"})),sr=t(()=>({position:"fixed",top:"0",left:"0",right:"0",bottom:"0",background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:"100",padding:"1rem"})),or=t(()=>({background:"var(--bg-surface)",border:"3px solid var(--color-primary-3)",borderRadius:"4px",maxWidth:"600px",width:"100%",maxHeight:"85vh",overflow:"auto"})),lr=t(()=>({display:"flex",justifyContent:"space-between",alignItems:"flex-start",padding:"0.75rem 1rem",borderBottom:"2px solid var(--color-primary-2)"})),ir=t(()=>({fontSize:"1rem",color:"var(--text-bright)",margin:"0"})),cr=t(()=>({padding:"0.75rem 1rem"})),ur=t(()=>({padding:"0.5rem 1rem",borderTop:"2px solid var(--color-primary-2)",display:"flex",justifyContent:"flex-end"})),dr=t(()=>({fontSize:"0.8rem",color:"var(--text-muted)",marginBottom:"0.75rem",lineHeight:"1.5"})),pr=t(()=>({marginBottom:"1rem"})),ke=t(()=>({fontSize:"0.8rem",color:"var(--color-primary-4)",marginBottom:"0.4rem",marginTop:"0.75rem"})),mr=t(()=>({padding:"0.4rem",background:"var(--bg-card)",borderRadius:"2px"})),vr=t(()=>({display:"flex",gap:"0.4rem",padding:"0.15rem 0",fontSize:"0.75rem"})),yr=t(()=>({color:"var(--color-primary-3)",minWidth:"55px"})),gr=t(()=>({color:"var(--text-bright)",fontWeight:"500"})),fr=t(()=>({color:"var(--text-muted)",fontStyle:"italic"})),hr=t(()=>({fontSize:"0.75rem",color:"var(--text-bright)",lineHeight:"1.6"}));return(o,n)=>{const S=zr("router-link");return s(),Ir(Lr,{"enable-scanlines":!0,"enable-particles":!1,"enable-animations":!0},{default:ze(()=>[a("div",{style:e(Fe.value)},[a("header",{style:e(Ue.value)},[Cr(S,{to:"/",style:{"text-decoration":"none",color:"inherit",display:"flex","align-items":"center",gap:"0.5rem"}},{default:ze(()=>[a("img",{src:Tr,alt:"QCA",style:e(Ve.value)},null,4)]),_:1}),a("div",null,[a("h1",{class:"nes-text is-primary",style:e(Ee.value)},"Freezer Meal Prep",4)])],4),a("div",{style:e(qe.value)},[(s(),l(T,null,B(Be,r=>a("button",{key:r.id,class:_r(["nes-btn",w.value===r.id?"is-primary":""]),style:e(Je.value),onClick:p=>w.value=r.id},[a("span",Ar,i(r.icon),1),a("span",Dr,i(r.label),1),r.id==="shopping"&&m(N)>0?(s(),l("span",{key:0,style:e(Qe.value)},i(m(A))+"/"+i(m(N)),5)):f("",!0)],14,Nr)),64))],4),a("main",{style:e(Xe.value)},[m(M)?(s(),l("div",{key:0,style:e(Ke.value)},[Y(i(m(M))+" ",1),a("button",{class:"nes-btn is-error",style:{"margin-left":"1rem","font-size":"0.6rem"},onClick:n[0]||(n[0]=r=>M.value=null)},"X")],4)):f("",!0),w.value==="recipes"?(s(),l("section",Gr,[a("div",{style:e(Ye.value)},[q(a("input",{"onUpdate:modelValue":n[1]||(n[1]=r=>R.value=r),placeholder:"Paste recipe URL to import...",class:"nes-input",style:e(ve.value),onKeyup:_e(ue,["enter"])},null,36),[[Z,R.value]]),a("button",{class:"nes-btn is-success",style:e(ge.value),onClick:ue,disabled:m(j)||!R.value},i(m(j)?"Importing...":"Import"),13,Hr)],4),m(j)&&m(b).length===0?(s(),l("div",{key:0,style:e(et.value)},[...n[11]||(n[11]=[a("p",{class:"nes-text"},"Loading recipes...",-1)])],4)):(s(),l("div",{key:1,style:e(tt.value)},[(s(!0),l(T,null,B(m(b),r=>(s(),l("div",{key:r.id,style:e(rt.value),onClick:p=>Me(r),class:"recipe-card"},[a("div",{style:e(at.value)},[r.image?(s(),l("img",{key:0,src:r.image,alt:r.name,style:e(nt.value)},null,12,Ur)):(s(),l("div",{key:1,style:e(st.value)},"ðŸ²",4))],4),a("div",{style:e(ot.value)},[a("h3",{style:e(lt.value)},i(r.name),5),a("div",{style:e(fe.value)},[r.servings?(s(),l("span",Er,i(r.servings)+" servings",1)):f("",!0),r.working_time?(s(),l("span",Vr,i(r.working_time)+"min",1)):f("",!0)],4),a("div",{style:e(it.value)},[(s(!0),l(T,null,B((r.keywords||[]).slice(0,3),p=>(s(),l("span",{key:p.id,style:e(ct.value)},i(p.name),5))),128))],4)],4)],12,Fr))),128))],4)),!m(j)&&m(b).length===0?(s(),l("div",{key:2,style:e(K.value)},[...n[12]||(n[12]=[a("p",{class:"nes-text"},"No recipes yet. Paste a URL above to import one!",-1)])],4)):f("",!0)])):f("",!0),w.value==="plan"?(s(),l("section",qr,[a("p",{style:e(me.value)},"Check the recipes you want to make and set batch sizes.",4),m(b).length===0?(s(),l("div",{key:0,style:e(K.value)},[...n[13]||(n[13]=[a("p",null,"No recipes yet. Go to Recipes tab to import some first.",-1)])],4)):(s(),l("div",{key:1,style:e(ut.value)},[(s(!0),l(T,null,B(m(b),r=>(s(),l("div",{key:r.id,style:e(dt(X(r.id))),class:"picker-item",onClick:p=>$e(r)},[a("div",{style:e(pt.value)},[a("div",{style:e(xe(X(r.id)))},[X(r.id)?(s(),l("span",Qr,"âœ“")):f("",!0)],4),a("div",{style:e(mt.value)},[a("span",{style:e(vt.value)},i(r.name),5),a("span",{style:e(yt.value)},i(r.servings||"?")+" servings per batch",5)],4)],4),X(r.id)?(s(),l("div",{key:0,style:e(gt.value),onClick:n[2]||(n[2]=Re(()=>{},["stop"]))},[a("button",{class:"nes-btn is-warning",style:e(he.value),onClick:p=>ie(r.id,-1)},"-",12,Xr),a("span",{style:e(ft.value)},i(le(r.id))+"x",5),a("button",{class:"nes-btn is-success",style:e(he.value),onClick:p=>ie(r.id,1)},"+",12,Kr),a("span",{style:e(ht.value)},"= "+i((r.servings||1)*le(r.id))+" portions",5)],4)):f("",!0)],12,Jr))),128))],4)),se.value>0?(s(),l("div",{key:2,style:e(bt.value)},[a("div",{style:e(xt.value)},i(se.value)+" recipe"+i(se.value>1?"s":"")+" selected, "+i(Le.value)+" total portions ",5),a("button",{class:"nes-btn is-success",style:e(St.value),onClick:Pe,disabled:m(j)},i(m(j)?"Generating...":"Generate Shopping List"),13,Yr)],4)):f("",!0)])):f("",!0),w.value==="shopping"?(s(),l("section",Zr,[Object.keys(m(y)).length===0?(s(),l("div",{key:0,style:e(K.value)},[n[14]||(n[14]=a("p",{class:"nes-text"},"No shopping list yet.",-1)),a("button",{class:"nes-btn is-primary",style:{"margin-top":"1rem","font-size":"0.7rem"},onClick:n[3]||(n[3]=r=>w.value="plan")}," Pick recipes to make ")],4)):(s(),l("div",ea,[m(C)?(s(),l("details",{key:0,style:e(jt.value),open:""},[a("summary",{style:e(Ot.value)},"Prep Guide",4),a("div",{style:e(Mt.value)},[m(C).sharedPrep&&m(C).sharedPrep.length>0?(s(),l("div",{key:0,style:e(Nt.value)},[a("h4",{style:e(At.value)},"Shared Prep",4),a("p",{style:e(Dt.value)},"These ingredients are used in multiple recipes â€” prep them together.",4),(s(!0),l(T,null,B(m(C).sharedPrep,r=>(s(),l("div",{key:r.ingredient,style:e(Gt.value)},[a("span",{style:e(Ht.value)},i(r.totalAmount)+" "+i(r.unit)+" "+i(r.ingredient),5),a("span",{style:e(Ft.value)},i(r.breakdown.join(" Â· ")),5)],4))),128))],4)):f("",!0),(s(!0),l(T,null,B(m(C).recipes,r=>(s(),l("div",{key:r.name,style:e(Ut.value)},[a("h4",{style:e(Et.value)},[Y(i(r.name)+" ",1),a("span",{style:e(Vt.value)},i(r.portions)+" portions",5)],4),a("div",{style:e(qt.value)},[(s(!0),l(T,null,B(r.ingredients,(p,g)=>(s(),l("span",{key:g,style:e(Jt.value)},[Y(i(p.amount)+" "+i(p.unit)+" "+i(p.name),1),g<r.ingredients.length-1?(s(),l("span",ta,", ")):f("",!0)],4))),128))],4),(s(!0),l(T,null,B(r.instructions,(p,g)=>(s(),l("div",{key:g,style:e(Qt.value),innerHTML:p.replace(/\n/g,"<br>")},null,12,ra))),128))],4))),128))],4)],4)):f("",!0),a("div",{style:e(kt.value)},[a("div",{style:e(wt.value)},[a("div",{style:e(It.value)},null,4)],4),a("span",{style:e(Ct.value)},i(m(A))+"/"+i(m(N)),5)],4),(s(!0),l(T,null,B(m(y),(r,p)=>(s(),l("div",{key:p,style:e(zt.value)},[a("h3",{style:e(be.value)},i(De(p))+" "+i(p.charAt(0).toUpperCase()+p.slice(1)),5),a("div",{style:e(_t.value)},[(s(!0),l(T,null,B(r,g=>(s(),l("div",{key:g.id,style:e(Rt(g.checked)),onClick:E=>je(g.id),class:"shopping-item"},[a("div",{style:e(Bt.value)},[a("div",{style:e(xe(g.checked))},[g.checked?(s(),l("span",na,"âœ“")):f("",!0)],4)],4),a("div",{style:e(Tt.value)},[a("span",{style:e($t(g.checked))},i(g.name),5),a("span",{style:e(Lt.value)},[Y(i(pe(g.toBuy))+" "+i(g.unit)+" ",1),g.recipes&&g.recipes.length?(s(),l("span",{key:0,style:e(Pt.value)},"("+i(g.recipes.join(", "))+")",5)):f("",!0),g.onHand>0?(s(),l("span",{key:1,style:e(Wt.value)},"("+i(pe(g.onHand))+" on hand)",5)):f("",!0)],4)],4)],12,aa))),128))],4)],4))),128)),a("details",{style:e(Xt.value)},[a("summary",{style:e(Kt.value)},"Prep Overview",4),a("div",{style:e(Yt.value)},[a("div",{style:e(Se.value)},[a("canvas",{ref_key:"donutCanvas",ref:O,width:"260",height:"260"},null,512)],4),a("div",{style:e(Se.value)},[a("canvas",{ref_key:"barCanvas",ref:U,width:"380",height:"260"},null,512)],4)],4)],4)]))])):f("",!0),w.value==="pantry"?(s(),l("section",sa,[a("p",{style:e(me.value)},"Track what you already have. Items here get subtracted from shopping lists.",4),a("div",{style:e(Zt.value)},[q(a("input",{"onUpdate:modelValue":n[4]||(n[4]=r=>P.value.name=r),placeholder:"Item name",class:"nes-input",style:e(ve.value),onKeyup:_e(de,["enter"])},null,36),[[Z,P.value.name]]),q(a("input",{"onUpdate:modelValue":n[5]||(n[5]=r=>P.value.quantity=r),type:"number",placeholder:"Qty",class:"nes-input",style:e(ye.value)},null,4),[[Z,P.value.quantity,void 0,{number:!0}]]),q(a("input",{"onUpdate:modelValue":n[6]||(n[6]=r=>P.value.unit=r),placeholder:"Unit",class:"nes-input",style:e(ye.value)},null,4),[[Z,P.value.unit]]),q(a("select",{"onUpdate:modelValue":n[7]||(n[7]=r=>P.value.location=r),class:"nes-select",style:e(Ze.value)},[...n[15]||(n[15]=[a("option",{value:"pantry"},"Pantry",-1),a("option",{value:"fridge"},"Fridge",-1),a("option",{value:"freezer"},"Freezer",-1)])],4),[[Rr,P.value.location]]),a("button",{class:"nes-btn is-success",style:e(ge.value),onClick:de,disabled:!P.value.name},"Add",12,oa)],4),m(I).length===0?(s(),l("div",{key:0,style:e(K.value)},[...n[16]||(n[16]=[a("p",null,"No items tracked yet. Add items above and they'll be subtracted from your shopping list.",-1)])],4)):f("",!0),(s(!0),l(T,null,B(We.value,r=>(s(),l("div",{key:r,style:e(er.value)},[a("h3",{style:e(be.value)},i(Ge(r))+" "+i(r.charAt(0).toUpperCase()+r.slice(1)),5),a("div",{style:e(tr.value)},[(s(!0),l(T,null,B(Ae(r),p=>(s(),l("div",{key:p.name,style:e(rr.value)},[a("span",{style:e(ar.value)},i(p.name),5),a("span",{style:e(nr.value)},i(p.quantity)+" "+i(p.unit),5),a("button",{class:"nes-btn is-error",style:{padding:"0.1rem 0.4rem","font-size":"0.6rem"},onClick:g=>Ne(p.name)},"X",8,la)],4))),128))],4)],4))),128))])):f("",!0)],4),m(x)?(s(),l("div",{key:0,style:e(sr.value),onClick:n[10]||(n[10]=Re(r=>x.value=null,["self"]))},[a("div",{style:e(or.value)},[a("div",{style:e(lr.value)},[a("h2",{style:e(ir.value)},i(m(x).name),5),a("button",{class:"nes-btn",style:{"font-size":"0.6rem"},onClick:n[8]||(n[8]=r=>x.value=null)},"X")],4),a("div",{style:e(cr.value)},[m(x).description?(s(),l("div",{key:0,style:e(dr.value)},i(m(x).description),5)):f("",!0),a("div",{style:e(fe.value)},[m(x).servings?(s(),l("span",ia,i(m(x).servings)+" servings",1)):f("",!0),m(x).working_time?(s(),l("span",ca,i(m(x).working_time)+" min prep",1)):f("",!0),m(x).waiting_time?(s(),l("span",ua,i(m(x).waiting_time)+" min cook",1)):f("",!0)],4),(s(!0),l(T,null,B(m(x).steps||[],(r,p)=>{var g;return s(),l("div",{key:p,style:e(pr.value)},[a("h4",{style:e(ke.value)},"Ingredients",4),(g=r.ingredients)!=null&&g.length?(s(),l("div",{key:0,style:e(mr.value)},[(s(!0),l(T,null,B(r.ingredients,(E,br)=>{var Ie,Ce;return s(),l("div",{key:br,style:e(vr.value)},[a("span",{style:e(yr.value)},i(E.amount||"")+" "+i(((Ie=E.unit)==null?void 0:Ie.name)||""),5),a("span",{style:e(gr.value)},i(((Ce=E.food)==null?void 0:Ce.name)||""),5),E.note?(s(),l("span",{key:0,style:e(fr.value)},"("+i(E.note)+")",5)):f("",!0)],4)}),128))],4)):f("",!0),r.instruction?(s(),l("h4",{key:1,style:e(ke.value)},"Instructions",4)):f("",!0),r.instruction?(s(),l("p",{key:2,style:e(hr.value),innerHTML:r.instruction.replace(/\n/g,"<br>")},null,12,da)):f("",!0)],4)}),128))],4),a("div",{style:e(ur.value)},[a("button",{class:"nes-btn is-error",style:{"font-size":"0.65rem"},onClick:n[9]||(n[9]=r=>Oe(m(x).id))},"Delete Recipe")],4)],4)],4)):f("",!0)],4)]),_:1})}}}),Sa=Wr(pa,[["__scopeId","data-v-7ec10eaf"]]);export{Sa as default};
