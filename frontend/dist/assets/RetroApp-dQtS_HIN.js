import{_ as De}from"./qca-IRcFUp2s.js";import{S as ze}from"./SeasonalThemeProvider-ewS_V3_x.js";import{C as je}from"./CalendarWidget-C6FIh2oB.js";import{u as Re}from"./useProjectHub-BU6P98o1.js";import{c as ie,S as be,F as Be,D as Se,T as Ae,P as Ee,a as ke,A as We,b as Fe,u as Ne}from"./useServiceMonitoring-DEE937wE.js";import{d as X,i as $e,o as fe,r as k,c as a,a as S,b as m,e,f as Q,n as t,g as v,u as z,t as u,h as Te,w as _,j as M,F as Me,k as _e,l as te,m as Oe,p as ye,T as Le,q as Ie,s as we,v as Pe,x as He}from"./index-Cb9bHEfA.js";import{_ as xe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as qe}from"./useTheme-g-avcNHO.js";import"./AtmosphericBackground-DbF0VqY1.js";import"./ScanlineOverlay-Dres_Fmy.js";import"./apiClient-C3SqeptG.js";/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=ie("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=ie("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=ie("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=ie("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Qe=X({__name:"UpcomingEventsCard",setup(c){const h=$e("fallTheme"),{theme:s}=h,{upcomingEvents:d,incompleteTasks:g,tasks:i,completedTasks:y,fetchTasks:j,fetchProjectEvents:R}=Re({taskCalendar:"tasks",eventCalendar:"personal"});fe(()=>{R(14),j()});const f=k(!1),w=a(()=>y.value.length),A=a(()=>i.value.length),p=a(()=>{const T=[s.value.primary.ramp1,s.value.primary.ramp2,s.value.primary.ramp3,s.value.primary.ramp4,s.value.primary.ramp5][2];return{border:T,text:s.value.text.bright,glow:T+"40",accent:s.value.primary.ramp4}}),B=a(()=>({background:"rgba(135, 93, 88, 0.1)",border:`4px solid ${p.value.border}`,borderRadius:"0px",padding:"var(--space-lg)",position:"relative",overflow:"hidden",cursor:"default",transition:"all var(--transition-normal)",backdropFilter:"blur(1px)",imageRendering:"pixelated",boxShadow:f.value?`
      0 8px 32px ${s.value.effects.shadow},
      0 0 20px ${p.value.glow},
      inset 3px 3px 0px ${s.value.text.primary}40,
      inset -3px -3px 0px ${s.value.effects.shadow},
      4px 4px 0px ${p.value.border}80
    `:`
      0 4px 12px ${s.value.effects.shadow},
      inset 2px 2px 0px ${s.value.text.primary}20,
      inset -2px -2px 0px ${s.value.effects.shadow},
      2px 2px 0px ${p.value.border}60
    `,transform:f.value?"translateY(-2px)":"translateY(0)",borderColor:f.value?p.value.border:p.value.border+"60"})),W=a(()=>({position:"absolute",top:"0",left:"0",right:"0",height:"2px",background:`linear-gradient(90deg, transparent, ${p.value.border}, transparent)`,opacity:f.value?"1":"0",transition:"opacity var(--transition-normal)"})),J=a(()=>({display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"var(--space-md)"})),P=a(()=>({display:"flex",alignItems:"flex-start",gap:"var(--space-sm)",flex:"1"})),E=a(()=>({width:"16px",height:"16px",color:s.value.primary.ramp4,marginTop:"2px",filter:`drop-shadow(0 0 4px ${s.value.primary.ramp4}40)`})),H=a(()=>({fontSize:"0.875rem",fontWeight:"600",color:s.value.text.bright,margin:"0",lineHeight:"1.25",textShadow:"1px 1px 0px rgba(0,0,0,0.5)"})),F=a(()=>({fontSize:"0.75rem",color:s.value.text.muted,margin:"4px 0 0 0",lineHeight:"1.25",opacity:"0.8",textShadow:"1px 1px 0px rgba(0,0,0,0.5)"})),q=a(()=>({fontSize:"1.2rem",color:p.value.accent,textDecoration:"none",padding:"4px",borderRadius:"0px",transition:"all var(--transition-normal)",filter:f.value?"brightness(1.2)":"brightness(1)",textShadow:"1px 1px 0px rgba(0,0,0,0.5)"})),U=a(()=>({display:"flex",flexDirection:"column",gap:"var(--space-sm)",marginBottom:"var(--space-md)"})),V=a(()=>({display:"flex",alignItems:"flex-start",justifyContent:"space-between",padding:"var(--space-xs)",backgroundColor:"rgba(0, 0, 0, 0.2)",border:`1px solid ${p.value.border}40`,borderRadius:"0px"})),N=a(()=>({flex:"1",marginRight:"var(--space-sm)"})),G=a(()=>({fontSize:"0.8rem",fontWeight:"500",color:s.value.text.bright,display:"block",marginBottom:"2px",textShadow:"1px 1px 0px rgba(0,0,0,0.5)"})),O=a(()=>({display:"flex",alignItems:"center",gap:"var(--space-xs)",flexWrap:"wrap"})),K=a(()=>({fontSize:"0.7rem",color:s.value.text.muted,opacity:"0.8",textShadow:"1px 1px 0px rgba(0,0,0,0.5)"})),l=D=>a(()=>({fontSize:"0.6rem",fontWeight:"500",padding:"1px 4px",borderRadius:"0px",backgroundColor:le(D),color:s.value.text.bright,textShadow:"1px 1px 0px rgba(0,0,0,0.5)",border:`1px solid ${le(D)}80`})),n=a(()=>({textAlign:"right",minWidth:"60px"})),o=a(()=>({fontSize:"0.7rem",fontWeight:"600",color:p.value.accent,textShadow:"1px 1px 0px rgba(0,0,0,0.5)"})),I=a(()=>({display:"flex",flexDirection:"column",alignItems:"center",gap:"var(--space-sm)",padding:"var(--space-lg) 0",textAlign:"center"})),Y=a(()=>({fontSize:"0.8rem",color:s.value.text.muted,opacity:"0.8",textShadow:"1px 1px 0px rgba(0,0,0,0.5)"})),Z=a(()=>({fontSize:"0.75rem",color:p.value.accent,textDecoration:"underline",textShadow:"1px 1px 0px rgba(0,0,0,0.5)"})),ce=a(()=>({borderTop:`1px solid ${p.value.border}40`,paddingTop:"var(--space-sm)",marginBottom:"var(--space-md)"})),ue=a(()=>({display:"flex",alignItems:"center",gap:"var(--space-xs)",marginBottom:"var(--space-xs)"})),pe=a(()=>({width:"12px",height:"12px",color:p.value.accent,filter:`drop-shadow(0 0 2px ${p.value.accent}40)`})),de=a(()=>({fontSize:"0.75rem",color:s.value.text.muted,opacity:"0.9",textShadow:"1px 1px 0px rgba(0,0,0,0.5)"})),ve=a(()=>({width:"100%",height:"4px",backgroundColor:"rgba(0, 0, 0, 0.3)",border:`1px solid ${p.value.border}40`,borderRadius:"0px",overflow:"hidden"})),C=()=>({width:`${A.value>0?w.value/A.value*100:0}%`,height:"100%",backgroundColor:p.value.accent,transition:"width var(--transition-normal)",filter:`drop-shadow(0 0 4px ${p.value.accent}60)`}),ae=a(()=>({display:"flex",justifyContent:"center",paddingTop:"var(--space-sm)",borderTop:`1px solid ${p.value.border}40`})),se=a(()=>({fontSize:"0.75rem",color:p.value.accent,textDecoration:"none",fontWeight:"500",textShadow:"1px 1px 0px rgba(0,0,0,0.5)",transition:"all var(--transition-normal)"})),ne=D=>{const b=new Date(D),T=new Date,$=b.toDateString()===T.toDateString(),ee=b.toDateString()===new Date(T.getTime()+24*60*60*1e3).toDateString();return $?"Today":ee?"Tomorrow":b.toLocaleDateString([],{month:"short",day:"numeric"})},me=D=>{const b=new Date,T=new Date(D).getTime()-b.getTime();if(T<0)return"Past";const $=Math.floor(T/(1e3*60*60*24)),ee=Math.floor(T%(1e3*60*60*24)/(1e3*60*60));return $>0?`${$}d`:ee>0?`${ee}h`:`${Math.floor(T%(1e3*60*60)/(1e3*60))}m`},le=D=>{switch(D){case"personal":return s.value.primary.ramp2;case"household":return s.value.primary.ramp4;case"shared":return s.value.primary.ramp3;default:return s.value.neutral.ramp3}};return(D,b)=>{const T=Te("router-link");return m(),S("div",{class:"upcoming-events-container",style:t(B.value),onMouseenter:b[0]||(b[0]=$=>f.value=!0),onMouseleave:b[1]||(b[1]=$=>f.value=!1)},[e("div",{style:t(W.value)},null,4),e("div",{style:t(J.value)},[e("div",{style:t(P.value)},[v(z(Ue),{style:t(E.value)},null,8,["style"]),e("div",null,[e("h4",{class:"nes-text",style:t(H.value)},"Upcoming Events",4),e("p",{class:"nes-text",style:t(F.value)},"Next "+u(z(d).length)+" events",5)])],4),v(T,{to:"/calendar",style:t(q.value)},{default:_(()=>[...b[2]||(b[2]=[M(" âš™ï¸ ",-1)])]),_:1},8,["style"])],4),z(d).length>0?(m(),S("div",{key:0,style:t(U.value)},[(m(!0),S(Me,null,_e(z(d),$=>(m(),S("div",{key:$.id,style:t(V.value)},[e("div",{style:t(N.value)},[e("span",{class:"nes-text",style:t(G.value)},u($.title),5),e("div",{style:t(O.value)},[e("span",{class:"nes-text",style:t(K.value)},u(ne($.startDate)),5),e("span",{class:"nes-text",style:t(l($.category))},u($.category),5)],4)],4),e("div",{style:t(n.value)},[e("span",{class:"nes-text",style:t(o.value)},u(me($.startDate)),5)],4)],4))),128))],4)):(m(),S("div",{key:1,style:t(I.value)},[e("span",{class:"nes-text",style:t(Y.value)}," No upcoming events ",4),v(T,{to:"/calendar",style:t(Z.value),class:"nes-text"},{default:_(()=>[...b[3]||(b[3]=[M(" Add your first event ",-1)])]),_:1},8,["style"])],4)),z(g).length>0?(m(),S("div",{key:2,style:t(ce.value)},[e("div",{style:t(ue.value)},[v(z(Ye),{style:t(pe.value)},null,8,["style"]),e("span",{class:"nes-text",style:t(de.value)},u(w.value)+"/"+u(A.value)+" tasks completed ",5)],4),e("div",{style:t(ve.value)},[e("div",{style:t(C()),class:"progress-bar"},null,4)],4)],4)):Q("",!0),e("div",{style:t(ae.value)},[v(T,{to:"/calendar",class:"nes-text",style:t(se.value)},{default:_(()=>[...b[4]||(b[4]=[M(" ðŸ“… Manage Calendar & Tasks ",-1)])]),_:1},8,["style"])],4)],36)}}}),Je=xe(Qe,[["__scopeId","data-v-d3e2baeb"]]),Ke={class:"sparkline"},Xe=["width","height"],Ze=["points"],et=X({__name:"ApexSparkline",props:{data:{default:()=>[]},width:{default:100},height:{default:30},color:{default:"#79d86d"}},setup(c){const h=c,s=a(()=>{if(!h.data.length)return"";const d=Math.max(...h.data,1);return h.data.map((g,i)=>`${i/(h.data.length-1)*100},${30-g/d*28}`).join(" ")});return(d,g)=>(m(),S("div",Ke,[(m(),S("svg",{width:c.width,height:c.height,viewBox:"0 0 100 30"},[e("polyline",{points:s.value,fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,8,Ze)],8,Xe))]))}}),tt={plex:"ðŸŽ¬",grafana:"ðŸ“Š",prometheus:"ðŸ”¥",qbittorrent:"â¬‡ï¸",filebrowser:"ðŸ“",proxmox:"ðŸ–¥ï¸","node-exporter":"ðŸ“ˆ",cadvisor:"ðŸ³","zfs-exporter":"ðŸ’¿","qbittorrent-exporter":"ðŸ“¥","sprite-forge":"ðŸŽ¨",comfyui:"ðŸ–¼ï¸"},at={fontFamily:"Segoe UI Emoji, Apple Color Emoji, Noto Color Emoji, sans-serif",imageRendering:"auto",fontSize:"1.25em",filter:"contrast(1.05)",display:"inline-block",textAlign:"center",lineHeight:1};function st(c){return tt[c]||null}const nt=["title"],lt=X({__name:"CompactServiceCard",props:{service:{},sparklineData:{default:()=>[]}},emits:["refresh","open","click"],setup(c,{emit:h}){const s=c,d=h,g=$e("fallTheme",null),i=a(()=>{var l;return((l=g==null?void 0:g.theme)==null?void 0:l.value)||{}}),y=k(!1),j={prometheus:ke,"node-exporter":be,cadvisor:We,"zfs-exporter":ke,"qbittorrent-exporter":Se,plex:Ee,grafana:Ae,qbittorrent:Se,filebrowser:Be,proxmox:be},R=a(()=>st(s.service.id)),f=a(()=>j[s.service.id]||Fe),w=a(()=>{var n,o,I,Y,Z;const l=i.value;switch(s.service.status){case"online":return((n=l.status)==null?void 0:n.success)||"#22c55e";case"offline":return((o=l.status)==null?void 0:o.error)||"#ef4444";case"warning":return((I=l.status)==null?void 0:I.warning)||"#eab308";case"checking":return((Y=l.status)==null?void 0:Y.warning)||"#eab308";default:return((Z=l.neutral)==null?void 0:Z.ramp3)||"#666666"}}),A=a(()=>{var l;if(s.service.responseTime)return`${s.service.responseTime}ms`;if((l=s.service.metrics)!=null&&l.uptime){const n=Math.floor(s.service.metrics.uptime/3600);return n>24?`${Math.floor(n/24)}d`:`${n}h`}return s.service.status}),p=a(()=>{var l,n;return{position:"relative",height:"72px",padding:"12px 16px",background:((l=i.value.backgrounds)==null?void 0:l.card)||"rgba(30, 30, 40, 0.8)",borderRadius:"8px",border:`1px solid ${((n=i.value.neutral)==null?void 0:n.ramp2)||"#333"}40`,cursor:"pointer",overflow:"hidden",transition:"all 0.2s ease",transform:y.value?"translateY(-2px)":"none",boxShadow:y.value?`0 8px 24px rgba(0,0,0,0.3), 0 0 0 1px ${w.value}40`:"0 2px 8px rgba(0,0,0,0.2)"}}),B=a(()=>({position:"absolute",top:0,left:0,right:0,height:"3px",background:w.value,opacity:y.value?1:.6,transition:"opacity 0.2s ease"})),W=a(()=>({display:"flex",alignItems:"center",gap:"12px",height:"100%",position:"relative",zIndex:1})),J=a(()=>({...at,fontSize:"1.4em",width:"24px",flexShrink:0,opacity:.95,transition:"transform 0.2s ease",transform:y.value?"scale(1.1)":"scale(1)"})),P=a(()=>{var l;return{width:"20px",height:"20px",color:((l=i.value.primary)==null?void 0:l.ramp4)||"#3b82f6",flexShrink:0,opacity:.9}}),E=a(()=>({flex:1,display:"flex",flexDirection:"column",gap:"2px",minWidth:0})),H=a(()=>{var l;return{fontSize:"13px",fontWeight:600,color:((l=i.value.text)==null?void 0:l.bright)||"#ffffff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}),F=a(()=>{var l;return{fontSize:"11px",color:((l=i.value.text)==null?void 0:l.muted)||"#888888",fontFamily:"monospace"}}),q=a(()=>({width:"10px",height:"10px",borderRadius:"50%",background:w.value,flexShrink:0,boxShadow:`0 0 8px ${w.value}60`,animation:s.service.status==="checking"?"pulse 1.5s infinite":"none"})),U=a(()=>({position:"absolute",bottom:"8px",right:"12px",display:"flex",gap:"4px",zIndex:2})),V=a(()=>({position:"absolute",bottom:"8px",left:"12px",right:"80px",display:"flex",alignItems:"center"})),N=a(()=>{var l,n;return{width:"24px",height:"24px",borderRadius:"4px",border:"none",background:`${((l=i.value.primary)==null?void 0:l.ramp4)||"#3b82f6"}20`,color:((n=i.value.primary)==null?void 0:n.ramp4)||"#3b82f6",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.15s ease"}}),G=()=>d("click",s.service),O=()=>d("refresh",s.service.id),K=()=>{s.service.url&&d("open",s.service.url)};return(l,n)=>(m(),S("div",{class:"compact-service-card",style:t(p.value),onMouseenter:n[0]||(n[0]=o=>y.value=!0),onMouseleave:n[1]||(n[1]=o=>y.value=!1),onClick:G},[e("div",{style:t(B.value)},null,4),e("div",{style:t(W.value)},[R.value?(m(),S("span",{key:0,style:t(J.value),class:"pixel-emoji"},u(R.value),5)):(m(),te(Oe(f.value),{key:1,style:t(P.value)},null,8,["style"])),e("div",{style:t(E.value)},[e("span",{style:t(H.value)},u(c.service.name),5),e("span",{style:t(F.value)},u(A.value),5)],4),e("div",{style:t(q.value),title:c.service.status},null,12,nt)],4),e("div",{style:t(U.value)},[e("button",{style:t(N.value),onClick:ye(O,["stop"]),title:"Refresh"},[v(z(Ge),{size:12})],4),c.service.url?(m(),S("button",{key:0,style:t(N.value),onClick:ye(K,["stop"]),title:"Open"},[v(z(Ve),{size:12})],4)):Q("",!0)],4),v(Le,{name:"fade"},{default:_(()=>[y.value&&c.sparklineData.length>0?(m(),S("div",{key:0,style:t(V.value)},[v(et,{data:c.sparklineData,height:28,color:w.value,"show-tooltip":!1},null,8,["data","color"])],4)):Q("",!0)]),_:1})],36))}}),rt=xe(lt,[["__scopeId","data-v-769fc288"]]),ot={class:"label",style:{"font-size":"0.7em",opacity:"0.7"}},it={class:"value",style:{"font-size":"1.1em","font-weight":"bold"}},oe=X({__name:"CompactMetricCard",props:{label:{},value:{},thresholds:{},mode:{},compact:{type:Boolean},max:{},unit:{}},setup(c){return(h,s)=>(m(),S("div",{class:"compact-metric",style:t({minWidth:c.compact?"80px":"120px"})},[e("span",ot,u(c.label),1),e("span",it,u(typeof c.value=="number"?c.value.toFixed(1):c.value)+u(c.unit??"%"),1)],4))}}),ct={class:"modal-content"},ut=X({__name:"ServiceDetailModal",props:{visible:{type:Boolean},service:{}},emits:["close"],setup(c){return(h,s)=>{var d,g,i;return c.visible?(m(),S("div",{key:0,class:"service-detail-modal",onClick:s[1]||(s[1]=ye(y=>h.$emit("close"),["self"]))},[e("div",ct,[e("h3",null,u((d=c.service)==null?void 0:d.name),1),e("p",null,u((g=c.service)==null?void 0:g.description),1),e("p",null,"Status: "+u((i=c.service)==null?void 0:i.status),1),e("button",{onClick:s[0]||(s[0]=y=>h.$emit("close"))},"Close")])])):Q("",!0)}}}),pt=["value"],dt=["checked"],vt=["value"],mt=["checked"],gt=["checked"],Ce="/cmd-api/ha",yt=X({__name:"LightControls",setup(c){const h=k(0),s=k(0),d=k(!1),g=k(!1),i=k(!1),y=k(!1),j=k(""),R={"Content-Type":"application/json"};async function f(){try{const l=await fetch(`${Ce}/states`,{headers:R});if(!l.ok)throw new Error(`API ${l.status}`);const n=await l.json();for(const o of n)switch(o.entity_id){case"input_number.office_brightness":h.value=Math.round(Number(o.state));break;case"input_number.basement_brightness":s.value=Math.round(Number(o.state));break;case"input_boolean.underwater_mode":i.value=o.state==="on";break;case"input_boolean.weather_ambient_lighting":y.value=o.state==="on";break;case"light.above_desk":d.value=o.state==="on";break;case"light.basement_light_1":g.value=o.state==="on";break}j.value=""}catch{j.value="HA connection failed"}}async function w(l,n,o){try{await fetch(`${Ce}/services/${l}/${n}`,{method:"POST",headers:R,body:JSON.stringify(o)}),setTimeout(f,500)}catch{j.value="Failed to call HA service"}}function A(l,n){const o=l==="office"?"input_number.office_brightness":"input_number.basement_brightness",I=Number(n);l==="office"?h.value=I:s.value=I,w("input_number","set_value",{entity_id:o,value:I})}function p(l){if(l==="office"){const n=d.value?"turn_off":"turn_on";d.value=!d.value,w("light",n,{entity_id:"light.above_desk"})}else{const n=g.value?"turn_off":"turn_on";g.value=!g.value;const o=Array.from({length:8},(I,Y)=>`light.basement_light_${Y+1}`);for(const I of o)w("light",n,{entity_id:I})}}function B(l){const o=(l.includes("underwater")?i.value:y.value)?"turn_off":"turn_on";l.includes("underwater")?i.value=!i.value:y.value=!y.value,w("input_boolean",o,{entity_id:l})}let W;fe(()=>{f(),W=setInterval(f,5e3)}),Ie(()=>{clearInterval(W)});const J=a(()=>({background:"var(--bg-card)",border:"4px solid var(--color-primary-3)",padding:"var(--space-lg)"})),P=a(()=>({marginBottom:"var(--space-md)",padding:"var(--space-sm) var(--space-md)",background:"rgba(255,255,255,0.03)",borderRadius:"4px",border:"2px solid var(--color-primary-2)"})),E=a(()=>({display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-sm)"})),H=a(()=>({fontSize:"0.7rem"})),F=a(()=>({display:"flex",alignItems:"center",gap:"var(--space-sm)"})),q=a(()=>({fontFamily:"monospace",fontSize:"0.75rem",color:"var(--text-muted)",minWidth:"36px",textAlign:"right"})),U=a(()=>({minWidth:"40px"})),V=a(()=>({padding:"0 var(--space-xs)",marginBottom:"var(--space-sm)"})),N=a(()=>({width:"100%",accentColor:"var(--color-accent-3)",cursor:"pointer"})),G=a(()=>({display:"flex",gap:"var(--space-md)",flexWrap:"wrap",fontSize:"0.65rem"})),O=a(()=>({display:"flex",alignItems:"center",gap:"4px",color:"var(--text-muted)",cursor:"pointer",fontFamily:'"Press Start 2P", monospace',fontSize:"0.55rem"})),K=a(()=>({color:"#ff4444",fontSize:"0.6rem",fontFamily:'"Press Start 2P", monospace',marginTop:"var(--space-sm)",textAlign:"center"}));return(l,n)=>(m(),S("div",{class:"nes-container with-title is-dark",style:t(J.value)},[n[10]||(n[10]=e("p",{class:"title"},"ðŸ’¡ Lights",-1)),e("div",{style:t(P.value)},[e("div",{style:t(E.value)},[e("span",{class:"nes-text",style:t(H.value)},"Office",4),e("div",{style:t(F.value)},[e("span",{style:t(q.value)},u(h.value)+"%",5),e("button",{class:we(["nes-btn is-small",d.value?"is-warning":""]),onClick:n[0]||(n[0]=o=>p("office")),style:t(U.value)},u(d.value?"ON":"OFF"),7)],4)],4),e("div",{style:t(V.value)},[e("input",{type:"range",min:"0",max:"100",value:h.value,onInput:n[1]||(n[1]=o=>A("office",o.target.value)),style:t(N.value)},null,44,pt)],4),e("div",{style:t(G.value)},[e("label",{style:t(O.value)},[e("input",{type:"checkbox",class:"nes-checkbox is-dark",checked:y.value,onChange:n[2]||(n[2]=o=>B("input_boolean.weather_ambient_lighting"))},null,40,dt),n[7]||(n[7]=e("span",null,"Weather Ambient",-1))],4)],4)],4),e("div",{style:t(P.value)},[e("div",{style:t(E.value)},[e("span",{class:"nes-text",style:t(H.value)},"Basement",4),e("div",{style:t(F.value)},[e("span",{style:t(q.value)},u(s.value)+"%",5),e("button",{class:we(["nes-btn is-small",g.value?"is-warning":""]),onClick:n[3]||(n[3]=o=>p("basement")),style:t(U.value)},u(g.value?"ON":"OFF"),7)],4)],4),e("div",{style:t(V.value)},[e("input",{type:"range",min:"0",max:"100",value:s.value,onInput:n[4]||(n[4]=o=>A("basement",o.target.value)),style:t(N.value)},null,44,vt)],4),e("div",{style:t(G.value)},[e("label",{style:t(O.value)},[e("input",{type:"checkbox",class:"nes-checkbox is-dark",checked:i.value,onChange:n[5]||(n[5]=o=>B("input_boolean.underwater_mode"))},null,40,mt),n[8]||(n[8]=e("span",null,"Underwater Mode",-1))],4),e("label",{style:t(O.value)},[e("input",{type:"checkbox",class:"nes-checkbox is-dark",checked:y.value,onChange:n[6]||(n[6]=o=>B("input_boolean.weather_ambient_lighting"))},null,40,gt),n[9]||(n[9]=e("span",null,"Weather Ambient",-1))],4)],4)],4),j.value?(m(),S("div",{key:0,style:t(K.value)},u(j.value),5)):Q("",!0)],4))}}),ft={},xt={class:"oliver-quote"};function ht(c,h){return m(),S("div",xt,[Pe(c.$slots,"default")])}const bt=xe(ft,[["render",ht]]),jt=X({__name:"RetroApp",setup(c){const h=He(),s=k(new Date().toLocaleTimeString()),d=k(!0),g=k(!0),i=k(!1),y=k(null),j=k([]),R=k(new Map),f=k({cpu:45,memory:62,disk:38,load:2.4}),{services:w,refreshService:A,startAutoRefresh:p}=Ne(),{currentSeason:B,availableThemes:W,setTheme:J,resetToAutoTheme:P}=qe(),E=k(0),H=a(()=>w.value.filter(x=>x.status==="online").length),F=x=>{if(!R.value.has(x)){const r=Array.from({length:20},()=>Math.random()*100+50);R.value.set(x,r)}return R.value.get(x)||[]},q=x=>{y.value=x,j.value=F(x.id)},U=a(()=>({minHeight:"100vh",padding:"0",margin:"0",position:"relative"})),V=a(()=>({display:"flex",justifyContent:"space-between",alignItems:"center",padding:"var(--space-lg)",background:"var(--bg-surface)",borderBottom:"4px solid var(--color-primary-3)",borderImage:"repeating-linear-gradient(90deg, var(--color-primary-3) 0px, var(--color-primary-3) 8px, var(--color-primary-4) 8px, var(--color-primary-4) 16px) 4",backdropFilter:"blur(10px)",position:"sticky",top:"0",zIndex:"50",imageRendering:"pixelated"})),N=a(()=>({fontSize:i.value?"1rem":"1.75rem",fontWeight:"700",color:"var(--text-bright)",margin:"0",textShadow:"2px 2px 4px var(--effect-shadow)",filter:"drop-shadow(0 0 8px var(--color-accent-3))",display:"flex",alignItems:"center",gap:"var(--space-sm)"})),G=a(()=>({width:"32px",height:"32px",borderRadius:"50%",imageRendering:"auto",filter:"drop-shadow(0 0 4px var(--color-accent-3))",flexShrink:"0"})),O=a(()=>({display:"flex",alignItems:"center",gap:"var(--space-md)"})),K=a(()=>({fontFamily:"monospace",fontSize:"0.9rem",color:"var(--text-muted)"})),l=a(()=>({padding:i.value?"var(--space-md)":"var(--space-lg)",maxWidth:"1400px",margin:"0 auto",display:"flex",flexDirection:"column",gap:"var(--space-lg)"})),n=a(()=>({display:"grid",gridTemplateColumns:i.value?"repeat(2, 1fr)":"repeat(4, 1fr)",gap:"var(--space-md)"})),o=a(()=>({display:"flex",alignItems:"center",justifyContent:"space-between"})),I=a(()=>({fontSize:"1rem",fontWeight:"600",color:"var(--text-bright)",margin:"0"})),Y=a(()=>({fontSize:"0.75rem",color:"var(--text-muted)"})),Z=a(()=>({display:"grid",gridTemplateColumns:i.value?"1fr":"repeat(auto-fill, minmax(200px, 1fr))",gap:"var(--space-md)"})),ce=a(()=>({display:"grid",gridTemplateColumns:i.value?"1fr":"1fr 2fr 1fr 1fr",gap:"var(--space-lg)",alignItems:"stretch"})),ue=a(()=>({background:"rgba(135, 93, 88, 0.1)",backdropFilter:"blur(1px)",border:"4px solid var(--color-primary-3)",padding:"var(--space-lg)",minHeight:"200px",height:"100%"})),pe=a(()=>({height:"100%"})),de=a(()=>({background:"rgba(135, 93, 88, 0.1)",backdropFilter:"blur(1px)",border:"4px solid var(--color-primary-3)",padding:"var(--space-lg)",height:"100%"})),ve=a(()=>({display:"flex",justifyContent:"center",gap:"var(--space-md)",flexWrap:"wrap",padding:"var(--space-lg)",background:"var(--bg-card)",borderRadius:"var(--radius-lg)",border:"1px solid var(--color-primary-2)40"})),C=a(()=>({margin:"var(--space-xs)",display:"inline-flex",alignItems:"center",gap:"4px"})),ae=()=>{s.value=new Date().toLocaleTimeString()},se=async x=>{console.log("Refreshing service:",x),await A(x),ae()},ne=x=>{x.includes("192.168.0.111:8112")?window.open("http://192.168.0.111:8112/","_blank","noopener"):window.open(x,"_blank")},me=()=>{d.value=!d.value},le=()=>{g.value=!g.value},D=()=>{E.value=(E.value+1)%W.value.length;const x=W.value[E.value];x.key===B.value?P():J(x.key)},b=x=>{switch(x){case"AUTUMN":return"ðŸ‚";case"HALLOWEEN":return"ðŸŽƒ";case"WINTER":return"â„ï¸";case"SPRING":return"ðŸŒ¸";default:return"ðŸ‚"}},T=x=>{switch(x){case"AUTUMN":return"Autumn";case"HALLOWEEN":return"Halloween";case"WINTER":return"Winter";case"SPRING":return"Spring";default:return"Autumn"}},$=()=>{i.value=window.innerWidth<768},ee=()=>{f.value={cpu:Math.min(100,Math.max(10,f.value.cpu+(Math.random()-.5)*10)),memory:Math.min(100,Math.max(20,f.value.memory+(Math.random()-.5)*5)),disk:Math.min(100,Math.max(10,f.value.disk+(Math.random()-.5)*2)),load:Math.min(8,Math.max(.5,f.value.load+(Math.random()-.5)*.5))}};let ge,he;return fe(()=>{$(),window.addEventListener("resize",$),ge=setInterval(ae,1e3),he=setInterval(ee,5e3),p()}),Ie(()=>{window.removeEventListener("resize",$),clearInterval(ge),clearInterval(he)}),(x,r)=>{const L=Te("router-link");return m(),te(ze,{"enable-scanlines":d.value,"enable-particles":g.value,"enable-animations":!0},{default:_(()=>[e("div",{style:t(U.value)},[e("header",{style:t(V.value)},[e("h1",{class:"nes-text is-primary",style:t(N.value)},[e("img",{src:De,alt:"QCA",style:t(G.value)},null,4),r[1]||(r[1]=M(" LCiBot Dashboard ",-1))],4),e("div",{style:t(O.value)},[e("span",{style:t(K.value)},u(s.value),5)],4)],4),e("main",{style:t(l.value)},[e("section",{style:t(n.value)},[v(oe,{label:"CPU",value:f.value.cpu,thresholds:{warning:70,critical:90},mode:"gauge",compact:!0},null,8,["value"]),v(oe,{label:"Memory",value:f.value.memory,thresholds:{warning:75,critical:90},mode:"gauge",compact:!0},null,8,["value"]),i.value?Q("",!0):(m(),te(oe,{key:0,label:"Disk",value:f.value.disk,thresholds:{warning:80,critical:95},mode:"gauge",compact:!0},null,8,["value"])),i.value?Q("",!0):(m(),te(oe,{key:1,label:"Load",value:f.value.load,max:8,unit:"",mode:"bar",thresholds:{warning:4,critical:6},compact:!0},null,8,["value"]))],4),e("div",{style:t(o.value)},[e("h2",{class:"nes-text",style:t(I.value)},"Services",4),e("span",{style:t(Y.value)},u(H.value)+"/"+u(z(w).length)+" online",5)],4),e("div",{style:t(Z.value)},[(m(!0),S(Me,null,_e(z(w),re=>(m(),te(rt,{key:re.id,service:re,"sparkline-data":F(re.id),onRefresh:se,onOpen:ne,onClick:q},null,8,["service","sparkline-data"]))),128))],4),e("div",{style:t(ce.value)},[z(h).features.calendarIntegration==="card"?(m(),S("div",{key:0,class:"nes-container with-title is-dark",style:t(ue.value)},[r[2]||(r[2]=e("p",{class:"title"},"ðŸ“… Calendar",-1)),v(je,{placement:"card"})],4)):Q("",!0),v(Je,{style:t(pe.value)},null,8,["style"]),v(yt),e("div",{class:"nes-container with-title is-dark",style:t(de.value)},[r[3]||(r[3]=e("p",{class:"title"},"ðŸ“’ Oliver's Almanac",-1)),v(bt,{theme:"retro"})],4)],4),e("div",{style:t(ve.value)},[e("button",{class:"nes-btn is-warning",onClick:me,style:t(C.value)},u(d.value?"Disable":"Enable")+" Scanlines ",5),e("button",{class:"nes-btn is-success",onClick:le,style:t(C.value)},u(g.value?"Disable":"Enable")+" Particles ",5),e("button",{class:"nes-btn is-primary",onClick:D,style:t(C.value)},u(b(z(B)))+" "+u(T(z(B))),5),v(L,{to:"/file-manager",class:"nes-btn is-primary",style:t(C.value)},{default:_(()=>[...r[4]||(r[4]=[e("span",{class:"nav-emoji"},"ðŸ“",-1),M(" File Manager ",-1)])]),_:1},8,["style"]),v(L,{to:"/weather",class:"nes-btn is-warning",style:t(C.value)},{default:_(()=>[...r[5]||(r[5]=[e("span",{class:"nav-emoji"},"ðŸŒ¤ï¸",-1),M(" Weather ",-1)])]),_:1},8,["style"]),v(L,{to:"/docs",class:"nes-btn is-success",style:t(C.value)},{default:_(()=>[...r[6]||(r[6]=[e("span",{class:"nav-emoji"},"ðŸ“š",-1),M(" Docs ",-1)])]),_:1},8,["style"]),v(L,{to:"/vault",class:"nes-btn",style:t([C.value,{background:"#6a9fb5",color:"white"}])},{default:_(()=>[...r[7]||(r[7]=[e("span",{class:"nav-emoji"},"ðŸ”",-1),M(" Vault ",-1)])]),_:1},8,["style"]),v(L,{to:"/nanit",class:"nes-btn",style:t([C.value,{background:"#da70d6",color:"white"}])},{default:_(()=>[...r[8]||(r[8]=[e("span",{class:"nav-emoji"},"ðŸ‘¶",-1),M(" Baby Cam ",-1)])]),_:1},8,["style"]),e("a",{href:"http://192.168.0.99:8083",target:"_blank",class:"nes-btn",style:t([C.value,{background:"#68bc71",color:"white"}])},[...r[9]||(r[9]=[e("span",{class:"nav-emoji"},"ðŸ›¡ï¸",-1),M(" AdGuard ",-1)])],4),e("a",{href:"http://192.168.0.99:8087",target:"_blank",class:"nes-btn",style:t([C.value,{background:"#ff4444",color:"white"}])},[...r[10]||(r[10]=[e("span",{class:"nav-emoji"},"ðŸ“¹",-1),M(" yt-dlp ",-1)])],4),e("a",{href:"http://192.168.0.131:8080",target:"_blank",class:"nes-btn",style:t([C.value,{background:"#f78c6c",color:"white"}])},[...r[11]||(r[11]=[e("span",{class:"nav-emoji"},"ðŸ“°",-1),M(" FreshRSS ",-1)])],4),v(L,{to:"/freezer-meals",class:"nes-btn",style:t([C.value,{background:"#e8a838",color:"white"}])},{default:_(()=>[...r[12]||(r[12]=[e("span",{class:"nav-emoji"},"ðŸ§Š",-1),M(" Freezer Meals ",-1)])]),_:1},8,["style"]),v(L,{to:"/ellabot",class:"nes-btn",style:t([C.value,{background:"#4a9eff",color:"white"}])},{default:_(()=>[...r[13]||(r[13]=[e("span",{class:"nav-emoji"},"ðŸ¤–",-1),M(" EllaBot ",-1)])]),_:1},8,["style"]),v(L,{to:"/health",class:"nes-btn",style:t([C.value,{background:"#22c55e",color:"white"}])},{default:_(()=>[...r[14]||(r[14]=[e("span",{class:"nav-emoji"},"ðŸ‹ï¸",-1),M(" Health ",-1)])]),_:1},8,["style"]),v(L,{to:"/ops",class:"nes-btn",style:t([C.value,{background:"#4a6741",color:"white"}])},{default:_(()=>[...r[15]||(r[15]=[e("span",{class:"nav-emoji"},"ðŸŽ¯",-1),M(" Ops Center ",-1)])]),_:1},8,["style"])],4)],4),v(ut,{visible:!!y.value,service:y.value,"metrics-history":j.value,onClose:r[0]||(r[0]=re=>y.value=null),onRefresh:se,onOpen:ne},null,8,["visible","service","metrics-history"])],4)]),_:1},8,["enable-scanlines","enable-particles"])}}});export{jt as default};
